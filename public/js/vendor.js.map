{"version":3,"file":"vendor.js","sources":["../../bower_components/dynatable/jquery.dynatable.js","../../bower_components/blockui/jquery.blockUI.js","../../bower_components/modernizr/modernizr.js","../../app/js/lib/jquery.maskedinput.js"],"names":["$","defaultRowWriter","rowIndex","record","columns","cellWriter","tr","i","len","length","defaultCellWriter","column","html","attributeWriter","td","hidden","textAlign","defaultAttributeWriter","this","id","defaultAttributeReader","cell","Dom","obj","settings","update","rows","table","rowWriter","writers","_rowWriter","_cellWriter","$element","trigger","dataset","records","features","recordCount","element","replaceWith","recordsCount","create","paginate","paginationLinks","perPageSelect","val","parseInt","perPage","sort","sortsHeaders","removeAllArrows","sortedByColumn","utility","allMatch","sorts","value","find","each","appendArrowUp","appendArrowDown","inputs","queries","search","allQueries","add","$this","q","data","bodyRowSelector","remove","append","DomColumns","_this","initOnLoad","is","init","getFromTable","$columns","headRowSelector","children","index","error","$column","position","skipAppend","skipUpdate","label","text","normalizeText","defaultColumnIdStyle","dataSorts","map","split","trim","generate","splice","_attributeWriter","attributeReader","readers","_attributeReader","css","attr","addClass","headRowClass","domPosition","$sibling","first","columnsAfter","slice","before","attachOne","get","dom","dt","columnIndexOrId","removeFromTable","removeFromArray","columnId","adjustColumns","$cell","undefined","attachGeneratedAttributes","increment","Records","ajax","queryRecordCount","count","totalRecordCount","originalRecords","extend","updateFromJson","params","sortsKeys","sortTypes","sortFunction","a","b","comparison","isEmptyObject","functions","direction","sortType","guessType","call","bounds","pageBounds","last","resetOriginal","page","Math","min","tableRecords","domColumns","match","_rowReader","push","RecordsCount","attach","recordsShown","recordsQueryCount","recordsTotal","recordCountText","collection_name","class","$target","recordCountTarget","recordCountPlacement","ProcessingIndicator","$processing","processingText","style","$span","spanHeight","outerHeight","spanWidth","outerWidth","$covered","offset","height","width","left","top","show","hide","State","pushState","history","window","onpopstate","event","state","dynatable","pop","urlOptions","path","hash","cacheStr","cache","urlString","location","firstPush","pushFunction","test","substring","refreshQueryString","pathname","scrollTop","JSON","stringify","perPageOptions","makeArray","process","Sorts","sortsUrl","RegExp","deserialize","keysFromObject","inArray","clear","types","string","number","boolean","object","attrType","type","aAttr","bAttr","toLowerCase","originalPlacement","SortsHeaders","$link","href","findObjectInArray","bind","e","toggleSort","preventDefault","sortedByColumnValue","removeAll","removeOne","removeArrow","multisort","anyMatch","evt","key","Queries","queriesUrl","setupInputs","name","run","query","hasOwnProperty","queryColumn","queryValue","runSearch","origQueries","objectsEqual","queryEvent","queryFunction","which","decodeURIComponent","contains","attrValue","indexOf","InputsSearch","$search","data-dynatable-query","$searchSpan","searchTarget","searchPlacement","PaginationPage","pageUrl","set","PaginationPerPage","perPageUrl","perPageDefault","$select","selected","perPageText","perPageTarget","perPagePlacement","skipResetPage","paginationPage","PaginationLinks","pageLinks","paginationClass","pageLinkClass","paginationLinkClass","activePageClass","paginationActiveClass","disabledPageClass","paginationDisabledClass","pages","ceil","breaks","paginationGap","breakIndex","nextBreak","li","buildLink","ellip","paginationPrev","prevLi","paginationPrevClass","paginationNext","nextLi","paginationNextClass","selector","document","undelegate","delegate","closest","removeClass","linkClass","conditional","conditionalClass","link","paginationLinkTarget","paginationLinkPlacement","defaults","mergeSettings","Model","build","processAll","modelPrototypes","processingIndicator","inputsSearch","paginationPerPage","ajaxUrl","ajaxCache","ajaxOnLoad","ajaxMethod","ajaxDataType","options","skipPushState","newOptions","model","modelInstance","ajaxData","dataType","xhr","success","response","complete","url","modelPrototype","prototype","textTransform","trimDash","replace","camelCase","$1","toUpperCase","$2","$3","dashed","lowercase","underscore","join","vars","v","m","pair","k","origV","substr","queryString","shift","param","inputQueries","decodeURI","keys","array","objectAttr","foundObject","item","arrayOrObject","isArray","result","randomHash","random","toString","Object","o","F","dynatableSetup","fn","jQuery","setup","install","el","opts","themedCSS","full","msg","message","blockUI","ignoreIfBlocked","overlayCSS","onOverlayClick","cursor","pageBlock","fadeOut","parentNode","jquery","node","parent","display","removeChild","onUnblock","lyr1","lyr2","lyr3","s","z","baseZ","msie","forceIframe","iframeSrc","theme","blockMsgClass","title","layers","$par","appendTo","draggable","handle","cancel","expr","setExpr","support","boxModel","ie6","allowBodyStretch","t","sz","l","fixT","fixL","setExpression","quirksmodeOffsetHack","centerY","marginTop","expression","nodeType","showOverlay","fadeIn","cb","onBlock","noOp","cb1","cb2","_fadeIn","pageBlockEls","focusableElements","focusInput","setTimeout","focus","center","centerX","timeout","to","unblockUI","unblock","$el","clearTimeout","removeData","els","filter","cursorReset","stop","reset","appendChild","body","w","cssW","bindEvents","events","handler","unbind","keyCode","constrainTabKey","fwd","shiftKey","target","back","hasClass","parents","x","y","p","offsetWidth","offsetHeight","noop","navigator","userAgent","documentMode","isFunction","createElement","growlUI","onClose","$m","callBlock","growlCSS","mouseover","displayBlock","fadeTo","mouseout","block","fullOpts","zoom","version","padding","margin","color","border","backgroundColor","opacity","right","-webkit-border-radius","-moz-border-radius","border-radius","define","amd","Modernizr","setCss","str","mStyle","cssText","setCssAll","str1","str2","prefixes","testProps","props","prefixed","prop","testDOMProps","elem","testPropsAll","ucProp","charAt","cssomPrefixes","webforms","attrs","inputElem","list","HTMLDataListElement","bool","inputElemType","defaultView","setAttribute","smile","WebkitAppearance","docElement","getComputedStyle","checkValidity","featureName","hasOwnProp","enableClasses","documentElement","mod","modElem","omPrefixes","domPrefixes","ns","svg","tests","classes","injectElementWithStyles","rule","callback","nodes","testnames","ret","docOverflow","div","fakeBody","innerHTML","background","overflow","testMediaQuery","mq","matchMedia","msMatchMedia","matches","currentStyle","isEventSupported","eventName","TAGNAMES","isSupported","removeAttribute","select","change","submit","load","abort","_hasOwnProperty","property","constructor","Function","that","TypeError","args","arguments","bound","self","apply","concat","getContext","fillText","WebGLRenderingContext","DocumentTouch","offsetTop","postMessage","openDatabase","textShadow","str3","backgroundImage","offsetLeft","getElementById","sheet","styleSheet","cssRules","canPlayType","Boolean","ogg","h264","webm","mp3","wav","m4a","localStorage","setItem","removeItem","sessionStorage","Worker","applicationCache","createElementNS","createSVGRect","firstChild","namespaceURI","feature","input","addTest","className","addStyleSheet","ownerDocument","getElementsByTagName","insertBefore","lastChild","getElements","elements","html5","getExpandoData","expandoData","expando","expanID","nodeName","supportsUnknownElements","cloneNode","saveClones","createElem","canHaveChildren","reSkip","tagUrn","frag","createDocumentFragment","clone","elems","shivMethods","createFrag","shivDocument","shivCSS","supportsHtml5Styles","hasCSS","childNodes","_version","_prefixes","_domPrefixes","_cssomPrefixes","hasEvent","testProp","testAllProps","testStyles","exports","require","c","d","f","mask","definitions",9,"*","autoclear","dataName","placeholder","caret","setSelectionRange","createTextRange","collapse","moveEnd","moveStart","selectionStart","selectionEnd","selection","createRange","duplicate","begin","end","unmask","g","h","j","n","completed","C","B","r","max","u","A","E","ctrlKey","altKey","metaKey","String","fromCharCode","proxy","D","one","off","on"],"mappings":"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","sourcesContent":["/*\n * jQuery Dynatable plugin 0.3.1\n *\n * Copyright (c) 2014 Steve Schwartz (JangoSteve)\n *\n * Dual licensed under the AGPL and Proprietary licenses:\n *   http://www.dynatable.com/license/\n *\n * Date: Tue Jan 02 2014\n */\n//\n\n(function($) {\n  var defaults,\n      mergeSettings,\n      dt,\n      Model,\n      modelPrototypes = {\n        dom: Dom,\n        domColumns: DomColumns,\n        records: Records,\n        recordsCount: RecordsCount,\n        processingIndicator: ProcessingIndicator,\n        state: State,\n        sorts: Sorts,\n        sortsHeaders: SortsHeaders,\n        queries: Queries,\n        inputsSearch: InputsSearch,\n        paginationPage: PaginationPage,\n        paginationPerPage: PaginationPerPage,\n        paginationLinks: PaginationLinks\n      },\n      utility,\n      build,\n      processAll,\n      initModel,\n      defaultRowWriter,\n      defaultCellWriter,\n      defaultAttributeWriter,\n      defaultAttributeReader;\n\n  //-----------------------------------------------------------------\n  // Cached plugin global defaults\n  //-----------------------------------------------------------------\n\n  defaults = {\n    features: {\n      paginate: true,\n      sort: true,\n      pushState: true,\n      search: true,\n      recordCount: true,\n      perPageSelect: true\n    },\n    table: {\n      defaultColumnIdStyle: 'camelCase',\n      columns: null,\n      headRowSelector: 'thead tr', // or e.g. tr:first-child\n      bodyRowSelector: 'tbody tr',\n      headRowClass: null\n    },\n    inputs: {\n      queries: null,\n      sorts: null,\n      multisort: ['ctrlKey', 'shiftKey', 'metaKey'],\n      page: null,\n      queryEvent: 'blur change',\n      recordCountTarget: null,\n      recordCountPlacement: 'after',\n      paginationLinkTarget: null,\n      paginationLinkPlacement: 'after',\n      paginationClass: 'dynatable-pagination-links',\n      paginationLinkClass: 'dynatable-page-link',\n      paginationPrevClass: 'dynatable-page-prev',\n      paginationNextClass: 'dynatable-page-next',\n      paginationActiveClass: 'dynatable-active-page',\n      paginationDisabledClass: 'dynatable-disabled-page',\n      paginationPrev: 'Previous',\n      paginationNext: 'Next',\n      paginationGap: [1,2,2,1],\n      searchTarget: null,\n      searchPlacement: 'before',\n      perPageTarget: null,\n      perPagePlacement: 'before',\n      perPageText: 'Show: ',\n      recordCountText: 'Showing ',\n      processingText: 'Processing...'\n    },\n    dataset: {\n      ajax: false,\n      ajaxUrl: null,\n      ajaxCache: null,\n      ajaxOnLoad: false,\n      ajaxMethod: 'GET',\n      ajaxDataType: 'json',\n      totalRecordCount: null,\n      queries: {},\n      queryRecordCount: null,\n      page: null,\n      perPageDefault: 10,\n      perPageOptions: [10,20,50,100],\n      sorts: {},\n      sortsKeys: null,\n      sortTypes: {},\n      records: null\n    },\n    writers: {\n      _rowWriter: defaultRowWriter,\n      _cellWriter: defaultCellWriter,\n      _attributeWriter: defaultAttributeWriter\n    },\n    readers: {\n      _rowReader: null,\n      _attributeReader: defaultAttributeReader\n    },\n    params: {\n      dynatable: 'dynatable',\n      queries: 'queries',\n      sorts: 'sorts',\n      page: 'page',\n      perPage: 'perPage',\n      offset: 'offset',\n      records: 'operaes',\n      record: null,\n      queryRecordCount: 'queryRecordCount',\n      totalRecordCount: 'totalRecordCount'\n    }\n  };\n\n  //-----------------------------------------------------------------\n  // Each dynatable instance inherits from this,\n  // set properties specific to instance\n  //-----------------------------------------------------------------\n\n  dt = {\n    init: function(element, options) {\n      this.settings = mergeSettings(options);\n      this.element = element;\n      this.$element = $(element);\n\n      // All the setup that doesn't require element or options\n      build.call(this);\n\n      return this;\n    },\n\n    process: function(skipPushState) {\n      processAll.call(this, skipPushState);\n    }\n  };\n\n  //-----------------------------------------------------------------\n  // Cached plugin global functions\n  //-----------------------------------------------------------------\n\n  mergeSettings = function(options) {\n    var newOptions = $.extend(true, {}, defaults, options);\n\n    // TODO: figure out a better way to do this.\n    // Doing `extend(true)` causes any elements that are arrays\n    // to merge the default and options arrays instead of overriding the defaults.\n    if (options) {\n      if (options.inputs) {\n        if (options.inputs.multisort) {\n          newOptions.inputs.multisort = options.inputs.multisort;\n        }\n        if (options.inputs.paginationGap) {\n          newOptions.inputs.paginationGap = options.inputs.paginationGap;\n        }\n      }\n      if (options.dataset && options.dataset.perPageOptions) {\n        newOptions.dataset.perPageOptions = options.dataset.perPageOptions;\n      }\n    }\n\n    return newOptions;\n  };\n\n  build = function() {\n    this.$element.trigger('dynatable:preinit', this);\n\n    for (model in modelPrototypes) {\n      if (modelPrototypes.hasOwnProperty(model)) {\n        var modelInstance = this[model] = new modelPrototypes[model](this, this.settings);\n        if (modelInstance.initOnLoad()) {\n          modelInstance.init();\n        }\n      }\n    }\n\n    this.$element.trigger('dynatable:init', this);\n\n    if (!this.settings.dataset.ajax || (this.settings.dataset.ajax && this.settings.dataset.ajaxOnLoad) || this.settings.features.paginate) {\n      this.process();\n    }\n  };\n\n  processAll = function(skipPushState) {\n    var data = {};\n\n    this.$element.trigger('dynatable:beforeProcess', data);\n\n    if (!$.isEmptyObject(this.settings.dataset.queries)) { data[this.settings.params.queries] = this.settings.dataset.queries; }\n    // TODO: Wrap this in a try/rescue block to hide the processing indicator and indicate something went wrong if error\n    this.processingIndicator.show();\n\n    if (this.settings.features.sort && !$.isEmptyObject(this.settings.dataset.sorts)) { data[this.settings.params.sorts] = this.settings.dataset.sorts; }\n    if (this.settings.features.paginate && this.settings.dataset.page) {\n      var page = this.settings.dataset.page,\n          perPage = this.settings.dataset.perPage;\n      data[this.settings.params.page] = page;\n      data[this.settings.params.perPage] = perPage;\n      data[this.settings.params.offset] = (page - 1) * perPage;\n    }\n    if (this.settings.dataset.ajaxData) { $.extend(data, this.settings.dataset.ajaxData); }\n\n    // If ajax, sends query to ajaxUrl with queries and sorts serialized and appended in ajax data\n    // otherwise, executes queries and sorts on in-page data\n    if (this.settings.dataset.ajax) {\n      var _this = this;\n      var options = {\n        type: _this.settings.dataset.ajaxMethod,\n        dataType: _this.settings.dataset.ajaxDataType,\n        data: data,\n        error: function(xhr, error) {\n        },\n        success: function(response) {\n          _this.$element.trigger('dynatable:ajax:success', response);\n          // Merge ajax results and meta-data into dynatables cached data\n          _this.records.updateFromJson(response);\n          // update table with new records\n          _this.dom.update();\n\n          if (!skipPushState && _this.state.initOnLoad()) {\n            _this.state.push(data);\n          }\n        },\n        complete: function() {\n          _this.processingIndicator.hide();\n        }\n      };\n      // Do not pass url to `ajax` options if blank\n      if (this.settings.dataset.ajaxUrl) {\n        options.url = this.settings.dataset.ajaxUrl;\n\n      // If ajaxUrl is blank, then we're using the current page URL,\n      // we need to strip out any query, sort, or page data controlled by dynatable\n      // that may have been in URL when page loaded, so that it doesn't conflict with\n      // what's passed in with the data ajax parameter\n      } else {\n        options.url = utility.refreshQueryString(window.location.href, {}, this.settings);\n      }\n      if (this.settings.dataset.ajaxCache !== null) { options.cache = this.settings.dataset.ajaxCache; }\n\n      $.ajax(options);\n    } else {\n      this.records.resetOriginal();\n      this.queries.run();\n      if (this.settings.features.sort) {\n        this.records.sort();\n      }\n      if (this.settings.features.paginate) {\n        this.records.paginate();\n      }\n      this.dom.update();\n      this.processingIndicator.hide();\n\n      if (!skipPushState && this.state.initOnLoad()) {\n        this.state.push(data);\n      }\n    }\n    this.$element.trigger('dynatable:afterProcess', data);\n  };\n\n  function defaultRowWriter(rowIndex, record, columns, cellWriter) {\n    var tr = '';\n\n    // grab the record's attribute for each column\n    for (var i = 0, len = columns.length; i < len; i++) {\n      tr += cellWriter(columns[i], record);\n    }\n\n    return '<tr>' + tr + '</tr>';\n  };\n\n  function defaultCellWriter(column, record) {\n    var html = column.attributeWriter(record),\n        td = '<td';\n\n    if (column.hidden || column.textAlign) {\n      td += ' style=\"';\n\n      // keep cells for hidden column headers hidden\n      if (column.hidden) {\n        td += 'display: none;';\n      }\n\n      // keep cells aligned as their column headers are aligned\n      if (column.textAlign) {\n        td += 'text-align: ' + column.textAlign + ';';\n      }\n\n      td += '\"';\n    }\n\n    return td + '>' + html + '</td>';\n  };\n\n  function defaultAttributeWriter(record) {\n    // `this` is the column object in settings.columns\n    // TODO: automatically convert common types, such as arrays and objects, to string\n    return record[this.id];\n  };\n\n  function defaultAttributeReader(cell, record) {\n    return $(cell).html();\n  };\n\n  //-----------------------------------------------------------------\n  // Dynatable object model prototype\n  // (all object models get these default functions)\n  //-----------------------------------------------------------------\n\n  Model = {\n    initOnLoad: function() {\n      return true;\n    },\n\n    init: function() {}\n  };\n\n  for (model in modelPrototypes) {\n    if (modelPrototypes.hasOwnProperty(model)) {\n      var modelPrototype = modelPrototypes[model];\n      modelPrototype.prototype = Model;\n    }\n  }\n\n  //-----------------------------------------------------------------\n  // Dynatable object models\n  //-----------------------------------------------------------------\n\n  function Dom(obj, settings) {\n    var _this = this;\n\n    // update table contents with new records array\n    // from query (whether ajax or not)\n    this.update = function() {\n      var rows = '',\n          columns = settings.table.columns,\n          rowWriter = settings.writers._rowWriter,\n          cellWriter = settings.writers._cellWriter;\n\n      obj.$element.trigger('dynatable:beforeUpdate', rows);\n\n      // loop through records\n      for (var i = 0, len = settings.dataset.records.length; i < len; i++) {\n        var record = settings.dataset.records[i],\n            tr = rowWriter(i, record, columns, cellWriter);\n        rows += tr;\n      }\n\n      // Appended dynatable interactive elements\n      if (settings.features.recordCount) {\n        $('#dynatable-record-count-' + obj.element.id).replaceWith(obj.recordsCount.create());\n      }\n      if (settings.features.paginate) {\n        $('#dynatable-pagination-links-' + obj.element.id).replaceWith(obj.paginationLinks.create());\n        if (settings.features.perPageSelect) {\n          $('#dynatable-per-page-' + obj.element.id).val(parseInt(settings.dataset.perPage));\n        }\n      }\n\n      // Sort headers functionality\n      if (settings.features.sort && columns) {\n        obj.sortsHeaders.removeAllArrows();\n        for (var i = 0, len = columns.length; i < len; i++) {\n          var column = columns[i],\n              sortedByColumn = utility.allMatch(settings.dataset.sorts, column.sorts, function(sorts, sort) { return sort in sorts; }),\n              value = settings.dataset.sorts[column.sorts[0]];\n\n          if (sortedByColumn) {\n            obj.$element.find('[data-dynatable-column=\"' + column.id + '\"]').find('.dynatable-sort-header').each(function(){\n              if (value == 1) {\n                obj.sortsHeaders.appendArrowUp($(this));\n              } else {\n                obj.sortsHeaders.appendArrowDown($(this));\n              }\n            });\n          }\n        }\n      }\n\n      // Query search functionality\n      if (settings.inputs.queries || settings.features.search) {\n        var allQueries = settings.inputs.queries || $();\n        if (settings.features.search) {\n          allQueries = allQueries.add('#dynatable-query-search-' + obj.element.id);\n        }\n\n        allQueries.each(function() {\n          var $this = $(this),\n              q = settings.dataset.queries[$this.data('dynatable-query')];\n          $this.val(q || '');\n        });\n      }\n\n      obj.$element.find(settings.table.bodyRowSelector).remove();\n      obj.$element.append(rows);\n\n      obj.$element.trigger('dynatable:afterUpdate', rows);\n    };\n  };\n\n  function DomColumns(obj, settings) {\n    var _this = this;\n\n    this.initOnLoad = function() {\n      return obj.$element.is('table');\n    };\n\n    this.init = function() {\n      settings.table.columns = [];\n      this.getFromTable();\n    };\n\n    // initialize table[columns] array\n    this.getFromTable = function() {\n      var $columns = obj.$element.find(settings.table.headRowSelector).children('th,td');\n      if ($columns.length) {\n        $columns.each(function(index){\n          _this.add($(this), index, true);\n        });\n      } else {\n        return $.error(\"Couldn't find any columns headers in '\" + settings.table.headRowSelector + \" th,td'. If your header row is different, specify the selector in the table: headRowSelector option.\");\n      }\n    };\n\n    this.add = function($column, position, skipAppend, skipUpdate) {\n      var columns = settings.table.columns,\n          label = $column.text(),\n          id = $column.data('dynatable-column') || utility.normalizeText(label, settings.table.defaultColumnIdStyle),\n          dataSorts = $column.data('dynatable-sorts'),\n          sorts = dataSorts ? $.map(dataSorts.split(','), function(text) { return $.trim(text); }) : [id];\n\n      // If the column id is blank, generate an id for it\n      if ( !id ) {\n        this.generate($column);\n        id = $column.data('dynatable-column');\n      }\n      // Add column data to plugin instance\n      columns.splice(position, 0, {\n        index: position,\n        label: label,\n        id: id,\n        attributeWriter: settings.writers[id] || settings.writers._attributeWriter,\n        attributeReader: settings.readers[id] || settings.readers._attributeReader,\n        sorts: sorts,\n        hidden: $column.css('display') === 'none',\n        textAlign: $column.css('text-align')\n      });\n\n      // Modify header cell\n      $column\n        .attr('data-dynatable-column', id)\n        .addClass('dynatable-head');\n      if (settings.table.headRowClass) { $column.addClass(settings.table.headRowClass); }\n\n      // Append column header to table\n      if (!skipAppend) {\n        var domPosition = position + 1,\n            $sibling = obj.$element.find(settings.table.headRowSelector)\n              .children('th:nth-child(' + domPosition + '),td:nth-child(' + domPosition + ')').first(),\n            columnsAfter = columns.slice(position + 1, columns.length);\n\n        if ($sibling.length) {\n          $sibling.before($column);\n        // sibling column doesn't yet exist (maybe this is the last column in the header row)\n        } else {\n          obj.$element.find(settings.table.headRowSelector).append($column);\n        }\n\n        obj.sortsHeaders.attachOne($column.get());\n\n        // increment the index of all columns after this one that was just inserted\n        if (columnsAfter.length) {\n          for (var i = 0, len = columnsAfter.length; i < len; i++) {\n            columnsAfter[i].index += 1;\n          }\n        }\n\n        if (!skipUpdate) {\n          obj.dom.update();\n        }\n      }\n\n      return dt;\n    };\n\n    this.remove = function(columnIndexOrId) {\n      var columns = settings.table.columns,\n          length = columns.length;\n\n      if (typeof(columnIndexOrId) === \"number\") {\n        var column = columns[columnIndexOrId];\n        this.removeFromTable(column.id);\n        this.removeFromArray(columnIndexOrId);\n      } else {\n        // Traverse columns array in reverse order so that subsequent indices\n        // don't get messed up when we delete an item from the array in an iteration\n        for (var i = columns.length - 1; i >= 0; i--) {\n          var column = columns[i];\n\n          if (column.id === columnIndexOrId) {\n            this.removeFromTable(columnIndexOrId);\n            this.removeFromArray(i);\n          }\n        }\n      }\n\n      obj.dom.update();\n    };\n\n    this.removeFromTable = function(columnId) {\n      obj.$element.find(settings.table.headRowSelector).children('[data-dynatable-column=\"' + columnId + '\"]').first()\n        .remove();\n    };\n\n    this.removeFromArray = function(index) {\n      var columns = settings.table.columns,\n          adjustColumns;\n      columns.splice(index, 1);\n      adjustColumns = columns.slice(index, columns.length);\n      for (var i = 0, len = adjustColumns.length; i < len; i++) {\n        adjustColumns[i].index -= 1;\n      }\n    };\n\n    this.generate = function($cell) {\n      var cell = $cell === undefined ? $('<th></th>') : $cell;\n      return this.attachGeneratedAttributes(cell);\n    };\n\n    this.attachGeneratedAttributes = function($cell) {\n      // Use increment to create unique column name that is the same each time the page is reloaded,\n      // in order to avoid errors with mismatched attribute names when loading cached `dataset.records` array\n      var increment = obj.$element.find(settings.table.headRowSelector).children('th[data-dynatable-generated]').length;\n      return $cell\n        .attr('data-dynatable-column', 'dynatable-generated-' + increment) //+ utility.randomHash(),\n        .attr('data-dynatable-no-sort', 'true')\n        .attr('data-dynatable-generated', increment);\n    };\n  };\n\n  function Records(obj, settings) {\n    var _this = this;\n\n    this.initOnLoad = function() {\n      return !settings.dataset.ajax;\n    };\n\n    this.init = function() {\n      if (settings.dataset.records === null) {\n        settings.dataset.records = this.getFromTable();\n\n        if (!settings.dataset.queryRecordCount) {\n          settings.dataset.queryRecordCount = this.count();\n        }\n\n        if (!settings.dataset.totalRecordCount){\n          settings.dataset.totalRecordCount = settings.dataset.queryRecordCount;\n        }\n      }\n\n      // Create cache of original full recordset (unpaginated and unqueried)\n      settings.dataset.originalRecords = $.extend(true, [], settings.dataset.records);\n    };\n\n    // merge ajax response json with cached data including\n    // meta-data and records\n    this.updateFromJson = function(data) {\n      var records;\n      if (settings.params.records === \"_root\") {\n        records = data;\n      } else if (settings.params.records in data) {\n        records = data[settings.params.records];\n      }\n      if (settings.params.record) {\n        var len = records.length - 1;\n        for (var i = 0; i < len; i++) {\n          records[i] = records[i][settings.params.record];\n        }\n      }\n      if (settings.params.queryRecordCount in data) {\n        settings.dataset.queryRecordCount = data[settings.params.queryRecordCount];\n      }\n      if (settings.params.totalRecordCount in data) {\n        settings.dataset.totalRecordCount = data[settings.params.totalRecordCount];\n      }\n      settings.dataset.records = records;\n    };\n\n    // For really advanced sorting,\n    // see http://james.padolsey.com/javascript/sorting-elements-with-jquery/\n    this.sort = function() {\n      var sort = [].sort,\n          sorts = settings.dataset.sorts,\n          sortsKeys = settings.dataset.sortsKeys,\n          sortTypes = settings.dataset.sortTypes;\n\n      var sortFunction = function(a, b) {\n        var comparison;\n        if ($.isEmptyObject(sorts)) {\n          comparison = obj.sorts.functions['originalPlacement'](a, b);\n        } else {\n          for (var i = 0, len = sortsKeys.length; i < len; i++) {\n            var attr = sortsKeys[i],\n                direction = sorts[attr],\n                sortType = sortTypes[attr] || obj.sorts.guessType(a, b, attr);\n            comparison = obj.sorts.functions[sortType](a, b, attr, direction);\n            // Don't need to sort any further unless this sort is a tie between a and b,\n            // so break the for loop unless tied\n            if (comparison !== 0) { break; }\n          }\n        }\n        return comparison;\n      }\n\n      return sort.call(settings.dataset.records, sortFunction);\n    };\n\n    this.paginate = function() {\n      var bounds = this.pageBounds(),\n          first = bounds[0], last = bounds[1];\n      settings.dataset.records = settings.dataset.records.slice(first, last);\n    };\n\n    this.resetOriginal = function() {\n      settings.dataset.records = settings.dataset.originalRecords || [];\n    };\n\n    this.pageBounds = function() {\n      var page = settings.dataset.page || 1,\n          first = (page - 1) * settings.dataset.perPage,\n          last = Math.min(first + settings.dataset.perPage, settings.dataset.queryRecordCount);\n      return [first,last];\n    };\n\n    // get initial recordset to populate table\n    // if ajax, call ajaxUrl\n    // otherwise, initialize from in-table records\n    this.getFromTable = function() {\n      var records = [],\n          columns = settings.table.columns,\n          tableRecords = obj.$element.find(settings.table.bodyRowSelector);\n\n      tableRecords.each(function(index){\n        var record = {};\n        record['dynatable-original-index'] = index;\n        $(this).find('th,td').each(function(index) {\n          if (columns[index] === undefined) {\n            // Header cell didn't exist for this column, so let's generate and append\n            // a new header cell with a randomly generated name (so we can store and\n            // retrieve the contents of this column for each record)\n            obj.domColumns.add(obj.domColumns.generate(), columns.length, false, true); // don't skipAppend, do skipUpdate\n          }\n          var value = columns[index].attributeReader(this, record),\n              attr = columns[index].id;\n\n          // If value from table is HTML, let's get and cache the text equivalent for\n          // the default string sorting, since it rarely makes sense for sort headers\n          // to sort based on HTML tags.\n          if (typeof(value) === \"string\" && value.match(/\\s*\\<.+\\>/)) {\n            if (! record['dynatable-sortable-text']) {\n              record['dynatable-sortable-text'] = {};\n            }\n            record['dynatable-sortable-text'][attr] = $.trim($('<div></div>').html(value).text());\n          }\n\n          record[attr] = value;\n        });\n        // Allow configuration function which alters record based on attributes of\n        // table row (e.g. from html5 data- attributes)\n        if (typeof(settings.readers._rowReader) === \"function\") {\n          settings.readers._rowReader(index, this, record);\n        }\n        records.push(record);\n      });\n      return records; // 1st row is header\n    };\n\n    // count records from table\n    this.count = function() {\n      return settings.dataset.records.length;\n    };\n  };\n\n  function RecordsCount(obj, settings) {\n    this.initOnLoad = function() {\n      return settings.features.recordCount;\n    };\n\n    this.init = function() {\n      this.attach();\n    };\n\n    this.create = function() {\n      var recordsShown = obj.records.count(),\n          recordsQueryCount = settings.dataset.queryRecordCount,\n          recordsTotal = settings.dataset.totalRecordCount,\n          text = settings.inputs.recordCountText,\n          collection_name = settings.params.records;\n\n      if (recordsShown < recordsQueryCount && settings.features.paginate) {\n        var bounds = obj.records.pageBounds();\n        text += \"<span class='dynatable-record-bounds'>\" + (bounds[0] + 1) + \" to \" + bounds[1] + \"</span> de \";\n      } else if (recordsShown === recordsQueryCount && settings.features.paginate) {\n        text += recordsShown + \" de \";\n      }\n      text += recordsQueryCount + \" \" + collection_name;\n      if (recordsQueryCount < recordsTotal) {\n        text += \" (filtrando \" + recordsTotal + \" operaes)\";\n      }\n\n      return $('<span></span>', {\n                id: 'dynatable-record-count-' + obj.element.id,\n                'class': 'dynatable-record-count',\n                html: text\n              });\n    };\n\n    this.attach = function() {\n      var $target = settings.inputs.recordCountTarget ? $(settings.inputs.recordCountTarget) : obj.$element;\n      $target[settings.inputs.recordCountPlacement](this.create());\n    };\n  };\n\n  function ProcessingIndicator(obj, settings) {\n    this.init = function() {\n      this.attach();\n    };\n\n    this.create = function() {\n      var $processing = $('<div></div>', {\n            html: '<span>' + settings.inputs.processingText + '</span>',\n            id: 'dynatable-processing-' + obj.element.id,\n            'class': 'dynatable-processing',\n            style: 'position: absolute; display: none;'\n          });\n\n      return $processing;\n    };\n\n    this.position = function() {\n      var $processing = $('#dynatable-processing-' + obj.element.id),\n          $span = $processing.children('span'),\n          spanHeight = $span.outerHeight(),\n          spanWidth = $span.outerWidth(),\n          $covered = obj.$element,\n          offset = $covered.offset(),\n          height = $covered.outerHeight(), width = $covered.outerWidth();\n\n      $processing\n        .offset({left: offset.left, top: offset.top})\n        .width(width)\n        .height(height)\n      $span\n        .offset({left: offset.left + ( (width - spanWidth) / 2 ), top: offset.top + ( (height - spanHeight) / 2 )});\n\n      return $processing;\n    };\n\n    this.attach = function() {\n      obj.$element.before(this.create());\n    };\n\n    this.show = function() {\n      $('#dynatable-processing-' + obj.element.id).show();\n      this.position();\n    };\n\n    this.hide = function() {\n      $('#dynatable-processing-' + obj.element.id).hide();\n    };\n  };\n\n  function State(obj, settings) {\n    this.initOnLoad = function() {\n      // Check if pushState option is true, and if browser supports it\n      return settings.features.pushState && history.pushState;\n    };\n\n    this.init = function() {\n      window.onpopstate = function(event) {\n        if (event.state && event.state.dynatable) {\n          obj.state.pop(event);\n        }\n      }\n    };\n\n    this.push = function(data) {\n      var urlString = window.location.search,\n          urlOptions,\n          path,\n          params,\n          hash,\n          newParams,\n          cacheStr,\n          cache,\n          // replaceState on initial load, then pushState after that\n          firstPush = !(window.history.state && window.history.state.dynatable),\n          pushFunction = firstPush ? 'replaceState' : 'pushState';\n\n      if (urlString && /^\\?/.test(urlString)) { urlString = urlString.substring(1); }\n      $.extend(urlOptions, data);\n\n      params = utility.refreshQueryString(urlString, data, settings);\n      if (params) { params = '?' + params; }\n      hash = window.location.hash;\n      path = window.location.pathname;\n\n      obj.$element.trigger('dynatable:push', data);\n\n      cache = { dynatable: { dataset: settings.dataset } };\n      if (!firstPush) { cache.dynatable.scrollTop = $(window).scrollTop(); }\n      cacheStr = JSON.stringify(cache);\n\n      // Mozilla has a 640k char limit on what can be stored in pushState.\n      // See \"limit\" in https://developer.mozilla.org/en/DOM/Manipulating_the_browser_history#The_pushState().C2.A0method\n      // and \"dataStr.length\" in http://wine.git.sourceforge.net/git/gitweb.cgi?p=wine/wine-gecko;a=patch;h=43a11bdddc5fc1ff102278a120be66a7b90afe28\n      //\n      // Likewise, other browsers may have varying (undocumented) limits.\n      // Also, Firefox's limit can be changed in about:config as browser.history.maxStateObjectSize\n      // Since we don't know what the actual limit will be in any given situation, we'll just try caching and rescue\n      // any exceptions by retrying pushState without caching the records.\n      //\n      // I have absolutely no idea why perPageOptions suddenly becomes an array-like object instead of an array,\n      // but just recently, this started throwing an error if I don't convert it:\n      // 'Uncaught Error: DATA_CLONE_ERR: DOM Exception 25'\n      cache.dynatable.dataset.perPageOptions = $.makeArray(cache.dynatable.dataset.perPageOptions);\n\n      try {\n        window.history[pushFunction](cache, \"Dynatable state\", path + params + hash);\n      } catch(error) {\n        // Make cached records = null, so that `pop` will rerun process to retrieve records\n        cache.dynatable.dataset.records = null;\n        window.history[pushFunction](cache, \"Dynatable state\", path + params + hash);\n      }\n    };\n\n    this.pop = function(event) {\n      var data = event.state.dynatable;\n      settings.dataset = data.dataset;\n\n      if (data.scrollTop) { $(window).scrollTop(data.scrollTop); }\n\n      // If dataset.records is cached from pushState\n      if ( data.dataset.records ) {\n        obj.dom.update();\n      } else {\n        obj.process(true);\n      }\n    };\n  };\n\n  function Sorts(obj, settings) {\n    this.initOnLoad = function() {\n      return settings.features.sort;\n    };\n\n    this.init = function() {\n      var sortsUrl = window.location.search.match(new RegExp(settings.params.sorts + '[^&=]*=[^&]*', 'g'));\n      settings.dataset.sorts = sortsUrl ? utility.deserialize(sortsUrl)[settings.params.sorts] : {};\n      settings.dataset.sortsKeys = sortsUrl ? utility.keysFromObject(settings.dataset.sorts) : [];\n    };\n\n    this.add = function(attr, direction) {\n      var sortsKeys = settings.dataset.sortsKeys,\n          index = $.inArray(attr, sortsKeys);\n      settings.dataset.sorts[attr] = direction;\n      if (index === -1) { sortsKeys.push(attr); }\n      return dt;\n    };\n\n    this.remove = function(attr) {\n      var sortsKeys = settings.dataset.sortsKeys,\n          index = $.inArray(attr, sortsKeys);\n      delete settings.dataset.sorts[attr];\n      if (index !== -1) { sortsKeys.splice(index, 1); }\n      return dt;\n    };\n\n    this.clear = function() {\n      settings.dataset.sorts = {};\n      settings.dataset.sortsKeys.length = 0;\n    };\n\n    // Try to intelligently guess which sort function to use\n    // based on the type of attribute values.\n    // Consider using something more robust than `typeof` (http://javascriptweblog.wordpress.com/2011/08/08/fixing-the-javascript-typeof-operator/)\n    this.guessType = function(a, b, attr) {\n      var types = {\n            string: 'string',\n            number: 'number',\n            'boolean': 'number',\n            object: 'number' // dates and null values are also objects, this works...\n          },\n          attrType = a[attr] ? typeof(a[attr]) : typeof(b[attr]),\n          type = types[attrType] || 'number';\n      return type;\n    };\n\n    // Built-in sort functions\n    // (the most common use-cases I could think of)\n    this.functions = {\n      number: function(a, b, attr, direction) {\n        return a[attr] === b[attr] ? 0 : (direction > 0 ? a[attr] - b[attr] : b[attr] - a[attr]);\n      },\n      string: function(a, b, attr, direction) {\n        var aAttr = (a['dynatable-sortable-text'] && a['dynatable-sortable-text'][attr]) ? a['dynatable-sortable-text'][attr] : a[attr],\n            bAttr = (b['dynatable-sortable-text'] && b['dynatable-sortable-text'][attr]) ? b['dynatable-sortable-text'][attr] : b[attr],\n            comparison;\n        aAttr = aAttr.toLowerCase();\n        bAttr = bAttr.toLowerCase();\n        comparison = aAttr === bAttr ? 0 : (direction > 0 ? aAttr > bAttr : bAttr > aAttr);\n        // force false boolean value to -1, true to 1, and tie to 0\n        return comparison === false ? -1 : (comparison - 0);\n      },\n      originalPlacement: function(a, b) {\n        return a['dynatable-original-index'] - b['dynatable-original-index'];\n      }\n    };\n  };\n\n  // turn table headers into links which add sort to sorts array\n  function SortsHeaders(obj, settings) {\n    var _this = this;\n\n    this.initOnLoad = function() {\n      return settings.features.sort;\n    };\n\n    this.init = function() {\n      this.attach();\n    };\n\n    this.create = function(cell) {\n      var $cell = $(cell),\n          $link = $('<a></a>', {\n            'class': 'dynatable-sort-header',\n            href: '#',\n            html: $cell.html()\n          }),\n          id = $cell.data('dynatable-column'),\n          column = utility.findObjectInArray(settings.table.columns, {id: id});\n\n      $link.bind('click', function(e) {\n        _this.toggleSort(e, $link, column);\n        obj.process();\n\n        e.preventDefault();\n      });\n\n      if (this.sortedByColumn($link, column)) {\n        if (this.sortedByColumnValue(column) == 1) {\n          this.appendArrowUp($link);\n        } else {\n          this.appendArrowDown($link);\n        }\n      }\n\n      return $link;\n    };\n\n    this.removeAll = function() {\n      obj.$element.find(settings.table.headRowSelector).children('th,td').each(function(){\n        _this.removeAllArrows();\n        _this.removeOne(this);\n      });\n    };\n\n    this.removeOne = function(cell) {\n      var $cell = $(cell),\n          $link = $cell.find('.dynatable-sort-header');\n      if ($link.length) {\n        var html = $link.html();\n        $link.remove();\n        $cell.html($cell.html() + html);\n      }\n    };\n\n    this.attach = function() {\n      obj.$element.find(settings.table.headRowSelector).children('th,td').each(function(){\n        _this.attachOne(this);\n      });\n    };\n\n    this.attachOne = function(cell) {\n      var $cell = $(cell);\n      if (!$cell.data('dynatable-no-sort')) {\n        $cell.html(this.create(cell));\n      }\n    };\n\n    this.appendArrowUp = function($link) {\n      this.removeArrow($link);\n      $link.append(\"<span class='dynatable-arrow'> &#9650;</span>\");\n    };\n\n    this.appendArrowDown = function($link) {\n      this.removeArrow($link);\n      $link.append(\"<span class='dynatable-arrow'> &#9660;</span>\");\n    };\n\n    this.removeArrow = function($link) {\n      // Not sure why `parent()` is needed, the arrow should be inside the link from `append()` above\n      $link.find('.dynatable-arrow').remove();\n    };\n\n    this.removeAllArrows = function() {\n      obj.$element.find('.dynatable-arrow').remove();\n    };\n\n    this.toggleSort = function(e, $link, column) {\n      var sortedByColumn = this.sortedByColumn($link, column),\n          value = this.sortedByColumnValue(column);\n      // Clear existing sorts unless this is a multisort event\n      if (!settings.inputs.multisort || !utility.anyMatch(e, settings.inputs.multisort, function(evt, key) { return e[key]; })) {\n        this.removeAllArrows();\n        obj.sorts.clear();\n      }\n\n      // If sorts for this column are already set\n      if (sortedByColumn) {\n        // If ascending, then make descending\n        if (value == 1) {\n          for (var i = 0, len = column.sorts.length; i < len; i++) {\n            obj.sorts.add(column.sorts[i], -1);\n          }\n          this.appendArrowDown($link);\n        // If descending, remove sort\n        } else {\n          for (var i = 0, len = column.sorts.length; i < len; i++) {\n            obj.sorts.remove(column.sorts[i]);\n          }\n          this.removeArrow($link);\n        }\n      // Otherwise, if not already set, set to ascending\n      } else {\n        for (var i = 0, len = column.sorts.length; i < len; i++) {\n          obj.sorts.add(column.sorts[i], 1);\n        }\n        this.appendArrowUp($link);\n      }\n    };\n\n    this.sortedByColumn = function($link, column) {\n      return utility.allMatch(settings.dataset.sorts, column.sorts, function(sorts, sort) { return sort in sorts; });\n    };\n\n    this.sortedByColumnValue = function(column) {\n      return settings.dataset.sorts[column.sorts[0]];\n    };\n  };\n\n  function Queries(obj, settings) {\n    var _this = this;\n\n    this.initOnLoad = function() {\n      return settings.inputs.queries || settings.features.search;\n    };\n\n    this.init = function() {\n      var queriesUrl = window.location.search.match(new RegExp(settings.params.queries + '[^&=]*=[^&]*', 'g'));\n\n      settings.dataset.queries = queriesUrl ? utility.deserialize(queriesUrl)[settings.params.queries] : {};\n      if (settings.dataset.queries === \"\") { settings.dataset.queries = {}; }\n\n      if (settings.inputs.queries) {\n        this.setupInputs();\n      }\n    };\n\n    this.add = function(name, value) {\n      // reset to first page since query will change records\n      if (settings.features.paginate) {\n        settings.dataset.page = 1;\n      }\n      settings.dataset.queries[name] = value;\n      return dt;\n    };\n\n    this.remove = function(name) {\n      delete settings.dataset.queries[name];\n      return dt;\n    };\n\n    this.run = function() {\n      for (query in settings.dataset.queries) {\n        if (settings.dataset.queries.hasOwnProperty(query)) {\n          var value = settings.dataset.queries[query];\n          if (_this.functions[query] === undefined) {\n            // Try to lazily evaluate query from column names if not explicitly defined\n            var queryColumn = utility.findObjectInArray(settings.table.columns, {id: query});\n            if (queryColumn) {\n              _this.functions[query] = function(record, queryValue) {\n                return record[query] == queryValue;\n              };\n            } else {\n              $.error(\"Query named '\" + query + \"' called, but not defined in queries.functions\");\n              continue; // to skip to next query\n            }\n          }\n          // collect all records that return true for query\n          settings.dataset.records = $.map(settings.dataset.records, function(record) {\n            return _this.functions[query](record, value) ? record : null;\n          });\n        }\n      }\n      settings.dataset.queryRecordCount = obj.records.count();\n    };\n\n    // Shortcut for performing simple query from built-in search\n    this.runSearch = function(q) {\n      var origQueries = $.extend({}, settings.dataset.queries);\n      if (q) {\n        this.add('search', q);\n      } else {\n        this.remove('search');\n      }\n      if (!utility.objectsEqual(settings.dataset.queries, origQueries)) {\n        obj.process();\n      }\n    };\n\n    this.setupInputs = function() {\n      settings.inputs.queries.each(function() {\n        var $this = $(this),\n            event = $this.data('dynatable-query-event') || settings.inputs.queryEvent,\n            query = $this.data('dynatable-query') || $this.attr('name') || this.id,\n            queryFunction = function(e) {\n              var q = $(this).val();\n              if (q === \"\") { q = undefined; }\n              if (q === settings.dataset.queries[query]) { return false; }\n              if (q) {\n                _this.add(query, q);\n              } else {\n                _this.remove(query);\n              }\n              obj.process();\n              e.preventDefault();\n            };\n\n        $this\n          .attr('data-dynatable-query', query)\n          .bind(event, queryFunction)\n          .bind('keypress', function(e) {\n            if (e.which == 13) {\n              queryFunction.call(this, e);\n            }\n          });\n\n        if (settings.dataset.queries[query]) { $this.val(decodeURIComponent(settings.dataset.queries[query])); }\n      });\n    };\n\n    // Query functions for in-page querying\n    // each function should take a record and a value as input\n    // and output true of false as to whether the record is a match or not\n    this.functions = {\n      search: function(record, queryValue) {\n        var contains = false;\n        // Loop through each attribute of record\n        for (attr in record) {\n          if (record.hasOwnProperty(attr)) {\n            var attrValue = record[attr];\n            if (typeof(attrValue) === \"string\" && attrValue.toLowerCase().indexOf(queryValue.toLowerCase()) !== -1) {\n              contains = true;\n              // Don't need to keep searching attributes once found\n              break;\n            } else {\n              continue;\n            }\n          }\n        }\n        return contains;\n      }\n    };\n  };\n\n  function InputsSearch(obj, settings) {\n    var _this = this;\n\n    this.initOnLoad = function() {\n      return settings.features.search;\n    };\n\n    this.init = function() {\n      this.attach();\n    };\n\n    this.create = function() {\n      var $search = $('<input />', {\n            type: 'search',\n            id: 'dynatable-query-search-' + obj.element.id,\n            'data-dynatable-query': 'search',\n            value: settings.dataset.queries.search\n          }),\n          $searchSpan = $('<span></span>', {\n            id: 'dynatable-search-' + obj.element.id,\n            'class': 'dynatable-search',\n            text: 'Pesquisar: '\n          }).append($search);\n\n      $search\n        .bind(settings.inputs.queryEvent, function() {\n          obj.queries.runSearch($(this).val());\n        })\n        .bind('keypress', function(e) {\n          if (e.which == 13) {\n            obj.queries.runSearch($(this).val());\n            e.preventDefault();\n          }\n        });\n      return $searchSpan;\n    };\n\n    this.attach = function() {\n      var $target = settings.inputs.searchTarget ? $(settings.inputs.searchTarget) : obj.$element;\n      $target[settings.inputs.searchPlacement](this.create());\n    };\n  };\n\n  // provide a public function for selecting page\n  function PaginationPage(obj, settings) {\n    this.initOnLoad = function() {\n      return settings.features.paginate;\n    };\n\n    this.init = function() {\n      var pageUrl = window.location.search.match(new RegExp(settings.params.page + '=([^&]*)'));\n      // If page is present in URL parameters and pushState is enabled\n      // (meaning that it'd be possible for dynatable to have put the\n      // page parameter in the URL)\n      if (pageUrl && settings.features.pushState) {\n        this.set(pageUrl[1]);\n      } else {\n        this.set(1);\n      }\n    };\n\n    this.set = function(page) {\n      settings.dataset.page = parseInt(page, 10);\n    }\n  };\n\n  function PaginationPerPage(obj, settings) {\n    var _this = this;\n\n    this.initOnLoad = function() {\n      return settings.features.paginate;\n    };\n\n    this.init = function() {\n      var perPageUrl = window.location.search.match(new RegExp(settings.params.perPage + '=([^&]*)'));\n\n      // If perPage is present in URL parameters and pushState is enabled\n      // (meaning that it'd be possible for dynatable to have put the\n      // perPage parameter in the URL)\n      if (perPageUrl && settings.features.pushState) {\n        // Don't reset page to 1 on init, since it might override page\n        // set on init from URL\n        this.set(perPageUrl[1], true);\n      } else {\n        this.set(settings.dataset.perPageDefault, true);\n      }\n\n      if (settings.features.perPageSelect) {\n        this.attach();\n      }\n    };\n\n    this.create = function() {\n      var $select = $('<select>', {\n            id: 'dynatable-per-page-' + obj.element.id,\n            'class': 'dynatable-per-page-select'\n          });\n\n      for (var i = 0, len = settings.dataset.perPageOptions.length; i < len; i++) {\n        var number = settings.dataset.perPageOptions[i],\n            selected = settings.dataset.perPage == number ? 'selected=\"selected\"' : '';\n        $select.append('<option value=\"' + number + '\" ' + selected + '>' + number + '</option>');\n      }\n\n      $select.bind('change', function(e) {\n        _this.set($(this).val());\n        obj.process();\n      });\n\n      return $('<span />', {\n        'class': 'dynatable-per-page'\n      }).append(\"<span class='dynatable-per-page-label'>\" + settings.inputs.perPageText + \"</span>\").append($select);\n    };\n\n    this.attach = function() {\n      var $target = settings.inputs.perPageTarget ? $(settings.inputs.perPageTarget) : obj.$element;\n      $target[settings.inputs.perPagePlacement](this.create());\n    };\n\n    this.set = function(number, skipResetPage) {\n      if (!skipResetPage) { obj.paginationPage.set(1); }\n      settings.dataset.perPage = parseInt(number);\n    };\n  };\n\n  // pagination links which update dataset.page attribute\n  function PaginationLinks(obj, settings) {\n    var _this = this;\n\n    this.initOnLoad = function() {\n      return settings.features.paginate;\n    };\n\n    this.init = function() {\n      this.attach();\n    };\n\n    this.create = function() {\n      var pageLinks = '<ul id=\"' + 'dynatable-pagination-links-' + obj.element.id + '\" class=\"' + settings.inputs.paginationClass + '\">',\n          pageLinkClass = settings.inputs.paginationLinkClass,\n          activePageClass = settings.inputs.paginationActiveClass,\n          disabledPageClass = settings.inputs.paginationDisabledClass,\n          pages = Math.ceil(settings.dataset.queryRecordCount / settings.dataset.perPage),\n          page = settings.dataset.page,\n          breaks = [\n            settings.inputs.paginationGap[0],\n            settings.dataset.page - settings.inputs.paginationGap[1],\n            settings.dataset.page + settings.inputs.paginationGap[2],\n            (pages + 1) - settings.inputs.paginationGap[3]\n          ];\n\n      pageLinks += '<li><span>Pginas: </span></li>';\n\n      for (var i = 1; i <= pages; i++) {\n        if ( (i > breaks[0] && i < breaks[1]) || (i > breaks[2] && i < breaks[3])) {\n          // skip to next iteration in loop\n          continue;\n        } else {\n          var li = obj.paginationLinks.buildLink(i, i, pageLinkClass, page == i, activePageClass),\n              breakIndex,\n              nextBreak;\n\n          // If i is not between one of the following\n          // (1 + (settings.paginationGap[0]))\n          // (page - settings.paginationGap[1])\n          // (page + settings.paginationGap[2])\n          // (pages - settings.paginationGap[3])\n          breakIndex = $.inArray(i, breaks);\n          nextBreak = breaks[breakIndex + 1];\n          if (breakIndex > 0 && i !== 1 && nextBreak && nextBreak > (i + 1)) {\n            var ellip = '<li><span class=\"dynatable-page-break\">&hellip;</span></li>';\n            li = breakIndex < 2 ? ellip + li : li + ellip;\n          }\n\n          if (settings.inputs.paginationPrev && i === 1) {\n            var prevLi = obj.paginationLinks.buildLink(page - 1, settings.inputs.paginationPrev, pageLinkClass + ' ' + settings.inputs.paginationPrevClass, page === 1, disabledPageClass);\n            li = prevLi + li;\n          }\n          if (settings.inputs.paginationNext && i === pages) {\n            var nextLi = obj.paginationLinks.buildLink(page + 1, settings.inputs.paginationNext, pageLinkClass + ' ' + settings.inputs.paginationNextClass, page === pages, disabledPageClass);\n            li += nextLi;\n          }\n\n          pageLinks += li;\n        }\n      }\n\n      pageLinks += '</ul>';\n\n      // only bind page handler to non-active and non-disabled page links\n      var selector = '#dynatable-pagination-links-' + obj.element.id + ' a.' + pageLinkClass + ':not(.' + activePageClass + ',.' + disabledPageClass + ')';\n      // kill any existing delegated-bindings so they don't stack up\n      $(document).undelegate(selector, 'click.dynatable');\n      $(document).delegate(selector, 'click.dynatable', function(e) {\n        $this = $(this);\n        $this.closest(settings.inputs.paginationClass).find('.' + activePageClass).removeClass(activePageClass);\n        $this.addClass(activePageClass);\n\n        obj.paginationPage.set($this.data('dynatable-page'));\n        obj.process();\n        e.preventDefault();\n      });\n\n      return pageLinks;\n    };\n\n    this.buildLink = function(page, label, linkClass, conditional, conditionalClass) {\n      var link = '<a data-dynatable-page=' + page + ' class=\"' + linkClass,\n          li = '<li';\n\n      if (conditional) {\n        link += ' ' + conditionalClass;\n        li += ' class=\"' + conditionalClass + '\"';\n      }\n\n      link += '\">' + label + '</a>';\n      li += '>' + link + '</li>';\n\n      return li;\n    };\n\n    this.attach = function() {\n      // append page links *after* delegate-event-binding so it doesn't need to\n      // find and select all page links to bind event\n      var $target = settings.inputs.paginationLinkTarget ? $(settings.inputs.paginationLinkTarget) : obj.$element;\n      $target[settings.inputs.paginationLinkPlacement](obj.paginationLinks.create());\n    };\n  };\n\n  utility = dt.utility = {\n    normalizeText: function(text, style) {\n      text = this.textTransform[style](text);\n      return text;\n    },\n    textTransform: {\n      trimDash: function(text) {\n        return text.replace(/^\\s+|\\s+$/g, \"\").replace(/\\s+/g, \"-\");\n      },\n      camelCase: function(text) {\n        text = this.trimDash(text);\n        return text\n          .replace(/(\\-[a-zA-Z])/g, function($1){return $1.toUpperCase().replace('-','');})\n          .replace(/([A-Z])([A-Z]+)/g, function($1,$2,$3){return $2 + $3.toLowerCase();})\n          .replace(/^[A-Z]/, function($1){return $1.toLowerCase();});\n      },\n      dashed: function(text) {\n        text = this.trimDash(text);\n        return this.lowercase(text);\n      },\n      underscore: function(text) {\n        text = this.trimDash(text);\n        return this.lowercase(text.replace(/(-)/g, '_'));\n      },\n      lowercase: function(text) {\n        return text.replace(/([A-Z])/g, function($1){return $1.toLowerCase();});\n      }\n    },\n    // Deserialize params in URL to object\n    // see http://stackoverflow.com/questions/1131630/javascript-jquery-param-inverse-function/3401265#3401265\n    deserialize: function(query) {\n      if (!query) return {};\n      // modified to accept an array of partial URL strings\n      if (typeof(query) === \"object\") { query = query.join('&'); }\n\n      var hash = {},\n          vars = query.split(\"&\");\n\n      for (var i = 0; i < vars.length; i++) {\n        var pair = vars[i].split(\"=\"),\n            k = decodeURIComponent(pair[0]),\n            v, m;\n\n        if (!pair[1]) { continue };\n        v = decodeURIComponent(pair[1].replace(/\\+/g, ' '));\n\n        // modified to parse multi-level parameters (e.g. \"hi[there][dude]=whatsup\" => hi: {there: {dude: \"whatsup\"}})\n        while (m = k.match(/([^&=]+)\\[([^&=]+)\\]$/)) {\n          var origV = v;\n          k = m[1];\n          v = {};\n\n          // If nested param ends in '][', then the regex above erroneously included half of a trailing '[]',\n          // which indicates the end-value is part of an array\n          if (m[2].substr(m[2].length-2) == '][') { // must use substr for IE to understand it\n            v[m[2].substr(0,m[2].length-2)] = [origV];\n          } else {\n            v[m[2]] = origV;\n          }\n        }\n\n        // If it is the first entry with this name\n        if (typeof hash[k] === \"undefined\") {\n          if (k.substr(k.length-2) != '[]') { // not end with []. cannot use negative index as IE doesn't understand it\n            hash[k] = v;\n          } else {\n            hash[k] = [v];\n          }\n        // If subsequent entry with this name and not array\n        } else if (typeof hash[k] === \"string\") {\n          hash[k] = v;  // replace it\n        // modified to add support for objects\n        } else if (typeof hash[k] === \"object\") {\n          hash[k] = $.extend({}, hash[k], v);\n        // If subsequent entry with this name and is array\n        } else {\n          hash[k].push(v);\n        }\n      }\n      return hash;\n    },\n    refreshQueryString: function(urlString, data, settings) {\n      var _this = this,\n          queryString = urlString.split('?'),\n          path = queryString.shift(),\n          urlOptions;\n\n      urlOptions = this.deserialize(urlString);\n\n      // Loop through each dynatable param and update the URL with it\n      for (attr in settings.params) {\n        if (settings.params.hasOwnProperty(attr)) {\n          var label = settings.params[attr];\n          // Skip over parameters matching attributes for disabled features (i.e. leave them untouched),\n          // because if the feature is turned off, then parameter name is a coincidence and it's unrelated to dynatable.\n          if (\n            (!settings.features.sort && attr == \"sorts\") ||\n              (!settings.features.paginate && _this.anyMatch(attr, [\"page\", \"perPage\", \"offset\"], function(attr, param) { return attr == param; }))\n          ) {\n            continue;\n          }\n\n          // Delete page and offset from url params if on page 1 (default)\n          if ((attr === \"page\" || attr === \"offset\") && data[\"page\"] === 1) {\n            if (urlOptions[label]) {\n              delete urlOptions[label];\n            }\n            continue;\n          }\n\n          // Delete perPage from url params if default perPage value\n          if (attr === \"perPage\" && data[label] == settings.dataset.perPageDefault) {\n            if (urlOptions[label]) {\n              delete urlOptions[label];\n            }\n            continue;\n          }\n\n          // For queries, we're going to handle each possible query parameter individually here instead of\n          // handling the entire queries object below, since we need to make sure that this is a query controlled by dynatable.\n          if (attr == \"queries\" && data[label]) {\n            var queries = settings.inputs.queries || [],\n                inputQueries = $.makeArray(queries.map(function() { return $(this).attr('name') }));\n\n            if (settings.features.search) { inputQueries.push('search'); }\n\n            for (var i = 0, len = inputQueries.length; i < len; i++) {\n              var attr = inputQueries[i];\n              if (data[label][attr]) {\n                if (typeof urlOptions[label] === 'undefined') { urlOptions[label] = {}; }\n                urlOptions[label][attr] = data[label][attr];\n              } else {\n                delete urlOptions[label][attr];\n              }\n            }\n            continue;\n          }\n\n          // If we haven't returned true by now, then we actually want to update the parameter in the URL\n          if (data[label]) {\n            urlOptions[label] = data[label];\n          } else {\n            delete urlOptions[label];\n          }\n        }\n      }\n      return decodeURI($.param(urlOptions));\n    },\n    // Get array of keys from object\n    // see http://stackoverflow.com/questions/208016/how-to-list-the-properties-of-a-javascript-object/208020#208020\n    keysFromObject: function(obj){\n      var keys = [];\n      for (var key in obj){\n        keys.push(key);\n      }\n      return keys;\n    },\n    // Find an object in an array of objects by attributes.\n    // E.g. find object with {id: 'hi', name: 'there'} in an array of objects\n    findObjectInArray: function(array, objectAttr) {\n      var _this = this,\n          foundObject;\n      for (var i = 0, len = array.length; i < len; i++) {\n        var item = array[i];\n        // For each object in array, test to make sure all attributes in objectAttr match\n        if (_this.allMatch(item, objectAttr, function(item, key, value) { return item[key] == value; })) {\n          foundObject = item;\n          break;\n        }\n      }\n      return foundObject;\n    },\n    // Return true if supplied test function passes for ALL items in an array\n    allMatch: function(item, arrayOrObject, test) {\n      // start off with true result by default\n      var match = true,\n          isArray = $.isArray(arrayOrObject);\n      // Loop through all items in array\n      $.each(arrayOrObject, function(key, value) {\n        var result = isArray ? test(item, value) : test(item, key, value);\n        // If a single item tests false, go ahead and break the array by returning false\n        // and return false as result,\n        // otherwise, continue with next iteration in loop\n        // (if we make it through all iterations without overriding match with false,\n        // then we can return the true result we started with by default)\n        if (!result) { return match = false; }\n      });\n      return match;\n    },\n    // Return true if supplied test function passes for ANY items in an array\n    anyMatch: function(item, arrayOrObject, test) {\n      var match = false,\n          isArray = $.isArray(arrayOrObject);\n\n      $.each(arrayOrObject, function(key, value) {\n        var result = isArray ? test(item, value) : test(item, key, value);\n        if (result) {\n          // As soon as a match is found, set match to true, and return false to stop the `$.each` loop\n          match = true;\n          return false;\n        }\n      });\n      return match;\n    },\n    // Return true if two objects are equal\n    // (i.e. have the same attributes and attribute values)\n    objectsEqual: function(a, b) {\n      for (attr in a) {\n        if (a.hasOwnProperty(attr)) {\n          if (!b.hasOwnProperty(attr) || a[attr] !== b[attr]) {\n            return false;\n          }\n        }\n      }\n      for (attr in b) {\n        if (b.hasOwnProperty(attr) && !a.hasOwnProperty(attr)) {\n          return false;\n        }\n      }\n      return true;\n    },\n    // Taken from http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/105074#105074\n    randomHash: function() {\n      return (((1+Math.random())*0x10000)|0).toString(16).substring(1);\n    }\n  };\n\n  //-----------------------------------------------------------------\n  // Build the dynatable plugin\n  //-----------------------------------------------------------------\n\n  // Object.create support test, and fallback for browsers without it\n  if ( typeof Object.create !== \"function\" ) {\n    Object.create = function (o) {\n      function F() {}\n      F.prototype = o;\n      return new F();\n    };\n  }\n\n  //-----------------------------------------------------------------\n  // Global dynatable plugin setting defaults\n  //-----------------------------------------------------------------\n\n  $.dynatableSetup = function(options) {\n    defaults = mergeSettings(options);\n  };\n\n  // Create dynatable plugin based on a defined object\n  $.dynatable = function( object ) {\n    $.fn['dynatable'] = function( options ) {\n      return this.each(function() {\n        if ( ! $.data( this, 'dynatable' ) ) {\n          $.data( this, 'dynatable', Object.create(object).init(this, options) );\n        }\n      });\n    };\n  };\n\n  $.dynatable(dt);\n\n})(jQuery);\n","/*!\n * jQuery blockUI plugin\n * Version 2.70.0-2014.11.23\n * Requires jQuery v1.7 or later\n *\n * Examples at: http://malsup.com/jquery/block/\n * Copyright (c) 2007-2013 M. Alsup\n * Dual licensed under the MIT and GPL licenses:\n * http://www.opensource.org/licenses/mit-license.php\n * http://www.gnu.org/licenses/gpl.html\n *\n * Thanks to Amir-Hossein Sobhi for some excellent contributions!\n */\n\n;(function() {\n/*jshint eqeqeq:false curly:false latedef:false */\n\"use strict\";\n\n\tfunction setup($) {\n\t\t$.fn._fadeIn = $.fn.fadeIn;\n\n\t\tvar noOp = $.noop || function() {};\n\n\t\t// this bit is to ensure we don't call setExpression when we shouldn't (with extra muscle to handle\n\t\t// confusing userAgent strings on Vista)\n\t\tvar msie = /MSIE/.test(navigator.userAgent);\n\t\tvar ie6  = /MSIE 6.0/.test(navigator.userAgent) && ! /MSIE 8.0/.test(navigator.userAgent);\n\t\tvar mode = document.documentMode || 0;\n\t\tvar setExpr = $.isFunction( document.createElement('div').style.setExpression );\n\n\t\t// global $ methods for blocking/unblocking the entire page\n\t\t$.blockUI   = function(opts) { install(window, opts); };\n\t\t$.unblockUI = function(opts) { remove(window, opts); };\n\n\t\t// convenience method for quick growl-like notifications  (http://www.google.com/search?q=growl)\n\t\t$.growlUI = function(title, message, timeout, onClose) {\n\t\t\tvar $m = $('<div class=\"growlUI\"></div>');\n\t\t\tif (title) $m.append('<h1>'+title+'</h1>');\n\t\t\tif (message) $m.append('<h2>'+message+'</h2>');\n\t\t\tif (timeout === undefined) timeout = 3000;\n\n\t\t\t// Added by konapun: Set timeout to 30 seconds if this growl is moused over, like normal toast notifications\n\t\t\tvar callBlock = function(opts) {\n\t\t\t\topts = opts || {};\n\n\t\t\t\t$.blockUI({\n\t\t\t\t\tmessage: $m,\n\t\t\t\t\tfadeIn : typeof opts.fadeIn  !== 'undefined' ? opts.fadeIn  : 700,\n\t\t\t\t\tfadeOut: typeof opts.fadeOut !== 'undefined' ? opts.fadeOut : 1000,\n\t\t\t\t\ttimeout: typeof opts.timeout !== 'undefined' ? opts.timeout : timeout,\n\t\t\t\t\tcenterY: false,\n\t\t\t\t\tshowOverlay: false,\n\t\t\t\t\tonUnblock: onClose,\n\t\t\t\t\tcss: $.blockUI.defaults.growlCSS\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tcallBlock();\n\t\t\tvar nonmousedOpacity = $m.css('opacity');\n\t\t\t$m.mouseover(function() {\n\t\t\t\tcallBlock({\n\t\t\t\t\tfadeIn: 0,\n\t\t\t\t\ttimeout: 30000\n\t\t\t\t});\n\n\t\t\t\tvar displayBlock = $('.blockMsg');\n\t\t\t\tdisplayBlock.stop(); // cancel fadeout if it has started\n\t\t\t\tdisplayBlock.fadeTo(300, 1); // make it easier to read the message by removing transparency\n\t\t\t}).mouseout(function() {\n\t\t\t\t$('.blockMsg').fadeOut(1000);\n\t\t\t});\n\t\t\t// End konapun additions\n\t\t};\n\n\t\t// plugin method for blocking element content\n\t\t$.fn.block = function(opts) {\n\t\t\tif ( this[0] === window ) {\n\t\t\t\t$.blockUI( opts );\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tvar fullOpts = $.extend({}, $.blockUI.defaults, opts || {});\n\t\t\tthis.each(function() {\n\t\t\t\tvar $el = $(this);\n\t\t\t\tif (fullOpts.ignoreIfBlocked && $el.data('blockUI.isBlocked'))\n\t\t\t\t\treturn;\n\t\t\t\t$el.unblock({ fadeOut: 0 });\n\t\t\t});\n\n\t\t\treturn this.each(function() {\n\t\t\t\tif ($.css(this,'position') == 'static') {\n\t\t\t\t\tthis.style.position = 'relative';\n\t\t\t\t\t$(this).data('blockUI.static', true);\n\t\t\t\t}\n\t\t\t\tthis.style.zoom = 1; // force 'hasLayout' in ie\n\t\t\t\tinstall(this, opts);\n\t\t\t});\n\t\t};\n\n\t\t// plugin method for unblocking element content\n\t\t$.fn.unblock = function(opts) {\n\t\t\tif ( this[0] === window ) {\n\t\t\t\t$.unblockUI( opts );\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\treturn this.each(function() {\n\t\t\t\tremove(this, opts);\n\t\t\t});\n\t\t};\n\n\t\t$.blockUI.version = 2.70; // 2nd generation blocking at no extra cost!\n\n\t\t// override these in your code to change the default behavior and style\n\t\t$.blockUI.defaults = {\n\t\t\t// message displayed when blocking (use null for no message)\n\t\t\tmessage:  '<h1>Please wait...</h1>',\n\n\t\t\ttitle: null,\t\t// title string; only used when theme == true\n\t\t\tdraggable: true,\t// only used when theme == true (requires jquery-ui.js to be loaded)\n\n\t\t\ttheme: false, // set to true to use with jQuery UI themes\n\n\t\t\t// styles for the message when blocking; if you wish to disable\n\t\t\t// these and use an external stylesheet then do this in your code:\n\t\t\t// $.blockUI.defaults.css = {};\n\t\t\tcss: {\n\t\t\t\tpadding:\t0,\n\t\t\t\tmargin:\t\t0,\n\t\t\t\twidth:\t\t'30%',\n\t\t\t\ttop:\t\t'40%',\n\t\t\t\tleft:\t\t'35%',\n\t\t\t\ttextAlign:\t'center',\n\t\t\t\tcolor:\t\t'#000',\n\t\t\t\tborder:\t\t'3px solid #aaa',\n\t\t\t\tbackgroundColor:'#fff',\n\t\t\t\tcursor:\t\t'wait'\n\t\t\t},\n\n\t\t\t// minimal style set used when themes are used\n\t\t\tthemedCSS: {\n\t\t\t\twidth:\t'30%',\n\t\t\t\ttop:\t'40%',\n\t\t\t\tleft:\t'35%'\n\t\t\t},\n\n\t\t\t// styles for the overlay\n\t\t\toverlayCSS:  {\n\t\t\t\tbackgroundColor:\t'#000',\n\t\t\t\topacity:\t\t\t0.6,\n\t\t\t\tcursor:\t\t\t\t'wait'\n\t\t\t},\n\n\t\t\t// style to replace wait cursor before unblocking to correct issue\n\t\t\t// of lingering wait cursor\n\t\t\tcursorReset: 'default',\n\n\t\t\t// styles applied when using $.growlUI\n\t\t\tgrowlCSS: {\n\t\t\t\twidth:\t\t'350px',\n\t\t\t\ttop:\t\t'10px',\n\t\t\t\tleft:\t\t'',\n\t\t\t\tright:\t\t'10px',\n\t\t\t\tborder:\t\t'none',\n\t\t\t\tpadding:\t'5px',\n\t\t\t\topacity:\t0.6,\n\t\t\t\tcursor:\t\t'default',\n\t\t\t\tcolor:\t\t'#fff',\n\t\t\t\tbackgroundColor: '#000',\n\t\t\t\t'-webkit-border-radius':'10px',\n\t\t\t\t'-moz-border-radius':\t'10px',\n\t\t\t\t'border-radius':\t\t'10px'\n\t\t\t},\n\n\t\t\t// IE issues: 'about:blank' fails on HTTPS and javascript:false is s-l-o-w\n\t\t\t// (hat tip to Jorge H. N. de Vasconcelos)\n\t\t\t/*jshint scripturl:true */\n\t\t\tiframeSrc: /^https/i.test(window.location.href || '') ? 'javascript:false' : 'about:blank',\n\n\t\t\t// force usage of iframe in non-IE browsers (handy for blocking applets)\n\t\t\tforceIframe: false,\n\n\t\t\t// z-index for the blocking overlay\n\t\t\tbaseZ: 1000,\n\n\t\t\t// set these to true to have the message automatically centered\n\t\t\tcenterX: true, // <-- only effects element blocking (page block controlled via css above)\n\t\t\tcenterY: true,\n\n\t\t\t// allow body element to be stetched in ie6; this makes blocking look better\n\t\t\t// on \"short\" pages.  disable if you wish to prevent changes to the body height\n\t\t\tallowBodyStretch: true,\n\n\t\t\t// enable if you want key and mouse events to be disabled for content that is blocked\n\t\t\tbindEvents: true,\n\n\t\t\t// be default blockUI will supress tab navigation from leaving blocking content\n\t\t\t// (if bindEvents is true)\n\t\t\tconstrainTabKey: true,\n\n\t\t\t// fadeIn time in millis; set to 0 to disable fadeIn on block\n\t\t\tfadeIn:  200,\n\n\t\t\t// fadeOut time in millis; set to 0 to disable fadeOut on unblock\n\t\t\tfadeOut:  400,\n\n\t\t\t// time in millis to wait before auto-unblocking; set to 0 to disable auto-unblock\n\t\t\ttimeout: 0,\n\n\t\t\t// disable if you don't want to show the overlay\n\t\t\tshowOverlay: true,\n\n\t\t\t// if true, focus will be placed in the first available input field when\n\t\t\t// page blocking\n\t\t\tfocusInput: true,\n\n            // elements that can receive focus\n            focusableElements: ':input:enabled:visible',\n\n\t\t\t// suppresses the use of overlay styles on FF/Linux (due to performance issues with opacity)\n\t\t\t// no longer needed in 2012\n\t\t\t// applyPlatformOpacityRules: true,\n\n\t\t\t// callback method invoked when fadeIn has completed and blocking message is visible\n\t\t\tonBlock: null,\n\n\t\t\t// callback method invoked when unblocking has completed; the callback is\n\t\t\t// passed the element that has been unblocked (which is the window object for page\n\t\t\t// blocks) and the options that were passed to the unblock call:\n\t\t\t//\tonUnblock(element, options)\n\t\t\tonUnblock: null,\n\n\t\t\t// callback method invoked when the overlay area is clicked.\n\t\t\t// setting this will turn the cursor to a pointer, otherwise cursor defined in overlayCss will be used.\n\t\t\tonOverlayClick: null,\n\n\t\t\t// don't ask; if you really must know: http://groups.google.com/group/jquery-en/browse_thread/thread/36640a8730503595/2f6a79a77a78e493#2f6a79a77a78e493\n\t\t\tquirksmodeOffsetHack: 4,\n\n\t\t\t// class name of the message block\n\t\t\tblockMsgClass: 'blockMsg',\n\n\t\t\t// if it is already blocked, then ignore it (don't unblock and reblock)\n\t\t\tignoreIfBlocked: false\n\t\t};\n\n\t\t// private data and functions follow...\n\n\t\tvar pageBlock = null;\n\t\tvar pageBlockEls = [];\n\n\t\tfunction install(el, opts) {\n\t\t\tvar css, themedCSS;\n\t\t\tvar full = (el == window);\n\t\t\tvar msg = (opts && opts.message !== undefined ? opts.message : undefined);\n\t\t\topts = $.extend({}, $.blockUI.defaults, opts || {});\n\n\t\t\tif (opts.ignoreIfBlocked && $(el).data('blockUI.isBlocked'))\n\t\t\t\treturn;\n\n\t\t\topts.overlayCSS = $.extend({}, $.blockUI.defaults.overlayCSS, opts.overlayCSS || {});\n\t\t\tcss = $.extend({}, $.blockUI.defaults.css, opts.css || {});\n\t\t\tif (opts.onOverlayClick)\n\t\t\t\topts.overlayCSS.cursor = 'pointer';\n\n\t\t\tthemedCSS = $.extend({}, $.blockUI.defaults.themedCSS, opts.themedCSS || {});\n\t\t\tmsg = msg === undefined ? opts.message : msg;\n\n\t\t\t// remove the current block (if there is one)\n\t\t\tif (full && pageBlock)\n\t\t\t\tremove(window, {fadeOut:0});\n\n\t\t\t// if an existing element is being used as the blocking content then we capture\n\t\t\t// its current place in the DOM (and current display style) so we can restore\n\t\t\t// it when we unblock\n\t\t\tif (msg && typeof msg != 'string' && (msg.parentNode || msg.jquery)) {\n\t\t\t\tvar node = msg.jquery ? msg[0] : msg;\n\t\t\t\tvar data = {};\n\t\t\t\t$(el).data('blockUI.history', data);\n\t\t\t\tdata.el = node;\n\t\t\t\tdata.parent = node.parentNode;\n\t\t\t\tdata.display = node.style.display;\n\t\t\t\tdata.position = node.style.position;\n\t\t\t\tif (data.parent)\n\t\t\t\t\tdata.parent.removeChild(node);\n\t\t\t}\n\n\t\t\t$(el).data('blockUI.onUnblock', opts.onUnblock);\n\t\t\tvar z = opts.baseZ;\n\n\t\t\t// blockUI uses 3 layers for blocking, for simplicity they are all used on every platform;\n\t\t\t// layer1 is the iframe layer which is used to supress bleed through of underlying content\n\t\t\t// layer2 is the overlay layer which has opacity and a wait cursor (by default)\n\t\t\t// layer3 is the message content that is displayed while blocking\n\t\t\tvar lyr1, lyr2, lyr3, s;\n\t\t\tif (msie || opts.forceIframe)\n\t\t\t\tlyr1 = $('<iframe class=\"blockUI\" style=\"z-index:'+ (z++) +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0\" src=\"'+opts.iframeSrc+'\"></iframe>');\n\t\t\telse\n\t\t\t\tlyr1 = $('<div class=\"blockUI\" style=\"display:none\"></div>');\n\n\t\t\tif (opts.theme)\n\t\t\t\tlyr2 = $('<div class=\"blockUI blockOverlay ui-widget-overlay\" style=\"z-index:'+ (z++) +';display:none\"></div>');\n\t\t\telse\n\t\t\t\tlyr2 = $('<div class=\"blockUI blockOverlay\" style=\"z-index:'+ (z++) +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0\"></div>');\n\n\t\t\tif (opts.theme && full) {\n\t\t\t\ts = '<div class=\"blockUI ' + opts.blockMsgClass + ' blockPage ui-dialog ui-widget ui-corner-all\" style=\"z-index:'+(z+10)+';display:none;position:fixed\">';\n\t\t\t\tif ( opts.title ) {\n\t\t\t\t\ts += '<div class=\"ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle\">'+(opts.title || '&nbsp;')+'</div>';\n\t\t\t\t}\n\t\t\t\ts += '<div class=\"ui-widget-content ui-dialog-content\"></div>';\n\t\t\t\ts += '</div>';\n\t\t\t}\n\t\t\telse if (opts.theme) {\n\t\t\t\ts = '<div class=\"blockUI ' + opts.blockMsgClass + ' blockElement ui-dialog ui-widget ui-corner-all\" style=\"z-index:'+(z+10)+';display:none;position:absolute\">';\n\t\t\t\tif ( opts.title ) {\n\t\t\t\t\ts += '<div class=\"ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle\">'+(opts.title || '&nbsp;')+'</div>';\n\t\t\t\t}\n\t\t\t\ts += '<div class=\"ui-widget-content ui-dialog-content\"></div>';\n\t\t\t\ts += '</div>';\n\t\t\t}\n\t\t\telse if (full) {\n\t\t\t\ts = '<div class=\"blockUI ' + opts.blockMsgClass + ' blockPage\" style=\"z-index:'+(z+10)+';display:none;position:fixed\"></div>';\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts = '<div class=\"blockUI ' + opts.blockMsgClass + ' blockElement\" style=\"z-index:'+(z+10)+';display:none;position:absolute\"></div>';\n\t\t\t}\n\t\t\tlyr3 = $(s);\n\n\t\t\t// if we have a message, style it\n\t\t\tif (msg) {\n\t\t\t\tif (opts.theme) {\n\t\t\t\t\tlyr3.css(themedCSS);\n\t\t\t\t\tlyr3.addClass('ui-widget-content');\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tlyr3.css(css);\n\t\t\t}\n\n\t\t\t// style the overlay\n\t\t\tif (!opts.theme /*&& (!opts.applyPlatformOpacityRules)*/)\n\t\t\t\tlyr2.css(opts.overlayCSS);\n\t\t\tlyr2.css('position', full ? 'fixed' : 'absolute');\n\n\t\t\t// make iframe layer transparent in IE\n\t\t\tif (msie || opts.forceIframe)\n\t\t\t\tlyr1.css('opacity',0.0);\n\n\t\t\t//$([lyr1[0],lyr2[0],lyr3[0]]).appendTo(full ? 'body' : el);\n\t\t\tvar layers = [lyr1,lyr2,lyr3], $par = full ? $('body') : $(el);\n\t\t\t$.each(layers, function() {\n\t\t\t\tthis.appendTo($par);\n\t\t\t});\n\n\t\t\tif (opts.theme && opts.draggable && $.fn.draggable) {\n\t\t\t\tlyr3.draggable({\n\t\t\t\t\thandle: '.ui-dialog-titlebar',\n\t\t\t\t\tcancel: 'li'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// ie7 must use absolute positioning in quirks mode and to account for activex issues (when scrolling)\n\t\t\tvar expr = setExpr && (!$.support.boxModel || $('object,embed', full ? null : el).length > 0);\n\t\t\tif (ie6 || expr) {\n\t\t\t\t// give body 100% height\n\t\t\t\tif (full && opts.allowBodyStretch && $.support.boxModel)\n\t\t\t\t\t$('html,body').css('height','100%');\n\n\t\t\t\t// fix ie6 issue when blocked element has a border width\n\t\t\t\tif ((ie6 || !$.support.boxModel) && !full) {\n\t\t\t\t\tvar t = sz(el,'borderTopWidth'), l = sz(el,'borderLeftWidth');\n\t\t\t\t\tvar fixT = t ? '(0 - '+t+')' : 0;\n\t\t\t\t\tvar fixL = l ? '(0 - '+l+')' : 0;\n\t\t\t\t}\n\n\t\t\t\t// simulate fixed position\n\t\t\t\t$.each(layers, function(i,o) {\n\t\t\t\t\tvar s = o[0].style;\n\t\t\t\t\ts.position = 'absolute';\n\t\t\t\t\tif (i < 2) {\n\t\t\t\t\t\tif (full)\n\t\t\t\t\t\t\ts.setExpression('height','Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:'+opts.quirksmodeOffsetHack+') + \"px\"');\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\ts.setExpression('height','this.parentNode.offsetHeight + \"px\"');\n\t\t\t\t\t\tif (full)\n\t\t\t\t\t\t\ts.setExpression('width','jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + \"px\"');\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\ts.setExpression('width','this.parentNode.offsetWidth + \"px\"');\n\t\t\t\t\t\tif (fixL) s.setExpression('left', fixL);\n\t\t\t\t\t\tif (fixT) s.setExpression('top', fixT);\n\t\t\t\t\t}\n\t\t\t\t\telse if (opts.centerY) {\n\t\t\t\t\t\tif (full) s.setExpression('top','(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + \"px\"');\n\t\t\t\t\t\ts.marginTop = 0;\n\t\t\t\t\t}\n\t\t\t\t\telse if (!opts.centerY && full) {\n\t\t\t\t\t\tvar top = (opts.css && opts.css.top) ? parseInt(opts.css.top, 10) : 0;\n\t\t\t\t\t\tvar expression = '((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + '+top+') + \"px\"';\n\t\t\t\t\t\ts.setExpression('top',expression);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// show the message\n\t\t\tif (msg) {\n\t\t\t\tif (opts.theme)\n\t\t\t\t\tlyr3.find('.ui-widget-content').append(msg);\n\t\t\t\telse\n\t\t\t\t\tlyr3.append(msg);\n\t\t\t\tif (msg.jquery || msg.nodeType)\n\t\t\t\t\t$(msg).show();\n\t\t\t}\n\n\t\t\tif ((msie || opts.forceIframe) && opts.showOverlay)\n\t\t\t\tlyr1.show(); // opacity is zero\n\t\t\tif (opts.fadeIn) {\n\t\t\t\tvar cb = opts.onBlock ? opts.onBlock : noOp;\n\t\t\t\tvar cb1 = (opts.showOverlay && !msg) ? cb : noOp;\n\t\t\t\tvar cb2 = msg ? cb : noOp;\n\t\t\t\tif (opts.showOverlay)\n\t\t\t\t\tlyr2._fadeIn(opts.fadeIn, cb1);\n\t\t\t\tif (msg)\n\t\t\t\t\tlyr3._fadeIn(opts.fadeIn, cb2);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (opts.showOverlay)\n\t\t\t\t\tlyr2.show();\n\t\t\t\tif (msg)\n\t\t\t\t\tlyr3.show();\n\t\t\t\tif (opts.onBlock)\n\t\t\t\t\topts.onBlock.bind(lyr3)();\n\t\t\t}\n\n\t\t\t// bind key and mouse events\n\t\t\tbind(1, el, opts);\n\n\t\t\tif (full) {\n\t\t\t\tpageBlock = lyr3[0];\n\t\t\t\tpageBlockEls = $(opts.focusableElements,pageBlock);\n\t\t\t\tif (opts.focusInput)\n\t\t\t\t\tsetTimeout(focus, 20);\n\t\t\t}\n\t\t\telse\n\t\t\t\tcenter(lyr3[0], opts.centerX, opts.centerY);\n\n\t\t\tif (opts.timeout) {\n\t\t\t\t// auto-unblock\n\t\t\t\tvar to = setTimeout(function() {\n\t\t\t\t\tif (full)\n\t\t\t\t\t\t$.unblockUI(opts);\n\t\t\t\t\telse\n\t\t\t\t\t\t$(el).unblock(opts);\n\t\t\t\t}, opts.timeout);\n\t\t\t\t$(el).data('blockUI.timeout', to);\n\t\t\t}\n\t\t}\n\n\t\t// remove the block\n\t\tfunction remove(el, opts) {\n\t\t\tvar count;\n\t\t\tvar full = (el == window);\n\t\t\tvar $el = $(el);\n\t\t\tvar data = $el.data('blockUI.history');\n\t\t\tvar to = $el.data('blockUI.timeout');\n\t\t\tif (to) {\n\t\t\t\tclearTimeout(to);\n\t\t\t\t$el.removeData('blockUI.timeout');\n\t\t\t}\n\t\t\topts = $.extend({}, $.blockUI.defaults, opts || {});\n\t\t\tbind(0, el, opts); // unbind events\n\n\t\t\tif (opts.onUnblock === null) {\n\t\t\t\topts.onUnblock = $el.data('blockUI.onUnblock');\n\t\t\t\t$el.removeData('blockUI.onUnblock');\n\t\t\t}\n\n\t\t\tvar els;\n\t\t\tif (full) // crazy selector to handle odd field errors in ie6/7\n\t\t\t\tels = $('body').children().filter('.blockUI').add('body > .blockUI');\n\t\t\telse\n\t\t\t\tels = $el.find('>.blockUI');\n\n\t\t\t// fix cursor issue\n\t\t\tif ( opts.cursorReset ) {\n\t\t\t\tif ( els.length > 1 )\n\t\t\t\t\tels[1].style.cursor = opts.cursorReset;\n\t\t\t\tif ( els.length > 2 )\n\t\t\t\t\tels[2].style.cursor = opts.cursorReset;\n\t\t\t}\n\n\t\t\tif (full)\n\t\t\t\tpageBlock = pageBlockEls = null;\n\n\t\t\tif (opts.fadeOut) {\n\t\t\t\tcount = els.length;\n\t\t\t\tels.stop().fadeOut(opts.fadeOut, function() {\n\t\t\t\t\tif ( --count === 0)\n\t\t\t\t\t\treset(els,data,opts,el);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t\treset(els, data, opts, el);\n\t\t}\n\n\t\t// move blocking element back into the DOM where it started\n\t\tfunction reset(els,data,opts,el) {\n\t\t\tvar $el = $(el);\n\t\t\tif ( $el.data('blockUI.isBlocked') )\n\t\t\t\treturn;\n\n\t\t\tels.each(function(i,o) {\n\t\t\t\t// remove via DOM calls so we don't lose event handlers\n\t\t\t\tif (this.parentNode)\n\t\t\t\t\tthis.parentNode.removeChild(this);\n\t\t\t});\n\n\t\t\tif (data && data.el) {\n\t\t\t\tdata.el.style.display = data.display;\n\t\t\t\tdata.el.style.position = data.position;\n\t\t\t\tdata.el.style.cursor = 'default'; // #59\n\t\t\t\tif (data.parent)\n\t\t\t\t\tdata.parent.appendChild(data.el);\n\t\t\t\t$el.removeData('blockUI.history');\n\t\t\t}\n\n\t\t\tif ($el.data('blockUI.static')) {\n\t\t\t\t$el.css('position', 'static'); // #22\n\t\t\t}\n\n\t\t\tif (typeof opts.onUnblock == 'function')\n\t\t\t\topts.onUnblock(el,opts);\n\n\t\t\t// fix issue in Safari 6 where block artifacts remain until reflow\n\t\t\tvar body = $(document.body), w = body.width(), cssW = body[0].style.width;\n\t\t\tbody.width(w-1).width(w);\n\t\t\tbody[0].style.width = cssW;\n\t\t}\n\n\t\t// bind/unbind the handler\n\t\tfunction bind(b, el, opts) {\n\t\t\tvar full = el == window, $el = $(el);\n\n\t\t\t// don't bother unbinding if there is nothing to unbind\n\t\t\tif (!b && (full && !pageBlock || !full && !$el.data('blockUI.isBlocked')))\n\t\t\t\treturn;\n\n\t\t\t$el.data('blockUI.isBlocked', b);\n\n\t\t\t// don't bind events when overlay is not in use or if bindEvents is false\n\t\t\tif (!full || !opts.bindEvents || (b && !opts.showOverlay))\n\t\t\t\treturn;\n\n\t\t\t// bind anchors and inputs for mouse and key events\n\t\t\tvar events = 'mousedown mouseup keydown keypress keyup touchstart touchend touchmove';\n\t\t\tif (b)\n\t\t\t\t$(document).bind(events, opts, handler);\n\t\t\telse\n\t\t\t\t$(document).unbind(events, handler);\n\n\t\t// former impl...\n\t\t//\t\tvar $e = $('a,:input');\n\t\t//\t\tb ? $e.bind(events, opts, handler) : $e.unbind(events, handler);\n\t\t}\n\n\t\t// event handler to suppress keyboard/mouse events when blocking\n\t\tfunction handler(e) {\n\t\t\t// allow tab navigation (conditionally)\n\t\t\tif (e.type === 'keydown' && e.keyCode && e.keyCode == 9) {\n\t\t\t\tif (pageBlock && e.data.constrainTabKey) {\n\t\t\t\t\tvar els = pageBlockEls;\n\t\t\t\t\tvar fwd = !e.shiftKey && e.target === els[els.length-1];\n\t\t\t\t\tvar back = e.shiftKey && e.target === els[0];\n\t\t\t\t\tif (fwd || back) {\n\t\t\t\t\t\tsetTimeout(function(){focus(back);},10);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar opts = e.data;\n\t\t\tvar target = $(e.target);\n\t\t\tif (target.hasClass('blockOverlay') && opts.onOverlayClick)\n\t\t\t\topts.onOverlayClick(e);\n\n\t\t\t// allow events within the message content\n\t\t\tif (target.parents('div.' + opts.blockMsgClass).length > 0)\n\t\t\t\treturn true;\n\n\t\t\t// allow events for content that is not being blocked\n\t\t\treturn target.parents().children().filter('div.blockUI').length === 0;\n\t\t}\n\n\t\tfunction focus(back) {\n\t\t\tif (!pageBlockEls)\n\t\t\t\treturn;\n\t\t\tvar e = pageBlockEls[back===true ? pageBlockEls.length-1 : 0];\n\t\t\tif (e)\n\t\t\t\te.focus();\n\t\t}\n\n\t\tfunction center(el, x, y) {\n\t\t\tvar p = el.parentNode, s = el.style;\n\t\t\tvar l = ((p.offsetWidth - el.offsetWidth)/2) - sz(p,'borderLeftWidth');\n\t\t\tvar t = ((p.offsetHeight - el.offsetHeight)/2) - sz(p,'borderTopWidth');\n\t\t\tif (x) s.left = l > 0 ? (l+'px') : '0';\n\t\t\tif (y) s.top  = t > 0 ? (t+'px') : '0';\n\t\t}\n\n\t\tfunction sz(el, p) {\n\t\t\treturn parseInt($.css(el,p),10)||0;\n\t\t}\n\n\t}\n\n\n\t/*global define:true */\n\tif (typeof define === 'function' && define.amd && define.amd.jQuery) {\n\t\tdefine(['jquery'], setup);\n\t} else {\n\t\tsetup(jQuery);\n\t}\n\n})();\n","/*!\n * Modernizr v2.8.3\n * www.modernizr.com\n *\n * Copyright (c) Faruk Ates, Paul Irish, Alex Sexton\n * Available under the BSD and MIT licenses: www.modernizr.com/license/\n */\n\n/*\n * Modernizr tests which native CSS3 and HTML5 features are available in\n * the current UA and makes the results available to you in two ways:\n * as properties on a global Modernizr object, and as classes on the\n * <html> element. This information allows you to progressively enhance\n * your pages with a granular level of control over the experience.\n *\n * Modernizr has an optional (not included) conditional resource loader\n * called Modernizr.load(), based on Yepnope.js (yepnopejs.com).\n * To get a build that includes Modernizr.load(), as well as choosing\n * which tests to include, go to www.modernizr.com/download/\n *\n * Authors        Faruk Ates, Paul Irish, Alex Sexton\n * Contributors   Ryan Seddon, Ben Alman\n */\n\nwindow.Modernizr = (function( window, document, undefined ) {\n\n    var version = '2.8.3',\n\n    Modernizr = {},\n\n    /*>>cssclasses*/\n    // option for enabling the HTML classes to be added\n    enableClasses = true,\n    /*>>cssclasses*/\n\n    docElement = document.documentElement,\n\n    /**\n     * Create our \"modernizr\" element that we do most feature tests on.\n     */\n    mod = 'modernizr',\n    modElem = document.createElement(mod),\n    mStyle = modElem.style,\n\n    /**\n     * Create the input element for various Web Forms feature tests.\n     */\n    inputElem /*>>inputelem*/ = document.createElement('input') /*>>inputelem*/ ,\n\n    /*>>smile*/\n    smile = ':)',\n    /*>>smile*/\n\n    toString = {}.toString,\n\n    // TODO :: make the prefixes more granular\n    /*>>prefixes*/\n    // List of property values to set for css tests. See ticket #21\n    prefixes = ' -webkit- -moz- -o- -ms- '.split(' '),\n    /*>>prefixes*/\n\n    /*>>domprefixes*/\n    // Following spec is to expose vendor-specific style properties as:\n    //   elem.style.WebkitBorderRadius\n    // and the following would be incorrect:\n    //   elem.style.webkitBorderRadius\n\n    // Webkit ghosts their properties in lowercase but Opera & Moz do not.\n    // Microsoft uses a lowercase `ms` instead of the correct `Ms` in IE8+\n    //   erik.eae.net/archives/2008/03/10/21.48.10/\n\n    // More here: github.com/Modernizr/Modernizr/issues/issue/21\n    omPrefixes = 'Webkit Moz O ms',\n\n    cssomPrefixes = omPrefixes.split(' '),\n\n    domPrefixes = omPrefixes.toLowerCase().split(' '),\n    /*>>domprefixes*/\n\n    /*>>ns*/\n    ns = {'svg': 'http://www.w3.org/2000/svg'},\n    /*>>ns*/\n\n    tests = {},\n    inputs = {},\n    attrs = {},\n\n    classes = [],\n\n    slice = classes.slice,\n\n    featureName, // used in testing loop\n\n\n    /*>>teststyles*/\n    // Inject element with style element and some CSS rules\n    injectElementWithStyles = function( rule, callback, nodes, testnames ) {\n\n      var style, ret, node, docOverflow,\n          div = document.createElement('div'),\n          // After page load injecting a fake body doesn't work so check if body exists\n          body = document.body,\n          // IE6 and 7 won't return offsetWidth or offsetHeight unless it's in the body element, so we fake it.\n          fakeBody = body || document.createElement('body');\n\n      if ( parseInt(nodes, 10) ) {\n          // In order not to give false positives we create a node for each test\n          // This also allows the method to scale for unspecified uses\n          while ( nodes-- ) {\n              node = document.createElement('div');\n              node.id = testnames ? testnames[nodes] : mod + (nodes + 1);\n              div.appendChild(node);\n          }\n      }\n\n      // <style> elements in IE6-9 are considered 'NoScope' elements and therefore will be removed\n      // when injected with innerHTML. To get around this you need to prepend the 'NoScope' element\n      // with a 'scoped' element, in our case the soft-hyphen entity as it won't mess with our measurements.\n      // msdn.microsoft.com/en-us/library/ms533897%28VS.85%29.aspx\n      // Documents served as xml will throw if using &shy; so use xml friendly encoded version. See issue #277\n      style = ['&#173;','<style id=\"s', mod, '\">', rule, '</style>'].join('');\n      div.id = mod;\n      // IE6 will false positive on some tests due to the style element inside the test div somehow interfering offsetHeight, so insert it into body or fakebody.\n      // Opera will act all quirky when injecting elements in documentElement when page is served as xml, needs fakebody too. #270\n      (body ? div : fakeBody).innerHTML += style;\n      fakeBody.appendChild(div);\n      if ( !body ) {\n          //avoid crashing IE8, if background image is used\n          fakeBody.style.background = '';\n          //Safari 5.13/5.1.4 OSX stops loading if ::-webkit-scrollbar is used and scrollbars are visible\n          fakeBody.style.overflow = 'hidden';\n          docOverflow = docElement.style.overflow;\n          docElement.style.overflow = 'hidden';\n          docElement.appendChild(fakeBody);\n      }\n\n      ret = callback(div, rule);\n      // If this is done after page load we don't want to remove the body so check if body exists\n      if ( !body ) {\n          fakeBody.parentNode.removeChild(fakeBody);\n          docElement.style.overflow = docOverflow;\n      } else {\n          div.parentNode.removeChild(div);\n      }\n\n      return !!ret;\n\n    },\n    /*>>teststyles*/\n\n    /*>>mq*/\n    // adapted from matchMedia polyfill\n    // by Scott Jehl and Paul Irish\n    // gist.github.com/786768\n    testMediaQuery = function( mq ) {\n\n      var matchMedia = window.matchMedia || window.msMatchMedia;\n      if ( matchMedia ) {\n        return matchMedia(mq) && matchMedia(mq).matches || false;\n      }\n\n      var bool;\n\n      injectElementWithStyles('@media ' + mq + ' { #' + mod + ' { position: absolute; } }', function( node ) {\n        bool = (window.getComputedStyle ?\n                  getComputedStyle(node, null) :\n                  node.currentStyle)['position'] == 'absolute';\n      });\n\n      return bool;\n\n     },\n     /*>>mq*/\n\n\n    /*>>hasevent*/\n    //\n    // isEventSupported determines if a given element supports the given event\n    // kangax.github.com/iseventsupported/\n    //\n    // The following results are known incorrects:\n    //   Modernizr.hasEvent(\"webkitTransitionEnd\", elem) // false negative\n    //   Modernizr.hasEvent(\"textInput\") // in Webkit. github.com/Modernizr/Modernizr/issues/333\n    //   ...\n    isEventSupported = (function() {\n\n      var TAGNAMES = {\n        'select': 'input', 'change': 'input',\n        'submit': 'form', 'reset': 'form',\n        'error': 'img', 'load': 'img', 'abort': 'img'\n      };\n\n      function isEventSupported( eventName, element ) {\n\n        element = element || document.createElement(TAGNAMES[eventName] || 'div');\n        eventName = 'on' + eventName;\n\n        // When using `setAttribute`, IE skips \"unload\", WebKit skips \"unload\" and \"resize\", whereas `in` \"catches\" those\n        var isSupported = eventName in element;\n\n        if ( !isSupported ) {\n          // If it has no `setAttribute` (i.e. doesn't implement Node interface), try generic element\n          if ( !element.setAttribute ) {\n            element = document.createElement('div');\n          }\n          if ( element.setAttribute && element.removeAttribute ) {\n            element.setAttribute(eventName, '');\n            isSupported = is(element[eventName], 'function');\n\n            // If property was created, \"remove it\" (by setting value to `undefined`)\n            if ( !is(element[eventName], 'undefined') ) {\n              element[eventName] = undefined;\n            }\n            element.removeAttribute(eventName);\n          }\n        }\n\n        element = null;\n        return isSupported;\n      }\n      return isEventSupported;\n    })(),\n    /*>>hasevent*/\n\n    // TODO :: Add flag for hasownprop ? didn't last time\n\n    // hasOwnProperty shim by kangax needed for Safari 2.0 support\n    _hasOwnProperty = ({}).hasOwnProperty, hasOwnProp;\n\n    if ( !is(_hasOwnProperty, 'undefined') && !is(_hasOwnProperty.call, 'undefined') ) {\n      hasOwnProp = function (object, property) {\n        return _hasOwnProperty.call(object, property);\n      };\n    }\n    else {\n      hasOwnProp = function (object, property) { /* yes, this can give false positives/negatives, but most of the time we don't care about those */\n        return ((property in object) && is(object.constructor.prototype[property], 'undefined'));\n      };\n    }\n\n    // Adapted from ES5-shim https://github.com/kriskowal/es5-shim/blob/master/es5-shim.js\n    // es5.github.com/#x15.3.4.5\n\n    if (!Function.prototype.bind) {\n      Function.prototype.bind = function bind(that) {\n\n        var target = this;\n\n        if (typeof target != \"function\") {\n            throw new TypeError();\n        }\n\n        var args = slice.call(arguments, 1),\n            bound = function () {\n\n            if (this instanceof bound) {\n\n              var F = function(){};\n              F.prototype = target.prototype;\n              var self = new F();\n\n              var result = target.apply(\n                  self,\n                  args.concat(slice.call(arguments))\n              );\n              if (Object(result) === result) {\n                  return result;\n              }\n              return self;\n\n            } else {\n\n              return target.apply(\n                  that,\n                  args.concat(slice.call(arguments))\n              );\n\n            }\n\n        };\n\n        return bound;\n      };\n    }\n\n    /**\n     * setCss applies given styles to the Modernizr DOM node.\n     */\n    function setCss( str ) {\n        mStyle.cssText = str;\n    }\n\n    /**\n     * setCssAll extrapolates all vendor-specific css strings.\n     */\n    function setCssAll( str1, str2 ) {\n        return setCss(prefixes.join(str1 + ';') + ( str2 || '' ));\n    }\n\n    /**\n     * is returns a boolean for if typeof obj is exactly type.\n     */\n    function is( obj, type ) {\n        return typeof obj === type;\n    }\n\n    /**\n     * contains returns a boolean for if substr is found within str.\n     */\n    function contains( str, substr ) {\n        return !!~('' + str).indexOf(substr);\n    }\n\n    /*>>testprop*/\n\n    // testProps is a generic CSS / DOM property test.\n\n    // In testing support for a given CSS property, it's legit to test:\n    //    `elem.style[styleName] !== undefined`\n    // If the property is supported it will return an empty string,\n    // if unsupported it will return undefined.\n\n    // We'll take advantage of this quick test and skip setting a style\n    // on our modernizr element, but instead just testing undefined vs\n    // empty string.\n\n    // Because the testing of the CSS property names (with \"-\", as\n    // opposed to the camelCase DOM properties) is non-portable and\n    // non-standard but works in WebKit and IE (but not Gecko or Opera),\n    // we explicitly reject properties with dashes so that authors\n    // developing in WebKit or IE first don't end up with\n    // browser-specific content by accident.\n\n    function testProps( props, prefixed ) {\n        for ( var i in props ) {\n            var prop = props[i];\n            if ( !contains(prop, \"-\") && mStyle[prop] !== undefined ) {\n                return prefixed == 'pfx' ? prop : true;\n            }\n        }\n        return false;\n    }\n    /*>>testprop*/\n\n    // TODO :: add testDOMProps\n    /**\n     * testDOMProps is a generic DOM property test; if a browser supports\n     *   a certain property, it won't return undefined for it.\n     */\n    function testDOMProps( props, obj, elem ) {\n        for ( var i in props ) {\n            var item = obj[props[i]];\n            if ( item !== undefined) {\n\n                // return the property name as a string\n                if (elem === false) return props[i];\n\n                // let's bind a function\n                if (is(item, 'function')){\n                  // default to autobind unless override\n                  return item.bind(elem || obj);\n                }\n\n                // return the unbound function or obj or value\n                return item;\n            }\n        }\n        return false;\n    }\n\n    /*>>testallprops*/\n    /**\n     * testPropsAll tests a list of DOM properties we want to check against.\n     *   We specify literally ALL possible (known and/or likely) properties on\n     *   the element including the non-vendor prefixed one, for forward-\n     *   compatibility.\n     */\n    function testPropsAll( prop, prefixed, elem ) {\n\n        var ucProp  = prop.charAt(0).toUpperCase() + prop.slice(1),\n            props   = (prop + ' ' + cssomPrefixes.join(ucProp + ' ') + ucProp).split(' ');\n\n        // did they call .prefixed('boxSizing') or are we just testing a prop?\n        if(is(prefixed, \"string\") || is(prefixed, \"undefined\")) {\n          return testProps(props, prefixed);\n\n        // otherwise, they called .prefixed('requestAnimationFrame', window[, elem])\n        } else {\n          props = (prop + ' ' + (domPrefixes).join(ucProp + ' ') + ucProp).split(' ');\n          return testDOMProps(props, prefixed, elem);\n        }\n    }\n    /*>>testallprops*/\n\n\n    /**\n     * Tests\n     * -----\n     */\n\n    // The *new* flexbox\n    // dev.w3.org/csswg/css3-flexbox\n\n    tests['flexbox'] = function() {\n      return testPropsAll('flexWrap');\n    };\n\n    // The *old* flexbox\n    // www.w3.org/TR/2009/WD-css3-flexbox-20090723/\n\n    tests['flexboxlegacy'] = function() {\n        return testPropsAll('boxDirection');\n    };\n\n    // On the S60 and BB Storm, getContext exists, but always returns undefined\n    // so we actually have to call getContext() to verify\n    // github.com/Modernizr/Modernizr/issues/issue/97/\n\n    tests['canvas'] = function() {\n        var elem = document.createElement('canvas');\n        return !!(elem.getContext && elem.getContext('2d'));\n    };\n\n    tests['canvastext'] = function() {\n        return !!(Modernizr['canvas'] && is(document.createElement('canvas').getContext('2d').fillText, 'function'));\n    };\n\n    // webk.it/70117 is tracking a legit WebGL feature detect proposal\n\n    // We do a soft detect which may false positive in order to avoid\n    // an expensive context creation: bugzil.la/732441\n\n    tests['webgl'] = function() {\n        return !!window.WebGLRenderingContext;\n    };\n\n    /*\n     * The Modernizr.touch test only indicates if the browser supports\n     *    touch events, which does not necessarily reflect a touchscreen\n     *    device, as evidenced by tablets running Windows 7 or, alas,\n     *    the Palm Pre / WebOS (touch) phones.\n     *\n     * Additionally, Chrome (desktop) used to lie about its support on this,\n     *    but that has since been rectified: crbug.com/36415\n     *\n     * We also test for Firefox 4 Multitouch Support.\n     *\n     * For more info, see: modernizr.github.com/Modernizr/touch.html\n     */\n\n    tests['touch'] = function() {\n        var bool;\n\n        if(('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {\n          bool = true;\n        } else {\n          injectElementWithStyles(['@media (',prefixes.join('touch-enabled),('),mod,')','{#modernizr{top:9px;position:absolute}}'].join(''), function( node ) {\n            bool = node.offsetTop === 9;\n          });\n        }\n\n        return bool;\n    };\n\n\n    // geolocation is often considered a trivial feature detect...\n    // Turns out, it's quite tricky to get right:\n    //\n    // Using !!navigator.geolocation does two things we don't want. It:\n    //   1. Leaks memory in IE9: github.com/Modernizr/Modernizr/issues/513\n    //   2. Disables page caching in WebKit: webk.it/43956\n    //\n    // Meanwhile, in Firefox < 8, an about:config setting could expose\n    // a false positive that would throw an exception: bugzil.la/688158\n\n    tests['geolocation'] = function() {\n        return 'geolocation' in navigator;\n    };\n\n\n    tests['postmessage'] = function() {\n      return !!window.postMessage;\n    };\n\n\n    // Chrome incognito mode used to throw an exception when using openDatabase\n    // It doesn't anymore.\n    tests['websqldatabase'] = function() {\n      return !!window.openDatabase;\n    };\n\n    // Vendors had inconsistent prefixing with the experimental Indexed DB:\n    // - Webkit's implementation is accessible through webkitIndexedDB\n    // - Firefox shipped moz_indexedDB before FF4b9, but since then has been mozIndexedDB\n    // For speed, we don't test the legacy (and beta-only) indexedDB\n    tests['indexedDB'] = function() {\n      return !!testPropsAll(\"indexedDB\", window);\n    };\n\n    // documentMode logic from YUI to filter out IE8 Compat Mode\n    //   which false positives.\n    tests['hashchange'] = function() {\n      return isEventSupported('hashchange', window) && (document.documentMode === undefined || document.documentMode > 7);\n    };\n\n    // Per 1.6:\n    // This used to be Modernizr.historymanagement but the longer\n    // name has been deprecated in favor of a shorter and property-matching one.\n    // The old API is still available in 1.6, but as of 2.0 will throw a warning,\n    // and in the first release thereafter disappear entirely.\n    tests['history'] = function() {\n      return !!(window.history && history.pushState);\n    };\n\n    tests['draganddrop'] = function() {\n        var div = document.createElement('div');\n        return ('draggable' in div) || ('ondragstart' in div && 'ondrop' in div);\n    };\n\n    // FF3.6 was EOL'ed on 4/24/12, but the ESR version of FF10\n    // will be supported until FF19 (2/12/13), at which time, ESR becomes FF17.\n    // FF10 still uses prefixes, so check for it until then.\n    // for more ESR info, see: mozilla.org/en-US/firefox/organizations/faq/\n    tests['websockets'] = function() {\n        return 'WebSocket' in window || 'MozWebSocket' in window;\n    };\n\n\n    // css-tricks.com/rgba-browser-support/\n    tests['rgba'] = function() {\n        // Set an rgba() color and check the returned value\n\n        setCss('background-color:rgba(150,255,150,.5)');\n\n        return contains(mStyle.backgroundColor, 'rgba');\n    };\n\n    tests['hsla'] = function() {\n        // Same as rgba(), in fact, browsers re-map hsla() to rgba() internally,\n        //   except IE9 who retains it as hsla\n\n        setCss('background-color:hsla(120,40%,100%,.5)');\n\n        return contains(mStyle.backgroundColor, 'rgba') || contains(mStyle.backgroundColor, 'hsla');\n    };\n\n    tests['multiplebgs'] = function() {\n        // Setting multiple images AND a color on the background shorthand property\n        //  and then querying the style.background property value for the number of\n        //  occurrences of \"url(\" is a reliable method for detecting ACTUAL support for this!\n\n        setCss('background:url(https://),url(https://),red url(https://)');\n\n        // If the UA supports multiple backgrounds, there should be three occurrences\n        //   of the string \"url(\" in the return value for elemStyle.background\n\n        return (/(url\\s*\\(.*?){3}/).test(mStyle.background);\n    };\n\n\n\n    // this will false positive in Opera Mini\n    //   github.com/Modernizr/Modernizr/issues/396\n\n    tests['backgroundsize'] = function() {\n        return testPropsAll('backgroundSize');\n    };\n\n    tests['borderimage'] = function() {\n        return testPropsAll('borderImage');\n    };\n\n\n    // Super comprehensive table about all the unique implementations of\n    // border-radius: muddledramblings.com/table-of-css3-border-radius-compliance\n\n    tests['borderradius'] = function() {\n        return testPropsAll('borderRadius');\n    };\n\n    // WebOS unfortunately false positives on this test.\n    tests['boxshadow'] = function() {\n        return testPropsAll('boxShadow');\n    };\n\n    // FF3.0 will false positive on this test\n    tests['textshadow'] = function() {\n        return document.createElement('div').style.textShadow === '';\n    };\n\n\n    tests['opacity'] = function() {\n        // Browsers that actually have CSS Opacity implemented have done so\n        //  according to spec, which means their return values are within the\n        //  range of [0.0,1.0] - including the leading zero.\n\n        setCssAll('opacity:.55');\n\n        // The non-literal . in this regex is intentional:\n        //   German Chrome returns this value as 0,55\n        // github.com/Modernizr/Modernizr/issues/#issue/59/comment/516632\n        return (/^0.55$/).test(mStyle.opacity);\n    };\n\n\n    // Note, Android < 4 will pass this test, but can only animate\n    //   a single property at a time\n    //   goo.gl/v3V4Gp\n    tests['cssanimations'] = function() {\n        return testPropsAll('animationName');\n    };\n\n\n    tests['csscolumns'] = function() {\n        return testPropsAll('columnCount');\n    };\n\n\n    tests['cssgradients'] = function() {\n        /**\n         * For CSS Gradients syntax, please see:\n         * webkit.org/blog/175/introducing-css-gradients/\n         * developer.mozilla.org/en/CSS/-moz-linear-gradient\n         * developer.mozilla.org/en/CSS/-moz-radial-gradient\n         * dev.w3.org/csswg/css3-images/#gradients-\n         */\n\n        var str1 = 'background-image:',\n            str2 = 'gradient(linear,left top,right bottom,from(#9f9),to(white));',\n            str3 = 'linear-gradient(left top,#9f9, white);';\n\n        setCss(\n             // legacy webkit syntax (FIXME: remove when syntax not in use anymore)\n              (str1 + '-webkit- '.split(' ').join(str2 + str1) +\n             // standard syntax             // trailing 'background-image:'\n              prefixes.join(str3 + str1)).slice(0, -str1.length)\n        );\n\n        return contains(mStyle.backgroundImage, 'gradient');\n    };\n\n\n    tests['cssreflections'] = function() {\n        return testPropsAll('boxReflect');\n    };\n\n\n    tests['csstransforms'] = function() {\n        return !!testPropsAll('transform');\n    };\n\n\n    tests['csstransforms3d'] = function() {\n\n        var ret = !!testPropsAll('perspective');\n\n        // Webkit's 3D transforms are passed off to the browser's own graphics renderer.\n        //   It works fine in Safari on Leopard and Snow Leopard, but not in Chrome in\n        //   some conditions. As a result, Webkit typically recognizes the syntax but\n        //   will sometimes throw a false positive, thus we must do a more thorough check:\n        if ( ret && 'webkitPerspective' in docElement.style ) {\n\n          // Webkit allows this media query to succeed only if the feature is enabled.\n          // `@media (transform-3d),(-webkit-transform-3d){ ... }`\n          injectElementWithStyles('@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}', function( node, rule ) {\n            ret = node.offsetLeft === 9 && node.offsetHeight === 3;\n          });\n        }\n        return ret;\n    };\n\n\n    tests['csstransitions'] = function() {\n        return testPropsAll('transition');\n    };\n\n\n    /*>>fontface*/\n    // @font-face detection routine by Diego Perini\n    // javascript.nwbox.com/CSSSupport/\n\n    // false positives:\n    //   WebOS github.com/Modernizr/Modernizr/issues/342\n    //   WP7   github.com/Modernizr/Modernizr/issues/538\n    tests['fontface'] = function() {\n        var bool;\n\n        injectElementWithStyles('@font-face {font-family:\"font\";src:url(\"https://\")}', function( node, rule ) {\n          var style = document.getElementById('smodernizr'),\n              sheet = style.sheet || style.styleSheet,\n              cssText = sheet ? (sheet.cssRules && sheet.cssRules[0] ? sheet.cssRules[0].cssText : sheet.cssText || '') : '';\n\n          bool = /src/i.test(cssText) && cssText.indexOf(rule.split(' ')[0]) === 0;\n        });\n\n        return bool;\n    };\n    /*>>fontface*/\n\n    // CSS generated content detection\n    tests['generatedcontent'] = function() {\n        var bool;\n\n        injectElementWithStyles(['#',mod,'{font:0/0 a}#',mod,':after{content:\"',smile,'\";visibility:hidden;font:3px/1 a}'].join(''), function( node ) {\n          bool = node.offsetHeight >= 3;\n        });\n\n        return bool;\n    };\n\n\n\n    // These tests evaluate support of the video/audio elements, as well as\n    // testing what types of content they support.\n    //\n    // We're using the Boolean constructor here, so that we can extend the value\n    // e.g.  Modernizr.video     // true\n    //       Modernizr.video.ogg // 'probably'\n    //\n    // Codec values from : github.com/NielsLeenheer/html5test/blob/9106a8/index.html#L845\n    //                     thx to NielsLeenheer and zcorpan\n\n    // Note: in some older browsers, \"no\" was a return value instead of empty string.\n    //   It was live in FF3.5.0 and 3.5.1, but fixed in 3.5.2\n    //   It was also live in Safari 4.0.0 - 4.0.4, but fixed in 4.0.5\n\n    tests['video'] = function() {\n        var elem = document.createElement('video'),\n            bool = false;\n\n        // IE9 Running on Windows Server SKU can cause an exception to be thrown, bug #224\n        try {\n            if ( bool = !!elem.canPlayType ) {\n                bool      = new Boolean(bool);\n                bool.ogg  = elem.canPlayType('video/ogg; codecs=\"theora\"')      .replace(/^no$/,'');\n\n                // Without QuickTime, this value will be `undefined`. github.com/Modernizr/Modernizr/issues/546\n                bool.h264 = elem.canPlayType('video/mp4; codecs=\"avc1.42E01E\"') .replace(/^no$/,'');\n\n                bool.webm = elem.canPlayType('video/webm; codecs=\"vp8, vorbis\"').replace(/^no$/,'');\n            }\n\n        } catch(e) { }\n\n        return bool;\n    };\n\n    tests['audio'] = function() {\n        var elem = document.createElement('audio'),\n            bool = false;\n\n        try {\n            if ( bool = !!elem.canPlayType ) {\n                bool      = new Boolean(bool);\n                bool.ogg  = elem.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,'');\n                bool.mp3  = elem.canPlayType('audio/mpeg;')               .replace(/^no$/,'');\n\n                // Mimetypes accepted:\n                //   developer.mozilla.org/En/Media_formats_supported_by_the_audio_and_video_elements\n                //   bit.ly/iphoneoscodecs\n                bool.wav  = elem.canPlayType('audio/wav; codecs=\"1\"')     .replace(/^no$/,'');\n                bool.m4a  = ( elem.canPlayType('audio/x-m4a;')            ||\n                              elem.canPlayType('audio/aac;'))             .replace(/^no$/,'');\n            }\n        } catch(e) { }\n\n        return bool;\n    };\n\n\n    // In FF4, if disabled, window.localStorage should === null.\n\n    // Normally, we could not test that directly and need to do a\n    //   `('localStorage' in window) && ` test first because otherwise Firefox will\n    //   throw bugzil.la/365772 if cookies are disabled\n\n    // Also in iOS5 Private Browsing mode, attempting to use localStorage.setItem\n    // will throw the exception:\n    //   QUOTA_EXCEEDED_ERRROR DOM Exception 22.\n    // Peculiarly, getItem and removeItem calls do not throw.\n\n    // Because we are forced to try/catch this, we'll go aggressive.\n\n    // Just FWIW: IE8 Compat mode supports these features completely:\n    //   www.quirksmode.org/dom/html5.html\n    // But IE8 doesn't support either with local files\n\n    tests['localstorage'] = function() {\n        try {\n            localStorage.setItem(mod, mod);\n            localStorage.removeItem(mod);\n            return true;\n        } catch(e) {\n            return false;\n        }\n    };\n\n    tests['sessionstorage'] = function() {\n        try {\n            sessionStorage.setItem(mod, mod);\n            sessionStorage.removeItem(mod);\n            return true;\n        } catch(e) {\n            return false;\n        }\n    };\n\n\n    tests['webworkers'] = function() {\n        return !!window.Worker;\n    };\n\n\n    tests['applicationcache'] = function() {\n        return !!window.applicationCache;\n    };\n\n\n    // Thanks to Erik Dahlstrom\n    tests['svg'] = function() {\n        return !!document.createElementNS && !!document.createElementNS(ns.svg, 'svg').createSVGRect;\n    };\n\n    // specifically for SVG inline in HTML, not within XHTML\n    // test page: paulirish.com/demo/inline-svg\n    tests['inlinesvg'] = function() {\n      var div = document.createElement('div');\n      div.innerHTML = '<svg/>';\n      return (div.firstChild && div.firstChild.namespaceURI) == ns.svg;\n    };\n\n    // SVG SMIL animation\n    tests['smil'] = function() {\n        return !!document.createElementNS && /SVGAnimate/.test(toString.call(document.createElementNS(ns.svg, 'animate')));\n    };\n\n    // This test is only for clip paths in SVG proper, not clip paths on HTML content\n    // demo: srufaculty.sru.edu/david.dailey/svg/newstuff/clipPath4.svg\n\n    // However read the comments to dig into applying SVG clippaths to HTML content here:\n    //   github.com/Modernizr/Modernizr/issues/213#issuecomment-1149491\n    tests['svgclippaths'] = function() {\n        return !!document.createElementNS && /SVGClipPath/.test(toString.call(document.createElementNS(ns.svg, 'clipPath')));\n    };\n\n    /*>>webforms*/\n    // input features and input types go directly onto the ret object, bypassing the tests loop.\n    // Hold this guy to execute in a moment.\n    function webforms() {\n        /*>>input*/\n        // Run through HTML5's new input attributes to see if the UA understands any.\n        // We're using f which is the <input> element created early on\n        // Mike Taylr has created a comprehensive resource for testing these attributes\n        //   when applied to all input types:\n        //   miketaylr.com/code/input-type-attr.html\n        // spec: www.whatwg.org/specs/web-apps/current-work/multipage/the-input-element.html#input-type-attr-summary\n\n        // Only input placeholder is tested while textarea's placeholder is not.\n        // Currently Safari 4 and Opera 11 have support only for the input placeholder\n        // Both tests are available in feature-detects/forms-placeholder.js\n        Modernizr['input'] = (function( props ) {\n            for ( var i = 0, len = props.length; i < len; i++ ) {\n                attrs[ props[i] ] = !!(props[i] in inputElem);\n            }\n            if (attrs.list){\n              // safari false positive's on datalist: webk.it/74252\n              // see also github.com/Modernizr/Modernizr/issues/146\n              attrs.list = !!(document.createElement('datalist') && window.HTMLDataListElement);\n            }\n            return attrs;\n        })('autocomplete autofocus list placeholder max min multiple pattern required step'.split(' '));\n        /*>>input*/\n\n        /*>>inputtypes*/\n        // Run through HTML5's new input types to see if the UA understands any.\n        //   This is put behind the tests runloop because it doesn't return a\n        //   true/false like all the other tests; instead, it returns an object\n        //   containing each input type with its corresponding true/false value\n\n        // Big thanks to @miketaylr for the html5 forms expertise. miketaylr.com/\n        Modernizr['inputtypes'] = (function(props) {\n\n            for ( var i = 0, bool, inputElemType, defaultView, len = props.length; i < len; i++ ) {\n\n                inputElem.setAttribute('type', inputElemType = props[i]);\n                bool = inputElem.type !== 'text';\n\n                // We first check to see if the type we give it sticks..\n                // If the type does, we feed it a textual value, which shouldn't be valid.\n                // If the value doesn't stick, we know there's input sanitization which infers a custom UI\n                if ( bool ) {\n\n                    inputElem.value         = smile;\n                    inputElem.style.cssText = 'position:absolute;visibility:hidden;';\n\n                    if ( /^range$/.test(inputElemType) && inputElem.style.WebkitAppearance !== undefined ) {\n\n                      docElement.appendChild(inputElem);\n                      defaultView = document.defaultView;\n\n                      // Safari 2-4 allows the smiley as a value, despite making a slider\n                      bool =  defaultView.getComputedStyle &&\n                              defaultView.getComputedStyle(inputElem, null).WebkitAppearance !== 'textfield' &&\n                              // Mobile android web browser has false positive, so must\n                              // check the height to see if the widget is actually there.\n                              (inputElem.offsetHeight !== 0);\n\n                      docElement.removeChild(inputElem);\n\n                    } else if ( /^(search|tel)$/.test(inputElemType) ){\n                      // Spec doesn't define any special parsing or detectable UI\n                      //   behaviors so we pass these through as true\n\n                      // Interestingly, opera fails the earlier test, so it doesn't\n                      //  even make it here.\n\n                    } else if ( /^(url|email)$/.test(inputElemType) ) {\n                      // Real url and email support comes with prebaked validation.\n                      bool = inputElem.checkValidity && inputElem.checkValidity() === false;\n\n                    } else {\n                      // If the upgraded input compontent rejects the :) text, we got a winner\n                      bool = inputElem.value != smile;\n                    }\n                }\n\n                inputs[ props[i] ] = !!bool;\n            }\n            return inputs;\n        })('search tel url email datetime date month week time datetime-local number range color'.split(' '));\n        /*>>inputtypes*/\n    }\n    /*>>webforms*/\n\n\n    // End of test definitions\n    // -----------------------\n\n\n\n    // Run through all tests and detect their support in the current UA.\n    // todo: hypothetically we could be doing an array of tests and use a basic loop here.\n    for ( var feature in tests ) {\n        if ( hasOwnProp(tests, feature) ) {\n            // run the test, throw the return value into the Modernizr,\n            //   then based on that boolean, define an appropriate className\n            //   and push it into an array of classes we'll join later.\n            featureName  = feature.toLowerCase();\n            Modernizr[featureName] = tests[feature]();\n\n            classes.push((Modernizr[featureName] ? '' : 'no-') + featureName);\n        }\n    }\n\n    /*>>webforms*/\n    // input tests need to run.\n    Modernizr.input || webforms();\n    /*>>webforms*/\n\n\n    /**\n     * addTest allows the user to define their own feature tests\n     * the result will be added onto the Modernizr object,\n     * as well as an appropriate className set on the html element\n     *\n     * @param feature - String naming the feature\n     * @param test - Function returning true if feature is supported, false if not\n     */\n     Modernizr.addTest = function ( feature, test ) {\n       if ( typeof feature == 'object' ) {\n         for ( var key in feature ) {\n           if ( hasOwnProp( feature, key ) ) {\n             Modernizr.addTest( key, feature[ key ] );\n           }\n         }\n       } else {\n\n         feature = feature.toLowerCase();\n\n         if ( Modernizr[feature] !== undefined ) {\n           // we're going to quit if you're trying to overwrite an existing test\n           // if we were to allow it, we'd do this:\n           //   var re = new RegExp(\"\\\\b(no-)?\" + feature + \"\\\\b\");\n           //   docElement.className = docElement.className.replace( re, '' );\n           // but, no rly, stuff 'em.\n           return Modernizr;\n         }\n\n         test = typeof test == 'function' ? test() : test;\n\n         if (typeof enableClasses !== \"undefined\" && enableClasses) {\n           docElement.className += ' ' + (test ? '' : 'no-') + feature;\n         }\n         Modernizr[feature] = test;\n\n       }\n\n       return Modernizr; // allow chaining.\n     };\n\n\n    // Reset modElem.cssText to nothing to reduce memory footprint.\n    setCss('');\n    modElem = inputElem = null;\n\n    /*>>shiv*/\n    /**\n     * @preserve HTML5 Shiv prev3.7.1 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed\n     */\n    ;(function(window, document) {\n        /*jshint evil:true */\n        /** version */\n        var version = '3.7.0';\n\n        /** Preset options */\n        var options = window.html5 || {};\n\n        /** Used to skip problem elements */\n        var reSkip = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;\n\n        /** Not all elements can be cloned in IE **/\n        var saveClones = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;\n\n        /** Detect whether the browser supports default html5 styles */\n        var supportsHtml5Styles;\n\n        /** Name of the expando, to work with multiple documents or to re-shiv one document */\n        var expando = '_html5shiv';\n\n        /** The id for the the documents expando */\n        var expanID = 0;\n\n        /** Cached data for each document */\n        var expandoData = {};\n\n        /** Detect whether the browser supports unknown elements */\n        var supportsUnknownElements;\n\n        (function() {\n          try {\n            var a = document.createElement('a');\n            a.innerHTML = '<xyz></xyz>';\n            //if the hidden property is implemented we can assume, that the browser supports basic HTML5 Styles\n            supportsHtml5Styles = ('hidden' in a);\n\n            supportsUnknownElements = a.childNodes.length == 1 || (function() {\n              // assign a false positive if unable to shiv\n              (document.createElement)('a');\n              var frag = document.createDocumentFragment();\n              return (\n                typeof frag.cloneNode == 'undefined' ||\n                typeof frag.createDocumentFragment == 'undefined' ||\n                typeof frag.createElement == 'undefined'\n              );\n            }());\n          } catch(e) {\n            // assign a false positive if detection fails => unable to shiv\n            supportsHtml5Styles = true;\n            supportsUnknownElements = true;\n          }\n\n        }());\n\n        /*--------------------------------------------------------------------------*/\n\n        /**\n         * Creates a style sheet with the given CSS text and adds it to the document.\n         * @private\n         * @param {Document} ownerDocument The document.\n         * @param {String} cssText The CSS text.\n         * @returns {StyleSheet} The style element.\n         */\n        function addStyleSheet(ownerDocument, cssText) {\n          var p = ownerDocument.createElement('p'),\n          parent = ownerDocument.getElementsByTagName('head')[0] || ownerDocument.documentElement;\n\n          p.innerHTML = 'x<style>' + cssText + '</style>';\n          return parent.insertBefore(p.lastChild, parent.firstChild);\n        }\n\n        /**\n         * Returns the value of `html5.elements` as an array.\n         * @private\n         * @returns {Array} An array of shived element node names.\n         */\n        function getElements() {\n          var elements = html5.elements;\n          return typeof elements == 'string' ? elements.split(' ') : elements;\n        }\n\n        /**\n         * Returns the data associated to the given document\n         * @private\n         * @param {Document} ownerDocument The document.\n         * @returns {Object} An object of data.\n         */\n        function getExpandoData(ownerDocument) {\n          var data = expandoData[ownerDocument[expando]];\n          if (!data) {\n            data = {};\n            expanID++;\n            ownerDocument[expando] = expanID;\n            expandoData[expanID] = data;\n          }\n          return data;\n        }\n\n        /**\n         * returns a shived element for the given nodeName and document\n         * @memberOf html5\n         * @param {String} nodeName name of the element\n         * @param {Document} ownerDocument The context document.\n         * @returns {Object} The shived element.\n         */\n        function createElement(nodeName, ownerDocument, data){\n          if (!ownerDocument) {\n            ownerDocument = document;\n          }\n          if(supportsUnknownElements){\n            return ownerDocument.createElement(nodeName);\n          }\n          if (!data) {\n            data = getExpandoData(ownerDocument);\n          }\n          var node;\n\n          if (data.cache[nodeName]) {\n            node = data.cache[nodeName].cloneNode();\n          } else if (saveClones.test(nodeName)) {\n            node = (data.cache[nodeName] = data.createElem(nodeName)).cloneNode();\n          } else {\n            node = data.createElem(nodeName);\n          }\n\n          // Avoid adding some elements to fragments in IE < 9 because\n          // * Attributes like `name` or `type` cannot be set/changed once an element\n          //   is inserted into a document/fragment\n          // * Link elements with `src` attributes that are inaccessible, as with\n          //   a 403 response, will cause the tab/window to crash\n          // * Script elements appended to fragments will execute when their `src`\n          //   or `text` property is set\n          return node.canHaveChildren && !reSkip.test(nodeName) && !node.tagUrn ? data.frag.appendChild(node) : node;\n        }\n\n        /**\n         * returns a shived DocumentFragment for the given document\n         * @memberOf html5\n         * @param {Document} ownerDocument The context document.\n         * @returns {Object} The shived DocumentFragment.\n         */\n        function createDocumentFragment(ownerDocument, data){\n          if (!ownerDocument) {\n            ownerDocument = document;\n          }\n          if(supportsUnknownElements){\n            return ownerDocument.createDocumentFragment();\n          }\n          data = data || getExpandoData(ownerDocument);\n          var clone = data.frag.cloneNode(),\n          i = 0,\n          elems = getElements(),\n          l = elems.length;\n          for(;i<l;i++){\n            clone.createElement(elems[i]);\n          }\n          return clone;\n        }\n\n        /**\n         * Shivs the `createElement` and `createDocumentFragment` methods of the document.\n         * @private\n         * @param {Document|DocumentFragment} ownerDocument The document.\n         * @param {Object} data of the document.\n         */\n        function shivMethods(ownerDocument, data) {\n          if (!data.cache) {\n            data.cache = {};\n            data.createElem = ownerDocument.createElement;\n            data.createFrag = ownerDocument.createDocumentFragment;\n            data.frag = data.createFrag();\n          }\n\n\n          ownerDocument.createElement = function(nodeName) {\n            //abort shiv\n            if (!html5.shivMethods) {\n              return data.createElem(nodeName);\n            }\n            return createElement(nodeName, ownerDocument, data);\n          };\n\n          ownerDocument.createDocumentFragment = Function('h,f', 'return function(){' +\n                                                          'var n=f.cloneNode(),c=n.createElement;' +\n                                                          'h.shivMethods&&(' +\n                                                          // unroll the `createElement` calls\n                                                          getElements().join().replace(/[\\w\\-]+/g, function(nodeName) {\n            data.createElem(nodeName);\n            data.frag.createElement(nodeName);\n            return 'c(\"' + nodeName + '\")';\n          }) +\n            ');return n}'\n                                                         )(html5, data.frag);\n        }\n\n        /*--------------------------------------------------------------------------*/\n\n        /**\n         * Shivs the given document.\n         * @memberOf html5\n         * @param {Document} ownerDocument The document to shiv.\n         * @returns {Document} The shived document.\n         */\n        function shivDocument(ownerDocument) {\n          if (!ownerDocument) {\n            ownerDocument = document;\n          }\n          var data = getExpandoData(ownerDocument);\n\n          if (html5.shivCSS && !supportsHtml5Styles && !data.hasCSS) {\n            data.hasCSS = !!addStyleSheet(ownerDocument,\n                                          // corrects block display not defined in IE6/7/8/9\n                                          'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}' +\n                                            // adds styling not present in IE6/7/8/9\n                                            'mark{background:#FF0;color:#000}' +\n                                            // hides non-rendered elements\n                                            'template{display:none}'\n                                         );\n          }\n          if (!supportsUnknownElements) {\n            shivMethods(ownerDocument, data);\n          }\n          return ownerDocument;\n        }\n\n        /*--------------------------------------------------------------------------*/\n\n        /**\n         * The `html5` object is exposed so that more elements can be shived and\n         * existing shiving can be detected on iframes.\n         * @type Object\n         * @example\n         *\n         * // options can be changed before the script is included\n         * html5 = { 'elements': 'mark section', 'shivCSS': false, 'shivMethods': false };\n         */\n        var html5 = {\n\n          /**\n           * An array or space separated string of node names of the elements to shiv.\n           * @memberOf html5\n           * @type Array|String\n           */\n          'elements': options.elements || 'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video',\n\n          /**\n           * current version of html5shiv\n           */\n          'version': version,\n\n          /**\n           * A flag to indicate that the HTML5 style sheet should be inserted.\n           * @memberOf html5\n           * @type Boolean\n           */\n          'shivCSS': (options.shivCSS !== false),\n\n          /**\n           * Is equal to true if a browser supports creating unknown/HTML5 elements\n           * @memberOf html5\n           * @type boolean\n           */\n          'supportsUnknownElements': supportsUnknownElements,\n\n          /**\n           * A flag to indicate that the document's `createElement` and `createDocumentFragment`\n           * methods should be overwritten.\n           * @memberOf html5\n           * @type Boolean\n           */\n          'shivMethods': (options.shivMethods !== false),\n\n          /**\n           * A string to describe the type of `html5` object (\"default\" or \"default print\").\n           * @memberOf html5\n           * @type String\n           */\n          'type': 'default',\n\n          // shivs the document according to the specified `html5` object options\n          'shivDocument': shivDocument,\n\n          //creates a shived element\n          createElement: createElement,\n\n          //creates a shived documentFragment\n          createDocumentFragment: createDocumentFragment\n        };\n\n        /*--------------------------------------------------------------------------*/\n\n        // expose html5\n        window.html5 = html5;\n\n        // shiv the document\n        shivDocument(document);\n\n    }(this, document));\n    /*>>shiv*/\n\n    // Assign private properties to the return object with prefix\n    Modernizr._version      = version;\n\n    // expose these for the plugin API. Look in the source for how to join() them against your input\n    /*>>prefixes*/\n    Modernizr._prefixes     = prefixes;\n    /*>>prefixes*/\n    /*>>domprefixes*/\n    Modernizr._domPrefixes  = domPrefixes;\n    Modernizr._cssomPrefixes  = cssomPrefixes;\n    /*>>domprefixes*/\n\n    /*>>mq*/\n    // Modernizr.mq tests a given media query, live against the current state of the window\n    // A few important notes:\n    //   * If a browser does not support media queries at all (eg. oldIE) the mq() will always return false\n    //   * A max-width or orientation query will be evaluated against the current state, which may change later.\n    //   * You must specify values. Eg. If you are testing support for the min-width media query use:\n    //       Modernizr.mq('(min-width:0)')\n    // usage:\n    // Modernizr.mq('only screen and (max-width:768)')\n    Modernizr.mq            = testMediaQuery;\n    /*>>mq*/\n\n    /*>>hasevent*/\n    // Modernizr.hasEvent() detects support for a given event, with an optional element to test on\n    // Modernizr.hasEvent('gesturestart', elem)\n    Modernizr.hasEvent      = isEventSupported;\n    /*>>hasevent*/\n\n    /*>>testprop*/\n    // Modernizr.testProp() investigates whether a given style property is recognized\n    // Note that the property names must be provided in the camelCase variant.\n    // Modernizr.testProp('pointerEvents')\n    Modernizr.testProp      = function(prop){\n        return testProps([prop]);\n    };\n    /*>>testprop*/\n\n    /*>>testallprops*/\n    // Modernizr.testAllProps() investigates whether a given style property,\n    //   or any of its vendor-prefixed variants, is recognized\n    // Note that the property names must be provided in the camelCase variant.\n    // Modernizr.testAllProps('boxSizing')\n    Modernizr.testAllProps  = testPropsAll;\n    /*>>testallprops*/\n\n\n    /*>>teststyles*/\n    // Modernizr.testStyles() allows you to add custom styles to the document and test an element afterwards\n    // Modernizr.testStyles('#modernizr { position:absolute }', function(elem, rule){ ... })\n    Modernizr.testStyles    = injectElementWithStyles;\n    /*>>teststyles*/\n\n\n    /*>>prefixed*/\n    // Modernizr.prefixed() returns the prefixed or nonprefixed property name variant of your input\n    // Modernizr.prefixed('boxSizing') // 'MozBoxSizing'\n\n    // Properties must be passed as dom-style camelcase, rather than `box-sizing` hypentated style.\n    // Return values will also be the camelCase variant, if you need to translate that to hypenated style use:\n    //\n    //     str.replace(/([A-Z])/g, function(str,m1){ return '-' + m1.toLowerCase(); }).replace(/^ms-/,'-ms-');\n\n    // If you're trying to ascertain which transition end event to bind to, you might do something like...\n    //\n    //     var transEndEventNames = {\n    //       'WebkitTransition' : 'webkitTransitionEnd',\n    //       'MozTransition'    : 'transitionend',\n    //       'OTransition'      : 'oTransitionEnd',\n    //       'msTransition'     : 'MSTransitionEnd',\n    //       'transition'       : 'transitionend'\n    //     },\n    //     transEndEventName = transEndEventNames[ Modernizr.prefixed('transition') ];\n\n    Modernizr.prefixed      = function(prop, obj, elem){\n      if(!obj) {\n        return testPropsAll(prop, 'pfx');\n      } else {\n        // Testing DOM property e.g. Modernizr.prefixed('requestAnimationFrame', window) // 'mozRequestAnimationFrame'\n        return testPropsAll(prop, obj, elem);\n      }\n    };\n    /*>>prefixed*/\n\n\n    /*>>cssclasses*/\n    // Remove \"no-js\" class from <html> element, if it exists:\n    docElement.className = docElement.className.replace(/(^|\\s)no-js(\\s|$)/, '$1$2') +\n\n                            // Add the new classes to the <html> element.\n                            (enableClasses ? ' js ' + classes.join(' ') : '');\n    /*>>cssclasses*/\n\n    return Modernizr;\n\n})(this, this.document);\n","/*\n    jQuery Masked Input Plugin\n    Copyright (c) 2007 - 2014 Josh Bush (digitalbush.com)\n    Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license)\n    Version: 1.4.0\n*/\n! function(a) {\n  \"function\" == typeof define && define.amd ? define([\"jquery\"], a) : a(\"object\" == typeof exports ? require(\"jquery\") : jQuery)\n}(function(a) {\n  var b, c = navigator.userAgent,\n    d = /iphone/i.test(c),\n    e = /chrome/i.test(c),\n    f = /android/i.test(c);\n  a.mask = {\n    definitions: {\n      9: \"[0-9]\",\n      a: \"[A-Za-z]\",\n      \"*\": \"[A-Za-z0-9]\"\n    },\n    autoclear: !0,\n    dataName: \"rawMaskFn\",\n    placeholder: \"_\"\n  }, a.fn.extend({\n    caret: function(a, b) {\n      var c;\n      if (0 !== this.length && !this.is(\":hidden\")) return \"number\" == typeof a ? (b = \"number\" == typeof b ? b : a, this.each(function() {\n        this.setSelectionRange ? this.setSelectionRange(a, b) : this.createTextRange && (c = this.createTextRange(), c.collapse(!0), c.moveEnd(\"character\", b), c.moveStart(\"character\", a), c.select())\n      })) : (this[0].setSelectionRange ? (a = this[0].selectionStart, b = this[0].selectionEnd) : document.selection && document.selection.createRange && (c = document.selection.createRange(), a = 0 - c.duplicate().moveStart(\"character\", -1e5), b = a + c.text.length), {\n        begin: a,\n        end: b\n      })\n    },\n    unmask: function() {\n      return this.trigger(\"unmask\")\n    },\n    mask: function(c, g) {\n      var h, i, j, k, l, m, n, o;\n      if (!c && this.length > 0) {\n        h = a(this[0]);\n        var p = h.data(a.mask.dataName);\n        return p ? p() : void 0\n      }\n      return g = a.extend({\n        autoclear: a.mask.autoclear,\n        placeholder: a.mask.placeholder,\n        completed: null\n      }, g), i = a.mask.definitions, j = [], k = n = c.length, l = null, a.each(c.split(\"\"), function(a, b) {\n        \"?\" == b ? (n--, k = a) : i[b] ? (j.push(new RegExp(i[b])), null === l && (l = j.length - 1), k > a && (m = j.length - 1)) : j.push(null)\n      }), this.trigger(\"unmask\").each(function() {\n        function h() {\n          if (g.completed) {\n            for (var a = l; m >= a; a++)\n              if (j[a] && C[a] === p(a)) return;\n            g.completed.call(B)\n          }\n        }\n\n        function p(a) {\n          return g.placeholder.charAt(a < g.placeholder.length ? a : 0)\n        }\n\n        function q(a) {\n          for (; ++a < n && !j[a];);\n          return a\n        }\n\n        function r(a) {\n          for (; --a >= 0 && !j[a];);\n          return a\n        }\n\n        function s(a, b) {\n          var c, d;\n          if (!(0 > a)) {\n            for (c = a, d = q(b); n > c; c++)\n              if (j[c]) {\n                if (!(n > d && j[c].test(C[d]))) break;\n                C[c] = C[d], C[d] = p(d), d = q(d)\n              }\n            z(), B.caret(Math.max(l, a))\n          }\n        }\n\n        function t(a) {\n          var b, c, d, e;\n          for (b = a, c = p(a); n > b; b++)\n            if (j[b]) {\n              if (d = q(b), e = C[b], C[b] = c, !(n > d && j[d].test(e))) break;\n              c = e\n            }\n        }\n\n        function u() {\n          var a = B.val(),\n            b = B.caret();\n          if (a.length < o.length) {\n            for (A(!0); b.begin > 0 && !j[b.begin - 1];) b.begin--;\n            if (0 === b.begin)\n              for (; b.begin < l && !j[b.begin];) b.begin++;\n            B.caret(b.begin, b.begin)\n          } else {\n            for (A(!0); b.begin < n && !j[b.begin];) b.begin++;\n            B.caret(b.begin, b.begin)\n          }\n          h()\n        }\n\n        function v() {\n          A(), B.val() != E && B.change()\n        }\n\n        function w(a) {\n          if (!B.prop(\"readonly\")) {\n            var b, c, e, f = a.which || a.keyCode;\n            o = B.val(), 8 === f || 46 === f || d && 127 === f ? (b = B.caret(), c = b.begin, e = b.end, e - c === 0 && (c = 46 !== f ? r(c) : e = q(c - 1), e = 46 === f ? q(e) : e), y(c, e), s(c, e - 1), a.preventDefault()) : 13 === f ? v.call(this, a) : 27 === f && (B.val(E), B.caret(0, A()), a.preventDefault())\n          }\n        }\n\n        function x(b) {\n          if (!B.prop(\"readonly\")) {\n            var c, d, e, g = b.which || b.keyCode,\n              i = B.caret();\n            if (!(b.ctrlKey || b.altKey || b.metaKey || 32 > g) && g && 13 !== g) {\n              if (i.end - i.begin !== 0 && (y(i.begin, i.end), s(i.begin, i.end - 1)), c = q(i.begin - 1), n > c && (d = String.fromCharCode(g), j[c].test(d))) {\n                if (t(c), C[c] = d, z(), e = q(c), f) {\n                  var k = function() {\n                    a.proxy(a.fn.caret, B, e)()\n                  };\n                  setTimeout(k, 0)\n                } else B.caret(e);\n                i.begin <= m && h()\n              }\n              b.preventDefault()\n            }\n          }\n        }\n\n        function y(a, b) {\n          var c;\n          for (c = a; b > c && n > c; c++) j[c] && (C[c] = p(c))\n        }\n\n        function z() {\n          B.val(C.join(\"\"))\n        }\n\n        function A(a) {\n          var b, c, d, e = B.val(),\n            f = -1;\n          for (b = 0, d = 0; n > b; b++)\n            if (j[b]) {\n              for (C[b] = p(b); d++ < e.length;)\n                if (c = e.charAt(d - 1), j[b].test(c)) {\n                  C[b] = c, f = b;\n                  break\n                }\n              if (d > e.length) {\n                y(b + 1, n);\n                break\n              }\n            } else C[b] === e.charAt(d) && d++, k > b && (f = b);\n          return a ? z() : k > f + 1 ? g.autoclear || C.join(\"\") === D ? (B.val() && B.val(\"\"), y(0, n)) : z() : (z(), B.val(B.val().substring(0, f + 1))), k ? b : l\n        }\n        var B = a(this),\n          C = a.map(c.split(\"\"), function(a, b) {\n            return \"?\" != a ? i[a] ? p(b) : a : void 0\n          }),\n          D = C.join(\"\"),\n          E = B.val();\n        B.data(a.mask.dataName, function() {\n          return a.map(C, function(a, b) {\n            return j[b] && a != p(b) ? a : null\n          }).join(\"\")\n        }), B.one(\"unmask\", function() {\n          B.off(\".mask\").removeData(a.mask.dataName)\n        }).on(\"focus.mask\", function() {\n          if (!B.prop(\"readonly\")) {\n            clearTimeout(b);\n            var a;\n            E = B.val(), a = A(), b = setTimeout(function() {\n              z(), a == c.replace(\"?\", \"\").length ? B.caret(0, a) : B.caret(a)\n            }, 10)\n          }\n        }).on(\"blur.mask\", v).on(\"keydown.mask\", w).on(\"keypress.mask\", x).on(\"input.mask paste.mask\", function() {\n          B.prop(\"readonly\") || setTimeout(function() {\n            var a = A(!0);\n            B.caret(a), h()\n          }, 0)\n        }), e && f && B.off(\"input.mask\").on(\"input.mask\", u), A()\n      })\n    }\n  })\n});\n"]}