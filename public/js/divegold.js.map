{"version":3,"file":"divegold.js","sources":["../../app/js/application.js","../../app/js/login.js","../../app/js/operacao.js","../../app/js/planilha.js","../../app/js/reserva.js"],"names":["$","document","ready","click","e","delay","fadeIn","fadeOut","removeClass","this","addClass","preventDefault","initOperacoes","Modernizr","touch","attr","datepicker","dateFormat","dayNames","dayNamesMin","dayNamesShort","monthNames","monthNamesShort","nextText","prevText","minDate","afterShow","input","inst","td","dpDiv","css","width","getJSON","data","dynatable","writers","date","record","parsedDate","moment","format","status","parsedStatus","delete","id","inputs","recordCountPageBoundTemplate","recordCountPageUnboundedTemplate","recordCountTotalTemplate","recordCountFilteredTemplate","recordCountTextTemplate","perPageText","processingText","paginationPrev","paginationNext","recordCountText","features","paginate","dataset","records","operations","fail","on","deleteOp","currentTarget","dateValue","dateArray","operation","val","split","Date","getTime","desc","addOperation","buttonTag","r","confirm","type","ajax","cache","url","dataType","JSON","stringify","success","callback","sweetAlert","settings","originalRecords","grep","op","index","process","error","xhr","textStatus","configTimeout","saveOperations","tableOperations","console","log","push","unblockUI","window","location","href","indexOf","getOperations","blockUI","message","border","padding","backgroundColor","-webkit-border-radius","-moz-border-radius","opacity","color","templateItem","opTemplate","Handlebars","compile","each","opItem","datePattern","getDate","getMonth","getFullYear","itemHtml","append","generate","initPlanilha","self","getAvailableDates","datelist","clearUserInfo","text","enabledAddBtn","removeAttr","getLongDate","stringDate","longDate","getDiveDates","beforeShowDay","inArray","applyPhoneMask","element","estados","mask","applyMasks","placeholder","clearOnLostFocus","msg","populateAparts","apItemTemplate","innApartTypes","find","slideDown","slideUp","populateGases","gasItemTemplate","gasTypes","populateTanks","tankItemTemplate","tankTypes","populateCombos","dataMergulhoTemplate","diverTypes","beforePost","submit","replace","trim","length","is","swal","title","showCancelButton","confirmButtonColor","confirmButtonText","sendPostRequest","reservation","Form","userInfo","name","cpf","cnpj","cep","address","city","uf","number","comp","region","tel","cel","email","diverType","diveDates","tankInfo","reservationComments","gearInfo","innInfo","i","v","item","opId","hasClass","needed","dateIn","dateOut","apType","reservationName","guests","acomp","diver","comments","context","html","initEvents","customRange","enterDate","setDate","populateUserInfo","checkEquipamentos","checkPousada","btnAddDate","dataMergulhoDP","dataEntradaDP","dataSaidaDP","comboDatas","comboDatasFim","btnDatas","btnDatasFim","divEquipamentos","divPousada","btnAddTanque","blur","focus","diveDate","dateHtml","template1","template2","gasTanqueRowTemplate","dpDate","gasTanqueHtml","last","parent","remove","parents","setHtml","template","gasTanqueSet","setDateFim","setCilindro","cilindroId","setGas","gasId","dateFim","cilindro","gas","beforeShow","hide","change","prop","cepValue","logradouro","bairro","localidade","cpfValue","cnpjValue","tooltip"],"mappings":"AAAAA,EAAEC,UAAUC,MAAM,cCAlBF,EAAE,WACAA,EAAE,oBAAoBG,MAAM,SAASC,GACnCJ,EAAE,eAAeK,MAAM,KAAKC,OAAO,KACnCN,EAAE,kBAAkBO,QAAQ,KAC5BP,EAAE,uBAAuBQ,YAAY,UACrCR,EAAES,MAAMC,SAAS,UACjBN,EAAEO,mBAEJX,EAAE,uBAAuBG,MAAM,SAASC,GACtCJ,EAAE,kBAAkBK,MAAM,KAAKC,OAAO,KACtCN,EAAE,eAAeO,QAAQ,KACzBP,EAAE,oBAAoBQ,YAAY,UAClCR,EAAES,MAAMC,SAAS,UACjBN,EAAEO,oBCbN,IAAIC,eAAgB,WAEbC,UAAUC,OACbd,EAAE,WAAWe,KAAK,OAAQ,QAAQC,YAChCC,WAAY,WACZC,UAAW,UAAW,UAAW,QAAS,SAAU,SAAU,QAAS,UACvEC,aAAc,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACjDC,eAAgB,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACjEC,YAAa,UAAW,YAAa,QAAS,QAAS,OAAQ,QAAS,QAAS,SAAU,WAAY,UAAW,WAAY,YAC9HC,iBAAkB,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC/FC,SAAU,UACVC,SAAU,WACVC,QAAS,EACTC,UAAW,SAASC,EAAOC,EAAMC,GAC/BD,EAAKE,MAAMC,IAAI,QAAS,SACxB/B,EAAE,kBAAkB+B,IAAI,QAAS/B,EAAE,WAAWgC,YAMpDhC,EAAEiC,QAAQ,4DAA6D,SAASC,GAE9ElC,EAAE,YAAYmC,WACZC,SACEC,KAAQ,SAASC,GAEf,MADAA,GAAOC,WAAaD,EAAOD,KACpBG,OAAOF,EAAOD,MAAMI,OAAO,eAEpCC,OAAU,SAASJ,GAEjB,MADAA,GAAOK,aAAeL,EAAOI,OACrBJ,EAAa,OAAI,aAAe,aAE1CM,SAAU,SAASN,GACjB,MAAO,oBAAsBA,EAAOO,GAAK,4GAG7CC,QACEC,6BAA8B,yCAC9BC,iCAAkC,oBAClCC,yBAA0B,uCAC1BC,4BAA6B,uCAC7BC,wBAAyB,2DACzBC,YAAa,YACbC,eAAgB,iBAChBC,eAAgB,WAChBC,eAAgB,UAChBC,gBAAiB,aAEnBC,UACEC,UAAU,GAEZC,SACEC,QAAS1B,EAAK2B,gBAGjBC,KAAK,cAIR9D,EAAE,mBAAmB+D,GAAG,QAAS,SAAU,SAAS3D,GAClD4D,SAAS5D,EAAE6D,iBAGbjE,EAAE,mBAAmBG,MAAM,WACzB,GACE+D,GACAC,EAFEC,IAIJF,GAAYlE,EAAE,WAAWqE,MACzBF,EAAYD,EAAUI,MAAM,KAC5BJ,EAAYC,EAAU,GAAK,IAAMA,EAAU,GAAK,IAAMA,EAAU,GAChEC,EAAU/B,KAAO,GAAIkC,MAAKL,GAAWM,UAErCJ,EAAUK,KAAOzE,EAAE,WAAWqE,MAE9BK,aAAaN,GAEbpE,EAAE,WAAWqE,IAAI,IACjBrE,EAAE,WAAWqE,IAAI,OAKjBL,SAAW,SAASW,GACtB,GAAIC,GAAIC,QAAQ,gIAChB,IAAID,KAAM,EAAM,CACd,GAAIR,MACFjC,EAAYnC,EAAE,YAAYkC,KAAK,YAEjCkC,GAAUvB,GAAK7C,EAAE2E,GAAWzC,KAAK,MACjCkC,EAAUU,QACVV,EAAUU,KAAKjC,GAAK,EACpBuB,EAAUU,KAAKL,KAAO,2BACtBL,EAAUK,KAAO,eACjBL,EAAU/B,MAAO,GAAIkC,OAAOC,UAC5BJ,EAAU1B,OAAS,EAEnB1C,EAAE+E,MACAC,OAAO,EACPC,IAAK,mEACLH,KAAM,OACNI,SAAU,OACVhD,KAAMiD,KAAKC,UAAUhB,GACrBiB,QAAS,SAASC,GAChBC,WAAW,iCAAkC,GAAI,WACjDpD,EAAUqD,SAAS7B,QAAQ8B,gBAAkBzF,EAAE0F,KAAKvD,EAAUqD,SAAS7B,QAAQ8B,gBAC7E,SAASE,EAAIC,GACX,MAAID,GAAG9C,KAAOuB,EAAUvB,IACf,GAEF,IAEXV,EAAU0D,WAEZC,MAAO,SAASC,EAAKC,EAAYF,GAC/BG,cAAc,2DAIlB7F,GAAEO,kBAIF+D,aAAe,SAASN,GAC1B,MAAKA,OAKL8B,gBAAe9B,OAJb6B,eAAc,2DAOdC,eAAiB,SAAShE,GAC5B,GACEiE,GADEhE,EAAYnC,EAAE,YAAYkC,KAAK,aAEjCkC,IAEGjC,GAAUqD,WAIfW,EAAkBhE,EAAUqD,SAAS7B,QAAQ8B,gBAE7CrB,EAAUvB,GAAK,EACfuB,EAAUU,QACVV,EAAUU,KAAKjC,GAAK,EACpBuB,EAAUU,KAAKL,KAAO,2BACtBL,EAAUK,KAAOvC,EAAKuC,KACtBL,EAAU/B,KAAOH,EAAKG,KACtB+B,EAAU1B,OAAS,EAEnB0D,QAAQC,IAAIlB,KAAKC,UAAUhB,IAE3BpE,EAAE+E,MACAC,OAAO,EACPC,IAAK,gEACLH,KAAM,OACNI,SAAU,OACVhD,KAAMiD,KAAKC,UAAUhB,GACrBiB,QAAS,SAASC,GAChBc,QAAQC,IAAIf,GACZnD,EAAUqD,SAAS7B,QAAQ8B,gBAAgBa,KAAKhB,GAChDnD,EAAU0D,UACVN,WAAW,gCAAiC,GAAI,YAElDO,MAAO,WACL9F,EAAEuG,YACFN,cAAc,yDAMpBjG,GAAEC,UAAUC,MAAM,WACmC,KAA/CsG,OAAOC,SAASC,KAAKC,QAAQ,eAC/B/F,iBChLJ,IAAIgG,eAAgB,WAClB5G,EAAE6G,SACAC,QAAS,mCACT/E,KACEgF,OAAQ,OACRC,QAAS,OACTC,gBAAiB,OACjBC,wBAAyB,OACzBC,qBAAsB,OACtBC,QAAS,GACTC,MAAO,UAGXrH,EAAEiC,QAAQ,6DAA8D,SAASC,GAC/E,GACEoF,GAAe,sDACfC,EAAaC,WAAWC,QAAQH,EAElCtH,GAAE0H,KAAKxF,EAAK2B,WAAY,WACtB,GACE8D,MACEC,EAAc,GAAIrD,MAAK9D,KAAK4B,KAChCsF,GAAO9E,GAAKpC,KAAKoC,GACjB8E,EAAOlD,KAAOhE,KAAKgE,KACnBkD,EAAOtF,KAAOuF,EAAYC,UAAY,KAAOD,EAAYE,WAAa,GAAK,IAAMF,EAAYG,aAC7F,IAAIC,GAAWT,EAAWI,EAC1B3H,GAAE,mBAAmBiI,OAAOD,KAE9BhI,EAAEuG,cACDzC,KAAK,WACNmC,cAAc,sDAIdiC,SAAW,aAoBXC,aAAe,WACjB,GAAIC,GAAO3H,IACXT,GAAE,gBAAgBG,MAAM,WACtBiI,EAAKF,aAITlI,GAAEC,UAAUC,MAAM,WACkC,KAA9CsG,OAAOC,SAASC,KAAKC,QAAQ,eAC/BwB,eACAvB,kBChEJ,IAAIyB,mBAAoB,WACtBrI,EAAEiC,QAAQ,qEAAsE,SAASC,GACvF,GAAIiC,KACJnE,GAAE0H,KAAKxF,EAAK2B,WAAY,WACtB,GAAI+D,GAAc,GAAIrD,MAAK9D,KAAK4B,KAChC8B,GAAUmC,KAAKsB,EAAYC,UAAY,KAAOD,EAAYE,WAAa,GAAK,IAAMF,EAAYG,iBAEhGO,SAAWnE,EACXnE,EAAE,eAAegB,WAAW,WAC5BhB,EAAEuG,cACDzC,KAAK,WACNmC,cAAc,sDAIdsC,cAAgB,WAClBvI,EAAE,aAAaqE,IAAI,IACnBrE,EAAE,QAAQqE,IAAI,IACdrE,EAAE,QAAQqE,IAAI,IACdrE,EAAE,WAAWqE,IAAI,IACjBrE,EAAE,SAASqE,IAAI,IACfrE,EAAE,WAAWqE,MACbrE,EAAE,WAAWqE,IAAI,IACjBrE,EAAE,OAAOqE,IAAI,IACbrE,EAAE,QAAQqE,IAAI,IACdrE,EAAE,QAAQqE,IAAI,IACdrE,EAAE,UAAUqE,IAAI,IAChBrE,EAAE,qBAAqBwI,KAAK,cAG1BC,cAAgB,WACe,cAA7BzI,EAAE,gBAAgBwI,QACM,cAA1BxI,EAAE,aAAawI,QACW,cAA1BxI,EAAE,aAAawI,OACfxI,EAAE,iBAAiB0I,WAAW,WAAY,IAE1C1I,EAAE,iBAAiBe,KAAK,WAAY,KAIpC4H,YAAc,SAASC,GACzB,GAAIC,EACJ,IAAID,EAAY,CACd,GACE3H,GADEkD,EAAYyE,EAAWtE,MAAM,IAGjCrD,GAAakD,EAAU,GAAK,IAAMA,EAAU,GAAK,IAAMA,EAAU,GACjE0E,EAAW,GAAItE,MAAKtD,GAAYuD,UAElC,MAAOqE,IAGLC,aAAe,WACjB9I,EAAE,iBAAiBgB,YAEjBC,WAAY,WACZC,UAAW,UAAW,UAAW,QAAS,SAAU,SAAU,QAAS,UACvEC,aAAc,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACjDC,eAAgB,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACjEC,YAAa,UAAW,YAAa,QAAS,QAAS,OAAQ,QAAS,QAAS,SAAU,WAAY,UAAW,WAAY,YAC9HC,iBAAkB,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC/FC,SAAU,UACVC,SAAU,WACVuH,cAAe,SAAS1G,GAEtB,GAAIuF,GAAc,EAIlB,OAHAA,IAAevF,EAAKwF,UAAY,IAChCD,GAAgBvF,EAAKyF,WAAa,EAAK,IACvCF,GAAevF,EAAK0F,cAChB/H,EAAEgJ,QAAQpB,EAAaU,WAAa,IAC9B,EAAM,MAEN,EAAO,OAKrBtI,EAAE,iBAAiBG,MAAM,WACvBkI,uBAKAY,eAAiB,SAASC,GAC5B,GAAIC,IAAW,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAEvDnJ,GAAE,QAAQoJ,KADRF,EAAQ7E,OAAS8E,EAAQxC,QAAQuC,EAAQ7E,OAAS,GACrC,kBAEA,mBAIfgF,WAAa,WACfrJ,EAAE,QAAQoJ,KAAK,kBACbE,YAAa,IACbC,kBAAkB,IAEpBvJ,EAAE,SAASoJ,KAAK,sBACdE,YAAa,IACbC,kBAAkB,IAEpBvJ,EAAE,QAAQoJ,KAAK,cACbE,YAAa,IACbC,kBAAkB,IAEpBvJ,EAAE,OAAOoJ,KAAK,MACZE,YAAa,IACbC,kBAAkB,IAEpBvJ,EAAE,QAAQoJ,KAAK,kBACbE,YAAa,IACbC,kBAAkB,IAEpBvJ,EAAE,cAAcoJ,KAAK,OACnBE,YAAa,IACbC,kBAAkB,KAIlBtD,cAAgB,SAASuD,GAC3BpD,QAAQC,IAAImD,GACZxJ,EAAEuG,YACFhB,WAAW,SAAUiE,EAAK,UAGxBC,eAAiB,WACnB,GAAIxE,GAAM,oEACRqC,EAAe,kDACjBoC,gBAAiBlC,WAAWC,QAAQH,GAEpCtH,EAAEiC,QAAQgD,EAAK,SAAS/C,GACtBlC,EAAE0H,KAAKxF,EAAKyH,cAAe,WACzB,GAAI3B,GAAW0B,eAAejJ,KAC9BT,GAAE,gBAAgBiI,OAAOD,KAE3BhI,EAAE,gBAAgB4J,KAAK,MAAM7F,GAAG,QAAS,SAAS3D,GAChDJ,EAAE,cAAcwI,KAAKxI,EAAES,MAAM+H,SACN,gBAAnBxI,EAAES,MAAM+H,QAA+C,mBAAnBxI,EAAES,MAAM+H,UAC9CxI,EAAE,WAAW6J,UAAU,QACvB7J,EAAE,WAAW8J,QAAQ,QACrB9J,EAAE,WAAW8J,QAAQ,UAEA,iBAAnB9J,EAAES,MAAM+H,QAAgD,oBAAnBxI,EAAES,MAAM+H,UAC/CxI,EAAE,WAAW6J,UAAU,QACvB7J,EAAE,WAAW6J,UAAU,QACvB7J,EAAE,WAAW8J,QAAQ,UAEA,oBAAnB9J,EAAES,MAAM+H,QAAmD,uBAAnBxI,EAAES,MAAM+H,UAClDxI,EAAE,WAAW6J,UAAU,QACvB7J,EAAE,WAAW6J,UAAU,QACvB7J,EAAE,WAAW6J,UAAU,SAEF,aAAnB7J,EAAES,MAAM+H,SACVxI,EAAE,WAAW8J,QAAQ,QACrB9J,EAAE,WAAW8J,QAAQ,QACrB9J,EAAE,WAAW8J,QAAQ,SAEvB9J,EAAE,cAAce,KAAK,SAAUf,EAAES,MAAMmJ,KAAK,KAAK7I,KAAK,UACtDX,EAAEO,mBAGJmI,iBACChF,KAAK,WACNgF,eACA7C,cAAc,0DAId8D,cAAgB,WAClB,GAAI9E,GAAM,0DACRqC,EAAe,gDACjB0C,iBAAkBxC,WAAWC,QAAQH,GAErCtH,EAAEiC,QAAQgD,EAAK,SAAS/C,GACtBlC,EAAE0H,KAAKxF,EAAK+H,SAAU,WACpB,GAAIjC,GAAWgC,gBAAgBvJ,KAC/BT,GAAE,eAAeiI,OAAOD,KAE1BhI,EAAE,eAAe4J,KAAK,MAAM7F,GAAG,QAAS,SAAS3D,GAC/CA,EAAEO,iBACFX,EAAE,aAAawI,KAAKxI,EAAES,MAAM+H,QAC5BxI,EAAE,aAAae,KAAK,SAAUf,EAAES,MAAMmJ,KAAK,KAAK7I,KAAK,UACrD0H,kBAEFgB,mBACC3F,KAAK,WACNmC,cAAc,iDACdwD,oBAIAS,cAAgB,WAClB,GAAIjF,GAAM,2DACRqC,EAAe,gDACjB6C,kBAAmB3C,WAAWC,QAAQH,GAEtCtH,EAAEiC,QAAQgD,EAAK,SAAS/C,GACtBlC,EAAE0H,KAAKxF,EAAKkI,UAAW,WACrB,GAAIpC,GAAWmC,iBAAiB1J,KAChCT,GAAE,kBAAkBiI,OAAOD,KAE7BhI,EAAE,kBAAkB4J,KAAK,MAAM7F,GAAG,QAAS,SAAS3D,GAClDA,EAAEO,iBACFX,EAAE,gBAAgBwI,KAAKxI,EAAES,MAAM+H,QAC/BxI,EAAE,gBAAgBe,KAAK,SAAUf,EAAES,MAAMmJ,KAAK,KAAK7I,KAAK,UACxD0H,kBAEFsB,kBACCjG,KAAK,WACNmC,cAAc,qDACd8D,mBAIAM,eAAiB,WACnBrK,EAAE6G,SACAC,QAAS,qCACT/E,KACEgF,OAAQ,OACRC,QAAS,OACTC,gBAAiB,OACjBC,wBAAyB,OACzBC,qBAAsB,OACtBC,QAAS,GACTC,MAAO,SAIX,IAAIpC,GAAM,4DACRqC,EAAe,gDACjBgD,sBAAuB9C,WAAWC,QAAQH,GAE1CtH,EAAEiC,QAAQgD,EAAK,SAAS/C,GACtBlC,EAAE0H,KAAKxF,EAAKqI,WAAY,WACtB,GAAIvC,GAAWsC,qBAAqB7J,KACpCT,GAAE,uBAAuBiI,OAAOD,KAElChI,EAAE,uBAAuB4J,KAAK,MAAM7F,GAAG,QAAS,SAAS3D,GACvDA,EAAEO,iBACFX,EAAE,qBAAqBwI,KAAKxI,EAAES,MAAM+H,UAEtC0B,kBACCpG,KAAK,WACNmC,cAAc,wDACdiE,mBAIAM,WAAa,WACfxK,EAAE,gBAAgByK,OAAO,SAASrK,GAIhC,GAFAA,EAAEO,kBAEGX,EAAE,QAAQqE,MAAMqG,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIC,SAAW3K,EAAE,SAASqE,MAAMqG,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIC,OAEvL,WADA1E,eAAc,0CAIhB,KAAKjG,EAAE,aAAaqE,MAElB,WADA4B,eAAc,uBAGhB,KAAKjG,EAAE,QAAQqE,OAAoC,KAA3BrE,EAAE,QAAQqE,MAAMuG,OAEtC,WADA3E,eAAc,sBAGhB,KAAKjG,EAAE,QAAQqE,MAEb,WADA4B,eAAc,2DAGhB,KAAKjG,EAAE,UAAUqE,MAEf,WADA4B,eAAc,iCAGhB,IAAuC,KAAnCjG,EAAE,UAAUqE,MAAMsC,QAAQ,KAE5B,WADAV,eAAc,+BAGhB,IAAsC,cAAlCjG,EAAE,qBAAqBwI,OAEzB,WADAvC,eAAc,wCAGhB,IAAwC,IAApCjG,EAAE,uBAAuB4K,OAE3B,WADA3E,eAAc,iDAGhB,IAAoC,IAAhCjG,EAAE,mBAAmB4K,OAEvB,WADA3E,eAAc,wDAIhB,IAAIjG,EAAE,iBAAiB6K,GAAG,YAAa,CACrC,IAAK7K,EAAE,gBAAgBqE,QAAUrE,EAAE,cAAcqE,MAE/C,WADA4B,eAAc,0DAGhB,IAA+B,cAA3BjG,EAAE,cAAcwI,OAElB,WADAvC,eAAc,qCAGhB,KAAKjG,EAAE,gBAAgBqE,MAErB,WADA4B,eAAc,mDAGhB,IAAKjG,EAAE,WAAW6K,GAAG,cAAgB7K,EAAE,WAAWqE,OAC/CrE,EAAE,WAAW6K,GAAG,cAAgB7K,EAAE,WAAWqE,OAC7CrE,EAAE,WAAW6K,GAAG,cAAgB7K,EAAE,WAAWqE,MAE9C,WADA4B,eAAc,uDAKlB6E,MACEC,MAAO,qBACPvC,KAAM,iDACN1D,KAAM,UACNkG,kBAAkB,EAClBC,mBAAoB,mBACpBC,kBAAmB,QAClB,WACDC,gBAAgB/K,QAKlB+K,gBAAkB,SAAS/K,GAE7B,GAAIgL,MACAC,EAAO5K,IAkEX,IAhEAT,EAAE6G,SACAC,QAAS,6BACT/E,KACEgF,OAAQ,OACRC,QAAS,OACTC,gBAAiB,OACjBC,wBAAyB,OACzBC,qBAAsB,OACtBC,QAAS,GACTC,MAAO,UAIX+D,EAAYE,YACZF,EAAYE,SAASC,KAAOvL,EAAE,aAAaqE,MAC3C+G,EAAYE,SAASE,IAAMxL,EAAE,QAAQqE,MAAMqG,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAC1FU,EAAYE,SAASG,KAAOzL,EAAE,SAASqE,MAAMqG,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAC9HU,EAAYE,SAASI,IAAM1L,EAAE,QAAQqE,MAAMqG,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAC1FU,EAAYE,SAASK,QAAU3L,EAAE,QAAQqE,MACzC+G,EAAYE,SAASM,KAAO5L,EAAE,WAAWqE,MACzC+G,EAAYE,SAASO,GAAK7L,EAAE,OAAOqE,MACnC+G,EAAYE,SAASQ,OAAS9L,EAAE,WAAWqE,MAC3C+G,EAAYE,SAASS,KAAO/L,EAAE,SAASqE,MACvC+G,EAAYE,SAASU,OAAShM,EAAE,WAAWqE,MAC3C+G,EAAYE,SAASW,IAAMjM,EAAE,QAAQqE,MAAMqG,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAC3GU,EAAYE,SAASY,IAAMlM,EAAE,QAAQqE,MAAMqG,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAC3GU,EAAYE,SAASa,MAAQnM,EAAE,UAAUqE,MACzC+G,EAAYE,SAASc,UAA+C,cAAlCpM,EAAE,qBAAqBwI,OAA0BxI,EAAE,qBAAqBwI,OAAS,GACnH4C,EAAYiB,aACZjB,EAAYkB,YACZlB,EAAYmB,oBAAsBvM,EAAE,eAAeqE,MACnD+G,EAAYoB,YACZpB,EAAYqB,WAEZzM,EAAE0H,KAAK1H,EAAE,uBAAwB,SAAS0M,EAAGC,GAC3C,GAAIC,KAEJA,GAAKvK,KAAOsG,YAAY3I,EAAES,MAAM4D,OAChC+G,EAAYiB,UAAU/F,KAAKsG,KAG7B5M,EAAE0H,KAAK1H,EAAE,mBAAoB,SAAS0M,EAAGC,GACvC,GAAIC,KACJA,GAAKC,KAAO,IACZ7M,EAAE0H,KAAK1H,EAAES,MAAMmJ,KAAK,SAAU,SAAS8C,EAAGC,GACpC3M,EAAES,MAAMqM,SAAS,WACnBF,EAAK5M,EAAES,MAAMM,KAAK,SAAW4H,YAAY3I,EAAES,MAAM4D,OAEjDuI,EAAK5M,EAAES,MAAMM,KAAK,SAAWf,EAAES,MAAMM,KAAK,YAG9CqK,EAAYkB,SAAShG,KAAKsG,KAG5BxB,EAAYoB,SAASO,OAAS/M,EAAE,sBAAsB6K,GAAG,YAErDO,EAAYoB,SAASO,QACvB/M,EAAE0H,KAAK1H,EAAE,cAAe,SAAS0M,EAAGC,GAC9B3M,EAAES,MAAM4D,QACV+G,EAAYoB,SAASxM,EAAES,MAAMM,KAAK,SAAWf,EAAES,MAAM4D,SAI3D+G,EAAYqB,QAAQM,OAAS/M,EAAE,iBAAiB6K,GAAG,YAC/CO,EAAYqB,QAAQM,OAAQ,CAM9B,GALA3B,EAAYqB,QAAQO,OAASrE,YAAY3I,EAAE,gBAAgBqE,OAC3D+G,EAAYqB,QAAQQ,QAAUtE,YAAY3I,EAAE,cAAcqE,OAC1D+G,EAAYqB,QAAQS,OAAqC,cAA3BlN,EAAE,cAAcwI,OAA0BxI,EAAE,cAAcwI,OAAS,GACjG4C,EAAYqB,QAAQU,gBAAkBnN,EAAE,gBAAgBqE,MACxD+G,EAAYqB,QAAQW,UAChBpN,EAAE,WAAWqE,OAASrE,EAAE,WAAW6K,GAAG,YAAa,CACrD,GAAIwC,KAEJA,GAAM9B,KAAOvL,EAAE,WAAWqE,MAC1BgJ,EAAMC,MAAQtN,EAAE,kBAAkB6K,GAAG,YACrCO,EAAYqB,QAAQW,OAAO9G,KAAK+G,GAC5BrN,EAAE,WAAWqE,OAASrE,EAAE,WAAW6K,GAAG,cACxCwC,EAAM9B,KAAOvL,EAAE,WAAWqE,MAC1BgJ,EAAMC,MAAQtN,EAAE,mBAAmB6K,GAAG,YACtCO,EAAYqB,QAAQW,OAAO9G,KAAK+G,GAC5BrN,EAAE,WAAWqE,OAASrE,EAAE,WAAW6K,GAAG,cACxCwC,EAAM9B,KAAOvL,EAAE,WAAWqE,MAC1BgJ,EAAMC,MAAQtN,EAAE,kBAAkB6K,GAAG,YACrCO,EAAYqB,QAAQW,OAAO9G,KAAK+G,KAItCjC,EAAYqB,QAAQc,SAAWvN,EAAE,gBAAgBqE,MAGnD+B,QAAQC,IAAIlB,KAAKC,UAAUgG,IAC3BpL,EAAE+E,MACAC,OAAO,EACPC,IAAK,kEACLH,KAAM,OACNI,SAAU,OACVhD,KAAMiD,KAAKC,UAAUgG,GACrBoC,QAASnC,EACThG,QAAS,SAASC,GAEhBtF,EAAEuG,YACFhB,WAAW,gDAAiD,4NAA6N,WACzRvF,EAAE,WAAWyN,KAAK,wLAEpB3H,MAAO,WACLG,cAAc,4CAKhByH,WAAa,WA0Mf,QAASC,GAAYhM,GAEnB,GAAgB,aAAZA,EAAMkB,IAAqB,KAAO7C,EAAE,gBAAgBqE,MAAO,CAC7D,GAAIuJ,GAAY5N,EAAE,gBAAgBqE,MAC9BF,EAAYyJ,EAAUtJ,MAAM,IAChCsJ,GAAYzJ,EAAU,GAAK,IAAMA,EAAU,GAAK,IAAMA,EAAU,EAChE,IAAI1C,GAAU,GAAI8C,MAAKqJ,EAGvB,OAFAnM,GAAQoM,QAAQpM,EAAQoG,UAAY,IAGlCpG,QAASA,GAGX,OACEA,QAAS,GAmDf,QAASqM,GAAiB5L,GAExB,GAAKA,EAAKoJ,SAAV,CAIAtL,EAAE,aAAaqE,IAAInC,EAAKoJ,SAASC,MACjCvL,EAAE,QAAQqE,IAAInC,EAAKoJ,SAASI,KAC5B1L,EAAE,QAAQqE,IAAInC,EAAKoJ,SAASK,SAC5B3L,EAAE,WAAWqE,IAAInC,EAAKoJ,SAASQ,QAC/B9L,EAAE,SAASqE,IAAInC,EAAKoJ,SAASS,MAC7B/L,EAAE,WAAWqE,IAAInC,EAAKoJ,SAASU,QAC/BhM,EAAE,WAAWqE,IAAInC,EAAKoJ,SAASM,MAC/B5L,EAAE,OAAOqE,IAAInC,EAAKoJ,SAASO,IAC3B7L,EAAE,QAAQqE,IAAInC,EAAKoJ,SAASW,KAC5BjM,EAAE,QAAQqE,IAAInC,EAAKoJ,SAASY,KAC5BlM,EAAE,UAAUqE,IAAInC,EAAKoJ,SAASa,OAC9BnM,EAAE,qBAAqBwI,KAAKtG,EAAKoJ,SAASc,UAAU3H,MAEpDzE,EAAE,QAAQoJ,KAAK,cACbE,YAAa,IACbC,kBAAkB,IAEpBvJ,EAAE,OAAOoJ,KAAK,MACZE,YAAa,IACbC,kBAAkB,GAEpB,IAAIJ,IAAW,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KACrDnJ,GAAE,OAAOqE,OAAS8E,EAAQxC,QAAQ3G,EAAE,OAAOqE,OAAS,GACtDrE,EAAE,QAAQoJ,KAAK,mBACbG,kBAAkB,IAGpBvJ,EAAE,QAAQoJ,KAAK,kBACbG,kBAAkB,KA5SxB,GAAIwE,GAAoB/N,EAAE,sBACxBgO,EAAehO,EAAE,iBACjBiO,EAAajO,EAAE,eACfkO,EAAiBlO,EAAE,iBACnBmO,EAAgBnO,EAAE,gBAClBoO,EAAcpO,EAAE,cAKhBqO,GAJqBrO,EAAE,uBACJA,EAAE,qBACPA,EAAE,gBACJA,EAAE,cACDA,EAAE,gBACfsO,EAAgBtO,EAAE,kBAClBuO,EAAWvO,EAAE,aACbwO,EAAcxO,EAAE,gBAChByO,EAAkBzO,EAAE,iBACpB0O,EAAa1O,EAAE,YACf0L,EAAM1L,EAAE,QACR2O,EAAe3O,EAAE,iBAIjBoI,GAHcpI,EAAE,eACLA,EAAE,YACGA,EAAE,kBACXS,KAET4I,cAEArJ,EAAE,OAAO4O,KAAK,WACZ3F,eAAejJ,EAAES,SAGnBT,EAAE,aAAaG,MAAM,SAASC,GAC5B,GAAiC,SAA7BJ,EAAE,gBAAgBwI,OACpBxI,EAAE,QAAQ0I,WAAW,WAAY,IACjC1I,EAAE,SAASe,KAAK,WAAY,IAC5Bf,EAAE,SAASqE,IAAI,IACfrE,EAAE,QAAQ6O,QACV7O,EAAE,gBAAgBwI,KAAK,aAClB,CACL,GAAI5D,GAAIC,QAAQ,qDACZD,MAAM,GACR2D,gBACAvI,EAAE,QAAQ0I,WAAW,WAAY,IACjC1I,EAAE,SAASe,KAAK,WAAY,IAC5Bf,EAAE,SAASqE,IAAI,IACfrE,EAAE,QAAQ6O,SAEVzO,EAAEO,oBAMRX,EAAE,cAAcG,MAAM,SAASC,GAC7B,GAAIwE,GAAIC,QAAQ,qDACZD,MAAM,GACR2D,gBACAvI,EAAE,SAAS0I,WAAW,WAAY,IAClC1I,EAAE,QAAQe,KAAK,WAAY,IAC3Bf,EAAE,QAAQqE,IAAI,IACdrE,EAAE,SAAS6O,SAEXzO,EAAEO,mBAINX,EAAE,aAAaG,QAEf8N,EAAW9N,MAAM,SAASC,GAExB,GAA8C,KAA1CJ,EAAE,iBAAiBqE,MAAMsC,QAAQ,KAEnC,WADAV,eAAc,4BAIhB,IAMI6I,GACFC,EAPEC,EAAY,4ZACZC,EAAY,mDAEZ3E,EAAuB9C,WAAWC,QAAQuH,GAC1CE,EAAuB1H,WAAWC,QAAQwH,GAI5CE,EAASjB,EAAe7J,KAE1B,IAAI8K,GAAU,KAAOA,EAAQ,CAC3BjB,EAAe7J,IAAI,IACnByK,GACEzM,KAAQ8M,GAEVJ,EAAWzE,EAAqBwE,EAChC,IAAIM,GAAgBF,EAAqBJ,EACrCM,KACGf,EAAWzE,KAAK,WAAauF,EAAS,MAAMvE,SAC/C5K,EAAE,iBAAiBiI,OAAO8G,GAC1BV,EAAWpG,OAAOmH,GAClBd,EAAcrG,OAAOmH,GACrBf,EAAWzE,KAAK,KAAK7F,GAAG,QAAS,SAAS3D,GACxCA,EAAEO,iBACF4N,EAAS/F,KAAKxI,EAAES,MAAM+H,QACtBC,kBAEF6F,EAAc1E,KAAK,KAAK7F,GAAG,QAAS,SAAS3D,GAC3CA,EAAEO,iBACF6N,EAAYhG,KAAKxI,EAAES,MAAM+H,YAI3BuG,GACF/O,EAAE,kBAAkBqP,OAAOlP,MAAM,SAASC,GACxCA,EAAEO,iBACFX,EAAES,MAAM6O,SAASxF,QAAQ,IAAK,WAC5B9J,EAAES,MAAM8O,WAGVvP,EAAE,mBAAqBmP,EAAS,MAAMK,QAAQ,mBAAmB1F,QAAQ,IAAK,WAC5E9J,EAAES,MAAM8O,WAGVlB,EAAWzE,KAAK,WAAauF,EAAS,MAAMG,SAASC,SACrDjB,EAAc1E,KAAK,WAAauF,EAAS,MAAMG,SAASC,SAExDhB,EAAS/F,KAAK,aACdgG,EAAYhG,KAAK,aACjBxI,EAAE,gBAAgBwI,KAAK,aACvBxI,EAAE,aAAawI,KAAK,aAEf6F,EAAWzE,KAAK,WAAauF,EAAS,MAAMvE,QAC/C+D,EAAa5N,KAAK,WAAY,SASxC4N,EAAaxO,MAAM,SAASC,GAC1B,GAEIqP,GAFAC,EAAW,slCACXC,EAAenI,WAAWC,QAAQiI,GAEpC7B,EAAU7N,EAAE,aAAawI,OACzBoH,EAAa5P,EAAE,gBAAgBwI,OAC/BqH,EAAc7P,EAAE,gBAAgBwI,OAChCsH,EAAa9P,EAAE,gBAAgBe,KAAK,UACpCgP,EAAS/P,EAAE,aAAawI,OACxBwH,EAAQhQ,EAAE,aAAae,KAAK,SAEX,eAAf6O,IACFA,EAAa,IAGfH,EAAUE,GACRtN,KAAQwL,EACRoC,QAAWL,EACXM,SAAYL,EACZM,IAAOJ,EACPD,WAAcA,EACdE,MAASA,IAGXhQ,EAAE,qBAAqBiI,OAAOwH,GAC9BzP,EAAE,oBAAoBqP,OAAOlP,MAAM,SAASC,GAC1CA,EAAEO,iBACFX,EAAES,MAAM+O,QAAQ,mBAAmB1F,QAAQ,IAAK,WAC9C9J,EAAES,MAAM8O,aAGZhB,EAAS/F,KAAK,aACdgG,EAAYhG,KAAK,aACjBxI,EAAE,gBAAgBwI,KAAK,aACvBxI,EAAE,aAAawI,KAAK,aACpBmG,EAAa5N,KAAK,WAAY,MAIhCsH,oBAEA8F,EAAcnN,YACZC,WAAY,WACZC,UAAW,UAAW,UAAW,QAAS,SAAU,SAAU,QAAS,UACvEC,aAAc,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACjDC,eAAgB,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACjEC,YAAa,UAAW,YAAa,QAAS,QAAS,OAAQ,QAAS,QAAS,SAAU,WAAY,UAAW,WAAY,YAC9HC,iBAAkB,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC/FC,SAAU,UACVC,SAAU,WACVC,QAAS,IAGX2M,EAAYpN,YACVC,WAAY,WACZC,UAAW,UAAW,UAAW,QAAS,SAAU,SAAU,QAAS,UACvEC,aAAc,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACjDC,eAAgB,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACjEC,YAAa,UAAW,YAAa,QAAS,QAAS,OAAQ,QAAS,QAAS,SAAU,WAAY,UAAW,WAAY,YAC9HC,iBAAkB,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC/FC,SAAU,UACVC,SAAU,WACVC,QAAS,EACT2O,WAAYzC,IAsBd3N,EAAE0H,KAAK1H,EAAE,uBAAwB,SAAS0M,EAAGC,GAC3CN,UAAU/F,KAAKtG,EAAES,MAAM4D,SAGzBoK,EAAgB4B,OAChB3B,EAAW2B,OAEXtC,EAAkBuC,OAAO,SAASlQ,GAChCA,EAAEO,iBACEX,EAAES,MAAM8P,KAAK,WACf9B,EAAgB5E,UAAU,SAE1B7J,EAAE0H,KAAK1H,EAAE,cAAe,SAAS0M,EAAGC,GAClC3M,EAAES,MAAM4D,IAAI,MAEdoK,EAAgB3E,QAAQ,WAI5BkE,EAAasC,OAAO,SAASlQ,GAC3BA,EAAEO,iBACEX,EAAES,MAAM8P,KAAK,WACf7B,EAAW7E,UAAU,QAErB6E,EAAW5E,QAAQ,UAIvB4B,EAAIkD,KAAK,WACP,GAAI4B,GAAWxQ,EAAES,MAAM4D,MAAMqG,QAAQ,IAAK,IAAIA,QAAQ,IAAK,GAE3D,IAAI8F,EAAU,CACZ,GAAIvL,GAAM,oCAAsCuL,EAAW,OAE3DxQ,GAAEiC,QAAQgD,EAAK,SAAS/C,GACtBlC,EAAE,QAAQqE,IAAInC,EAAKuO,YACnBzQ,EAAE,WAAWqE,IAAInC,EAAKwO,QACtB1Q,EAAE,WAAWqE,IAAInC,EAAKyO,YACtB3Q,EAAE,OAAOqE,IAAInC,EAAK2J,IAClBzD,EAAKa,eAAejJ,EAAE,UACrB8D,KAAK,WACNsC,QAAQC,IAAI,wBA6ClBrG,EAAE,QAAQ4O,KAAK,WACb,GAAIgC,GAAW5Q,EAAES,MAAM4D,MAAMqG,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,IAAK,GAE5E,IAAIkG,EAAU,CACZ,GAAI3L,GAAM,uEAAyE2L,EAAW,GAC9F5Q,GAAEiC,QAAQgD,EAAK,SAAS/C,GACtB4L,EAAiB5L,KAChB4B,KAAK,WACNsC,QAAQC,IAAI,iCAKlBrG,EAAE,SAAS4O,KAAK,WACd,GAAIiC,GAAY7Q,EAAES,MAAM4D,MAAMqG,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,IAAK,GAE/G,IAAImG,EAAW,CACb,GAAI5L,GAAM,uEAAyE4L,EAAY,GAC/F7Q,GAAEiC,QAAQgD,EAAK,SAAS/C,GACtB4L,EAAiB5L,KAChB4B,KAAK,WACNsC,QAAQC,IAAI,kCAMlBrG,EAAE,2BAA2B8Q,UAE7BzG,iBACAG,aAGFxK,GAAEC,UAAUC,MAAM,WAChB,GAAiD,KAA7CsG,OAAOC,SAASC,KAAKC,QAAQ,YAAoB,CAGnD+G","sourcesContent":["$(document).ready(function() {\n\n});\n","$(function() {\n  $('#login-form-link').click(function(e) {\n    $(\"#login-form\").delay(100).fadeIn(100);\n    $(\"#register-form\").fadeOut(100);\n    $('#register-form-link').removeClass('active');\n    $(this).addClass('active');\n    e.preventDefault();\n  });\n  $('#register-form-link').click(function(e) {\n    $(\"#register-form\").delay(100).fadeIn(100);\n    $(\"#login-form\").fadeOut(100);\n    $('#login-form-link').removeClass('active');\n    $(this).addClass('active');\n    e.preventDefault();\n  });\n});\n","var initOperacoes = function() {\n\n  if (!Modernizr.touch) {\n    $(\"#opDate\").attr('type', 'text').datepicker({\n      dateFormat: 'dd/mm/yy',\n      dayNames: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'],\n      dayNamesMin: ['D', 'S', 'T', 'Q', 'Q', 'S', 'S', 'D'],\n      dayNamesShort: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb', 'Dom'],\n      monthNames: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],\n      monthNamesShort: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],\n      nextText: 'Próximo',\n      prevText: 'Anterior',\n      minDate: 0,\n      afterShow: function(input, inst, td) {\n        inst.dpDiv.css('width', '400px');\n        $(\".ui-datepicker\").css('width', $(\"#opDate\").width());\n      }\n    });\n    //$(\".ui-datepicker\").css('width', $(\"#opDate\").width());\n  }\n\n  $.getJSON(\"http://surerussolutions.com/divegold-webservice/operation\", function(data) {\n\n    $('#opTable').dynatable({\n      writers: {\n        'date': function(record) {\n          record.parsedDate = record.date;\n          return moment(record.date).format('DD/MM/YYYY');\n        },\n        'status': function(record) {\n          record.parsedStatus = record.status;\n          return (record.status) ? \"Confirmada\" : \"Em aberto\";\n        },\n        'delete': function(record) {\n          return \"<button data-id='\" + record.id + \"' class='btn btn-danger btn-xs btn-raised btnRemoveOp'><span class='mdi-content-clear'></span></button>\";\n        }\n      },\n      inputs: {\n        recordCountPageBoundTemplate: '{pageLowerBound} a {pageUpperBound} de',\n        recordCountPageUnboundedTemplate: '{recordsShown} de',\n        recordCountTotalTemplate: '{recordsQueryCount} {collectionName}',\n        recordCountFilteredTemplate: ' (filtrado {recordsTotal} operações)',\n        recordCountTextTemplate: '{text} {pageTemplate} {totalTemplate} {filteredTemplate}',\n        perPageText: 'Mostrar: ',\n        processingText: 'Processando...',\n        paginationPrev: 'Anterior',\n        paginationNext: 'Próximo',\n        recordCountText: 'Exibindo '\n      },\n      features: {\n        paginate: true\n      },\n      dataset: {\n        records: data.operations\n      }\n    });\n  }).fail(function() {\n\n  });\n\n  $(\".tableContainer\").on(\"click\", \"button\", function(e) {\n    deleteOp(e.currentTarget);\n  });\n\n  $(\"#btnAdicionarOp\").click(function() {\n    var operation = {},\n      dateValue,\n      dateArray;\n\n    dateValue = $(\"#opDate\").val();\n    dateArray = dateValue.split(\"/\");\n    dateValue = dateArray[1] + '-' + dateArray[0] + '-' + dateArray[2];\n    operation.date = new Date(dateValue).getTime();\n\n    operation.desc = $(\"#opName\").val();\n\n    addOperation(operation);\n\n    $(\"#opDate\").val(\"\");\n    $(\"#opName\").val(\"\");\n  });\n\n};\n\nvar deleteOp = function(buttonTag) {\n  var r = confirm(\"Tem certeza que deseja remover esta operação? Ao remover uma operação, todas as reservas feitas por clientes serão removidas.\");\n  if (r === true) {\n    var operation = {},\n      dynatable = $('#opTable').data('dynatable');\n\n    operation.id = $(buttonTag).data(\"id\");\n    operation.type = {};\n    operation.type.id = 1;\n    operation.type.desc = \"Livre - Mina da Passagem\";\n    operation.desc = \"TESTE-DELETE\";\n    operation.date = new Date().getTime();\n    operation.status = 0;\n\n    $.ajax({\n      cache: false,\n      url: \"http://surerussolutions.com/divegold-webservice/operation/delete\",\n      type: \"POST\",\n      dataType: \"json\",\n      data: JSON.stringify(operation),\n      success: function(callback) {\n        sweetAlert('Operação removida com sucesso!', '', 'success');\n        dynatable.settings.dataset.originalRecords = $.grep(dynatable.settings.dataset.originalRecords,\n          function(op, index) {\n            if (op.id === operation.id) {\n              return false;\n            }\n            return true;\n          });\n        dynatable.process();\n      },\n      error: function(xhr, textStatus, error) {\n        configTimeout(\"Ocorreu um erro ao tentar excluir esta operação.\");\n      }\n    });\n  } else {\n    e.preventDefault();\n  }\n};\n\nvar addOperation = function(operation) {\n  if (!operation) {\n    configTimeout(\"Os campos de data e nome da operação são obrigatórios.\");\n    return;\n  }\n\n  saveOperations(operation);\n};\n\nvar saveOperations = function(data) {\n  var dynatable = $('#opTable').data('dynatable'),\n    tableOperations,\n    operation = {};\n\n  if (!dynatable.settings) {\n    return;\n  }\n\n  tableOperations = dynatable.settings.dataset.originalRecords;\n\n  operation.id = 0;\n  operation.type = {};\n  operation.type.id = 1;\n  operation.type.desc = \"Livre - Mina da Passagem\";\n  operation.desc = data.desc;\n  operation.date = data.date;\n  operation.status = 0;\n\n  console.log(JSON.stringify(operation));\n\n  $.ajax({\n    cache: false,\n    url: \"http://surerussolutions.com/divegold-webservice/operation/add\",\n    type: \"POST\",\n    dataType: \"json\",\n    data: JSON.stringify(operation),\n    success: function(callback) {\n      console.log(callback);\n      dynatable.settings.dataset.originalRecords.push(callback);\n      dynatable.process();\n      sweetAlert('Operações salvas com sucesso!', '', 'success');\n    },\n    error: function() {\n      $.unblockUI();\n      configTimeout(\"Ocorreu um erro ao enviar ao salvar as operações.\");\n    }\n  });\n\n};\n\n$(document).ready(function() {\n  if (window.location.href.indexOf(\"/operacoes\") !== -1) {\n    initOperacoes();\n  }\n});\n","var getOperations = function() {\n  $.blockUI({\n    message: 'Carregando lista de operações...',\n    css: {\n      border: 'none',\n      padding: '15px',\n      backgroundColor: '#000',\n      '-webkit-border-radius': '10px',\n      '-moz-border-radius': '10px',\n      opacity: 0.5,\n      color: '#fff'\n    }\n  });\n  $.getJSON(\"//surerussolutions.com/divegold-webservice/rest/operation/\", function(data) {\n    var dateArray = [],\n      templateItem = \"<option value='{{id}}'>{{date}} - {{desc}}</option>\",\n      opTemplate = Handlebars.compile(templateItem);\n\n    $.each(data.operations, function() {\n      var comboString = \"\",\n        opItem = {};\n      var datePattern = new Date(this.date);\n      opItem.id = this.id;\n      opItem.desc = this.desc;\n      opItem.date = datePattern.getDate() + \"/\" + (datePattern.getMonth() + 1) + \"/\" + datePattern.getFullYear();\n      var itemHtml = opTemplate(opItem);\n      $(\".comboOperacoes\").append(itemHtml);\n    });\n    $.unblockUI();\n  }).fail(function() {\n    configTimeout(\"Ocorreu um erro ao buscar a lista de operações.\");\n  });\n};\n\nvar generate = function() {\n  // $.ajax({\n  //   cache: false,\n  //   url: \"http://ec2-54-232-198-208.sa-east-1.compute.amazonaws.com:8080/divegold-webservice/rest/reservation/btnGenerate/\",\n  //   type: \"POST\",\n  //   dataType: \"json\",\n  //   data: JSON.stringify(reservation),\n  //   context: Form,\n  //   success: function(callback) {\n  //     //console.log(JSON.parse(callback));\n  //     $.unblockUI();\n  //     sweetAlert('Solicitação de reserva realizada com sucesso!', 'Você receberá um email com o resumo da sua solicitação. Lembramos que sua reserva ainda não está confirmada e está sujeita à disponibilidade. Você receberá outro email quando sua reserva forma confirmada pela DIVEGOLD', 'success');\n  //     $('.center').html(\"<div class='text-center'><img src='https://s3-sa-east-1.amazonaws.com/felipemedia/divegold_logo.png' width='35' height='35' alt='DiveGold Logo'>Reserva efetuada com sucesso!</div>\");\n  //   },\n  //   error: function() {\n  //     configTimeout(\"Ocorreu um erro ao enviar a reserva.\");\n  //   }\n  // });\n};\n\nvar initPlanilha = function() {\n  var self = this;\n  $(\"#btnGenerate\").click(function() {\n    self.generate();\n  });\n};\n\n$(document).ready(function() {\n  if (window.location.href.indexOf(\"/planilha\") !== -1) {\n    initPlanilha();\n    getOperations();\n  }\n});\n","var getAvailableDates = function() { //teste\n  $.getJSON(\"http://surerussolutions.com/divegold-webservice/operation/status=0\", function(data) {\n    var dateArray = [];\n    $.each(data.operations, function() {\n      var datePattern = new Date(this.date);\n      dateArray.push(datePattern.getDate() + \"-\" + (datePattern.getMonth() + 1) + \"-\" + datePattern.getFullYear());\n    });\n    datelist = dateArray;\n    $(\"#datepicker\").datepicker(\"refresh\");\n    $.unblockUI();\n  }).fail(function() {\n    configTimeout(\"Ocorreu um erro ao buscar as datas de mergulho.\");\n  });\n};\n\nvar clearUserInfo = function() {\n  $(\"#userName\").val(\"\");\n  $(\"#cep\").val(\"\");\n  $(\"#rua\").val(\"\");\n  $(\"#numero\").val(\"\");\n  $(\"#comp\").val(\"\");\n  $(\"#bairro\").val();\n  $(\"#cidade\").val(\"\");\n  $(\"#uf\").val(\"\");\n  $(\"#tel\").val(\"\");\n  $(\"#cel\").val(\"\");\n  $(\"#email\").val(\"\");\n  $(\"#btnNivelMergulho\").text(\"Selecione\");\n};\n\nvar enabledAddBtn = function() {\n  if ($('#btnCilindro').text() !== \"Selecione\" &&\n    $(\"#btnGases\").text() !== \"Selecione\" &&\n    $(\"#btnDatas\").text() !== \"Selecione\") {\n    $(\".btnAddTanque\").removeAttr('disabled', '');\n  } else {\n    $(\".btnAddTanque\").attr('disabled', '');\n  }\n};\n\nvar getLongDate = function(stringDate) {\n  var longDate;\n  if (stringDate) {\n    var dateArray = stringDate.split(\"/\"),\n      dateFormat;\n\n    dateFormat = dateArray[1] + \"-\" + dateArray[0] + \"-\" + dateArray[2];\n    longDate = new Date(dateFormat).getTime();\n  }\n  return longDate;\n};\n\nvar getDiveDates = function() {\n  $(\"#dataMergulho\").datepicker({\n\n    dateFormat: 'dd/mm/yy',\n    dayNames: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'],\n    dayNamesMin: ['D', 'S', 'T', 'Q', 'Q', 'S', 'S', 'D'],\n    dayNamesShort: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb', 'Dom'],\n    monthNames: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],\n    monthNamesShort: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],\n    nextText: 'Próximo',\n    prevText: 'Anterior',\n    beforeShowDay: function(date) {\n\n      var datePattern = \"\";\n      datePattern += date.getDate() + \"-\";\n      datePattern += (date.getMonth() + 1) + \"-\";\n      datePattern += date.getFullYear();\n      if ($.inArray(datePattern, datelist) >= 0) {\n        return [true, \"\"];\n      } else {\n        return [false, \"\"];\n      }\n    }\n  });\n\n  $(\"#dataMergulho\").click(function() {\n    getAvailableDates();\n  });\n\n};\n\nvar applyPhoneMask = function(element) {\n  var estados = [\"SP\", \"RJ\", \"ES\", \"AM\", \"PA\", \"MA\", \"RR\", \"AP\"];\n  if (element.val() && estados.indexOf(element.val()) > -1) {\n    $(\".cel\").mask(\"(99) 99999-9999\");\n  } else {\n    $(\".cel\").mask(\"(99) 9999-9999\");\n  }\n};\n\nvar applyMasks = function() {\n  $(\"#cpf\").mask(\"999.999.999-99\", {\n    placeholder: \" \",\n    clearOnLostFocus: false\n  });\n  $(\"#cnpj\").mask(\"99.999.999/9999-99\", {\n    placeholder: \" \",\n    clearOnLostFocus: false\n  });\n  $(\"#cep\").mask(\"99.999-999\", {\n    placeholder: \" \",\n    clearOnLostFocus: false\n  });\n  $(\"#uf\").mask(\"aa\", {\n    placeholder: \" \",\n    clearOnLostFocus: false\n  });\n  $(\".cel\").mask(\"(99) 9999-9999\", {\n    placeholder: \" \",\n    clearOnLostFocus: false\n  });\n  $(\".equipment\").mask(\"9?9\", {\n    placeholder: \" \",\n    clearOnLostFocus: false\n  });\n};\n\nvar configTimeout = function(msg) {\n  console.log(msg);\n  $.unblockUI();\n  sweetAlert(\"Ops...\", msg, \"error\");\n};\n\nvar populateAparts = function() {\n  var url = 'http://surerussolutions.com/divegold-webservice/serrinha/apartype',\n    templateItem = \"<li><a href='#' value={{type}}>{{type}}</a></li>\";\n  apItemTemplate = Handlebars.compile(templateItem);\n\n  $.getJSON(url, function(data) {\n    $.each(data.innApartTypes, function() {\n      var itemHtml = apItemTemplate(this);\n      $(\"#comboTipoAp\").append(itemHtml);\n    });\n    $(\"#comboTipoAp\").find('li').on('click', function(e) {\n      $(\"#btnTipoAp\").text($(this).text());\n      if ($(this).text() === \"Duplo Casal\" || $(this).text() === \"Duplo Solteiro\") {\n        $(\".acomp1\").slideDown(\"slow\");\n        $(\".acomp2\").slideUp(\"slow\");\n        $(\".acomp3\").slideUp(\"slow\");\n      }\n      if ($(this).text() === \"Triplo Casal\" || $(this).text() === \"Triplo Solteiro\") {\n        $(\".acomp1\").slideDown(\"slow\");\n        $(\".acomp2\").slideDown(\"slow\");\n        $(\".acomp3\").slideUp(\"slow\");\n      }\n      if ($(this).text() === \"Quádruplo Casal\" || $(this).text() === \"Quádruplo Solteiro\") {\n        $(\".acomp1\").slideDown(\"slow\");\n        $(\".acomp2\").slideDown(\"slow\");\n        $(\".acomp3\").slideDown(\"slow\");\n      }\n      if ($(this).text() === \"Solteiro\") {\n        $(\".acomp1\").slideUp(\"slow\");\n        $(\".acomp2\").slideUp(\"slow\");\n        $(\".acomp3\").slideUp(\"slow\");\n      }\n      $(\"#btnTipoAp\").attr('typeId', $(this).find('a').attr('value'));\n      e.preventDefault();\n    });\n\n    getDiveDates();\n  }).fail(function() {\n    getDiveDates();\n    configTimeout('Não foi possível localizar os tipos de acomodacoes.');\n  });\n};\n\nvar populateGases = function() {\n  var url = 'http://surerussolutions.com/divegold-webservice/gastype',\n    templateItem = \"<li><a href='#' value={{id}}>{{type}}</a></li>\";\n  gasItemTemplate = Handlebars.compile(templateItem);\n\n  $.getJSON(url, function(data) {\n    $.each(data.gasTypes, function() {\n      var itemHtml = gasItemTemplate(this);\n      $(\"#comboGases\").append(itemHtml);\n    });\n    $(\"#comboGases\").find('li').on('click', function(e) {\n      e.preventDefault();\n      $(\"#btnGases\").text($(this).text());\n      $(\"#btnGases\").attr('typeId', $(this).find('a').attr('value'));\n      enabledAddBtn();\n    });\n    populateAparts();\n  }).fail(function() {\n    configTimeout('Não foi possível localizar os tipos de gases.');\n    populateAparts();\n  });\n};\n\nvar populateTanks = function() {\n  var url = 'http://surerussolutions.com/divegold-webservice/tanktype',\n    templateItem = \"<li><a href='#' value={{id}}>{{type}}</a></li>\";\n  tankItemTemplate = Handlebars.compile(templateItem);\n\n  $.getJSON(url, function(data) {\n    $.each(data.tankTypes, function() {\n      var itemHtml = tankItemTemplate(this);\n      $(\"#comboCilindro\").append(itemHtml);\n    });\n    $(\"#comboCilindro\").find('li').on('click', function(e) {\n      e.preventDefault();\n      $('#btnCilindro').text($(this).text());\n      $(\"#btnCilindro\").attr('typeId', $(this).find('a').attr('value'));\n      enabledAddBtn();\n    });\n    populateGases();\n  }).fail(function() {\n    configTimeout('Não foi possível localizar os tipos de cilindros.');\n    populateGases();\n  });\n};\n\nvar populateCombos = function() {\n  $.blockUI({\n    message: 'Carregando informações de cadastro',\n    css: {\n      border: 'none',\n      padding: '15px',\n      backgroundColor: '#000',\n      '-webkit-border-radius': '10px',\n      '-moz-border-radius': '10px',\n      opacity: 0.5,\n      color: '#fff'\n    }\n  });\n\n  var url = 'http://surerussolutions.com/divegold-webservice/divertype',\n    templateItem = \"<li><a href='#' value={{id}}>{{desc}}</a></li>\";\n  dataMergulhoTemplate = Handlebars.compile(templateItem);\n\n  $.getJSON(url, function(data) {\n    $.each(data.diverTypes, function() {\n      var itemHtml = dataMergulhoTemplate(this);\n      $(\"#comboNivelMergulho\").append(itemHtml);\n    });\n    $(\"#comboNivelMergulho\").find('li').on('click', function(e) {\n      e.preventDefault();\n      $(\"#btnNivelMergulho\").text($(this).text());\n    });\n    populateTanks();\n  }).fail(function() {\n    configTimeout('Não foi possível localizar os niveis de mergulhador.');\n    populateTanks();\n  });\n};\n\nvar beforePost = function() {\n  $(\"#formReserva\").submit(function(e) {\n\n    e.preventDefault();\n\n    if (!$('#cpf').val().replace('.', '').replace('-', '').replace('.', '').trim() && !$('#cnpj').val().replace('.', '').replace('-', '').replace('/', '').replace('_', '').replace('.', '').trim()) {\n      configTimeout(\"Favor informar pelo menos o CPF ou CNPJ\");\n      return;\n    }\n\n    if (!$(\"#userName\").val()) {\n      configTimeout(\"O nome é obrigatório\");\n      return;\n    }\n    if (!$(\"#cep\").val() || $(\"#cep\").val().length !== 10) {\n      configTimeout(\"O CEP é obrigatório\");\n      return;\n    }\n    if (!$(\"#cel\").val()) {\n      configTimeout(\"Favor fornecer o número do telefone celular para contato\");\n      return;\n    }\n    if (!$(\"#email\").val()) {\n      configTimeout(\"O campo de email é obrigatório\");\n      return;\n    }\n    if ($(\"#email\").val().indexOf(\"@\") === -1) {\n      configTimeout(\"O email fornecido é inválido\");\n      return;\n    }\n    if ($(\"#btnNivelMergulho\").text() === \"Selecione\") {\n      configTimeout(\"Favor escolher o nível do mergulhador\");\n      return;\n    }\n    if ($('.datasReserva input').length === 0) {\n      configTimeout(\"Favor escolher pelo menos uma data de mergulho\");\n      return;\n    }\n    if ($('.gasTypesRowSet').length === 0) {\n      configTimeout(\"Favor escolher pelo menos um tanque e um gas por data\");\n      return;\n    }\n\n    if ($(\"#checkPousada\").is(':checked')) {\n      if (!$(\"#dataEntrada\").val() || !$(\"#dataSaida\").val()) {\n        configTimeout(\"As datas de entrada e saída da pousada são obrigatórias\");\n        return;\n      }\n      if ($(\"#btnTipoAp\").text() === \"Selecione\") {\n        configTimeout(\"O tipo da acomodação é obrigatório\");\n        return;\n      }\n      if (!$(\"#nomeReserva\").val()) {\n        configTimeout(\"O nome do responsável pela reserva é obrigatório\");\n        return;\n      }\n      if (($(\"#acomp1\").is(\":visible\") && !$(\"#acomp1\").val()) ||\n        ($(\"#acomp2\").is(\":visible\") && !$(\"#acomp2\").val()) ||\n        ($(\"#acomp3\").is(\":visible\") && !$(\"#acomp3\").val())) {\n        configTimeout(\"Os nomes de todos os acompanhantes são obrigatórios\");\n        return;\n      }\n    }\n\n    swal({\n      title: \"Confirmar reserva?\",\n      text: \"Ao clicar em sim, sua reserva será processada.\",\n      type: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"rgb(44, 161, 44)\",\n      confirmButtonText: \"Sim!\"\n    }, function() {\n      sendPostRequest(e);\n    });\n  });\n};\n\nvar sendPostRequest = function(e) {\n\n  var reservation = {};\n  var Form = this;\n\n  $.blockUI({\n    message: 'Processando sua reserva...',\n    css: {\n      border: 'none',\n      padding: '15px',\n      backgroundColor: '#000',\n      '-webkit-border-radius': '10px',\n      '-moz-border-radius': '10px',\n      opacity: 0.5,\n      color: '#fff'\n    }\n  });\n\n  reservation.userInfo = {};\n  reservation.userInfo.name = $(\"#userName\").val();\n  reservation.userInfo.cpf = $(\"#cpf\").val().replace('.', '').replace('-', '').replace('.', '');\n  reservation.userInfo.cnpj = $(\"#cnpj\").val().replace('.', '').replace('-', '').replace('/', '').replace('_', '').replace('.', '');\n  reservation.userInfo.cep = $(\"#cep\").val().replace('.', '').replace('-', '').replace(' ', '');\n  reservation.userInfo.address = $(\"#rua\").val();\n  reservation.userInfo.city = $(\"#cidade\").val();\n  reservation.userInfo.uf = $(\"#uf\").val();\n  reservation.userInfo.number = $(\"#numero\").val();\n  reservation.userInfo.comp = $(\"#comp\").val();\n  reservation.userInfo.region = $(\"#bairro\").val();\n  reservation.userInfo.tel = $(\"#tel\").val().replace('-', '').replace(' ', '').replace('(', '').replace(')', '');\n  reservation.userInfo.cel = $(\"#cel\").val().replace('-', '').replace(' ', '').replace('(', '').replace(')', '');\n  reservation.userInfo.email = $(\"#email\").val();\n  reservation.userInfo.diverType = ($(\"#btnNivelMergulho\").text() !== \"Selecione\") ? $(\"#btnNivelMergulho\").text() : \"\";\n  reservation.diveDates = [];\n  reservation.tankInfo = [];\n  reservation.reservationComments = $(\"#obsReserva\").val();\n  reservation.gearInfo = {};\n  reservation.innInfo = {};\n\n  $.each($('.datasReserva input'), function(i, v) {\n    var item = {};\n\n    item.date = getLongDate($(this).val());\n    reservation.diveDates.push(item);\n  });\n\n  $.each($('.gasTypesRowSet'), function(i, v) {\n    var item = {};\n    item.opId = \"1\";\n    $.each($(this).find('input'), function(i, v) {\n      if ($(this).hasClass('dateSet')) {\n        item[$(this).attr(\"name\")] = getLongDate($(this).val());\n      } else {\n        item[$(this).attr(\"name\")] = $(this).attr(\"typeId\");\n      }\n    });\n    reservation.tankInfo.push(item);\n  });\n\n  reservation.gearInfo.needed = $(\"#checkEquipamentos\").is(':checked');\n\n  if (reservation.gearInfo.needed) {\n    $.each($('.equipment'), function(i, v) {\n      if ($(this).val())\n        reservation.gearInfo[$(this).attr(\"name\")] = $(this).val();\n    });\n  }\n\n  reservation.innInfo.needed = $(\"#checkPousada\").is(':checked');\n  if (reservation.innInfo.needed) {\n    reservation.innInfo.dateIn = getLongDate($(\"#dataEntrada\").val());\n    reservation.innInfo.dateOut = getLongDate($(\"#dataSaida\").val());\n    reservation.innInfo.apType = ($(\"#btnTipoAp\").text() !== \"Selecione\") ? $(\"#btnTipoAp\").text() : \"\";\n    reservation.innInfo.reservationName = $(\"#nomeReserva\").val();\n    reservation.innInfo.guests = [];\n    if ($(\"#acomp1\").val() && $(\"#acomp1\").is(\":visible\")) {\n      var acomp = {};\n\n      acomp.name = $(\"#acomp1\").val();\n      acomp.diver = $(\"#firstDiverYes\").is(\":checked\");\n      reservation.innInfo.guests.push(acomp);\n      if ($(\"#acomp2\").val() && $(\"#acomp2\").is(\":visible\")) {\n        acomp.name = $(\"#acomp2\").val();\n        acomp.diver = $(\"#secondDiverYes\").is(\":checked\");\n        reservation.innInfo.guests.push(acomp);\n        if ($(\"#acomp3\").val() && $(\"#acomp3\").is(\":visible\")) {\n          acomp.name = $(\"#acomp3\").val();\n          acomp.diver = $(\"#thirdDiverYes\").is(\":checked\");\n          reservation.innInfo.guests.push(acomp);\n        }\n      }\n    }\n    reservation.innInfo.comments = $(\"#observacoes\").val();\n\n  }\n  console.log(JSON.stringify(reservation));\n  $.ajax({\n    cache: false,\n    url: \"http://surerussolutions.com/divegold-webservice/reservation/add\",\n    type: \"POST\",\n    dataType: \"json\",\n    data: JSON.stringify(reservation),\n    context: Form,\n    success: function(callback) {\n      //console.log(JSON.parse(callback));\n      $.unblockUI();\n      sweetAlert('Solicitação de reserva realizada com sucesso!', 'Você receberá um email com o resumo da sua solicitação. Lembramos que sua reserva ainda não está confirmada e está sujeita à disponibilidade. Você receberá outro email quando sua reserva forma confirmada pela DIVEGOLD', 'success');\n      $('.center').html(\"<div class='text-center'><img src='https://s3-sa-east-1.amazonaws.com/felipemedia/divegold_logo.png' width='35' height='35' alt='DiveGold Logo'>Reserva efetuada com sucesso!</div>\");\n    },\n    error: function() {\n      configTimeout(\"Ocorreu um erro ao enviar a reserva.\");\n    }\n  });\n};\n\nvar initEvents = function() {\n  var checkEquipamentos = $(\"#checkEquipamentos\"),\n    checkPousada = $(\"#checkPousada\"),\n    btnAddDate = $(\".btnAddDate\"),\n    dataMergulhoDP = $(\"#dataMergulho\"),\n    dataEntradaDP = $(\"#dataEntrada\"),\n    dataSaidaDP = $(\"#dataSaida\"),\n    comboNivelMergulho = $(\"#comboNivelMergulho\"),\n    btnNivelMergulho = $(\"#btnNivelMergulho\"),\n    comboTipoAp = $(\"#comboTipoAp\"),\n    btnTipoAp = $(\"#btnTipoAp\"),\n    comboDatas = $(\"#comboDatas\"),\n    comboDatasFim = $(\"#comboDatasFim\"),\n    btnDatas = $(\"#btnDatas\"),\n    btnDatasFim = $(\"#btnDatasFim\"),\n    divEquipamentos = $(\"#equipamentos\"),\n    divPousada = $(\"#pousada\"),\n    cep = $(\"#cep\"),\n    btnAddTanque = $(\".btnAddTanque\"),\n    btnCilindro = $(\"btnCilindro\"),\n    btnGases = $(\"btnGases\"),\n    btnRemoveDate = $(\".btnRemoveDate\"),\n    self = this;\n\n  applyMasks();\n\n  $(\"#uf\").blur(function() {\n    applyPhoneMask($(this));\n  });\n\n  $(\"#cpfRadio\").click(function(e) {\n    if ($(\"#firstAccess\").text() === \"true\") {\n      $(\"#cpf\").removeAttr('disabled', '');\n      $(\"#cnpj\").attr('disabled', '');\n      $(\"#cnpj\").val('');\n      $(\"#cpf\").focus();\n      $(\"#firstAccess\").text(\"false\");\n    } else {\n      var r = confirm(\"Tem certeza que deseja alterar o tipo do cadastro?\");\n      if (r === true) {\n        clearUserInfo();\n        $(\"#cpf\").removeAttr('disabled', '');\n        $(\"#cnpj\").attr('disabled', '');\n        $(\"#cnpj\").val('');\n        $(\"#cpf\").focus();\n      } else {\n        e.preventDefault();\n      }\n    }\n\n  });\n\n  $(\"#cnpjRadio\").click(function(e) {\n    var r = confirm(\"Tem certeza que deseja alterar o tipo do cadastro?\");\n    if (r === true) {\n      clearUserInfo();\n      $(\"#cnpj\").removeAttr('disabled', '');\n      $(\"#cpf\").attr('disabled', '');\n      $(\"#cpf\").val('');\n      $(\"#cnpj\").focus();\n    } else {\n      e.preventDefault();\n    }\n  });\n\n  $(\"#cpfRadio\").click();\n\n  btnAddDate.click(function(e) {\n\n    if ($('#dataMergulho').val().indexOf('/') === -1) {\n      configTimeout(\"Data de mergulho inválida\");\n      return;\n    }\n\n    var template1 = \"<div class='form-group row'><label class='col-md-1 col-xs-2 control-label'></label><div class='col-md-3 col-xs-6'><input id='dataMergulho' type='text' name='regular' class='form-control' value='{{date}}' disabled></div><div class='col-md-1 col-xs-1 btnRemoveDate'><button type='button' class='btn btn-danger btn-raised btn-xs'><span class='glyphicon glyphicon-remove-sign'></span> Remover</button></div></div>\";\n    var template2 = \"<li><a href='#' value={{date}}>{{date}}</a></li>\";\n\n    var dataMergulhoTemplate = Handlebars.compile(template1);\n    var gasTanqueRowTemplate = Handlebars.compile(template2);\n\n    var diveDate,\n      dateHtml,\n      dpDate = dataMergulhoDP.val();\n\n    if (dpDate && \"\" !== dpDate) {\n      dataMergulhoDP.val(\"\");\n      diveDate = {\n        \"date\": dpDate\n      };\n      dateHtml = dataMergulhoTemplate(diveDate);\n      var gasTanqueHtml = gasTanqueRowTemplate(diveDate);\n      if (gasTanqueHtml) {\n        if (!comboDatas.find(\"[value='\" + dpDate + \"']\").length) {\n          $(\".datasReserva\").append(dateHtml);\n          comboDatas.append(gasTanqueHtml);\n          comboDatasFim.append(gasTanqueHtml);\n          comboDatas.find('a').on('click', function(e) {\n            e.preventDefault();\n            btnDatas.text($(this).text());\n            enabledAddBtn();\n          });\n          comboDatasFim.find('a').on('click', function(e) {\n            e.preventDefault();\n            btnDatasFim.text($(this).text());\n          });\n        }\n      }\n      if (dateHtml) {\n        $(\".btnRemoveDate\").last().click(function(e) {\n          e.preventDefault();\n          $(this).parent().slideUp(300, function() {\n            $(this).remove();\n          });\n\n          $(\".dateSet[value='\" + dpDate + \"']\").parents(\".gasTypesRowSet\").slideUp(300, function() {\n            $(this).remove();\n          });\n\n          comboDatas.find(\"[value='\" + dpDate + \"']\").parent().remove();\n          comboDatasFim.find(\"[value='\" + dpDate + \"']\").parent().remove();\n\n          btnDatas.text(\"Selecione\");\n          btnDatasFim.text(\"Selecione\");\n          $('#btnCilindro').text(\"Selecione\");\n          $(\"#btnGases\").text(\"Selecione\");\n\n          if (!comboDatas.find(\"[value='\" + dpDate + \"']\").length) {\n            btnAddTanque.attr('disabled', '');\n          }\n\n        });\n      }\n\n    }\n  });\n\n  btnAddTanque.click(function(e) {\n    var template = \"<div class='form-group row gasTypesRowSet well'><div class='row bottom'><label class='col-md-2 col-xs-12 control-label'>Data inicial de uso</label><div class='col-md-2 col-xs-11'><input type='text' name='diveDateIn' class='form-control dateSet' value='{{date}}' disabled></div><label class='col-md-2  col-xs-12 control-label'>Cilindro</label><div class='col-md-2 col-xs-11'><input type='text' name='tankType' typeId='{{cilindroId}}' class='form-control' value='{{cilindro}}' disabled></div></div><div class='row bottom'><label class='col-md-2 col-xs-12 control-label'>Data final de uso</label><div class='col-md-2 col-xs-11'><input type='text' name='diveDateOut' class='form-control dateSet' value='{{dateFim}}' disabled></div><label class='col-md-2 col-xs-12 control-label'>Gases</label><div class='col-md-2  col-xs-11'><input type='text' name='gasType' class='form-control' typeId='{{gasId}}' value='{{gas}}' disabled></div><div class='col-md-1 col-xs-12 divRemoveTank'><button type='button' class='btn btn-danger btn-raised btnRemoveTanque btn-xs btn-fab mdi-navigation-close'></button></div></div></div>\";\n    var gasTanqueSet = Handlebars.compile(template);\n    var setHtml,\n      setDate = $('#btnDatas').text(),\n      setDateFim = $('#btnDatasFim').text(),\n      setCilindro = $('#btnCilindro').text(),\n      cilindroId = $('#btnCilindro').attr('typeId'),\n      setGas = $('#btnGases').text(),\n      gasId = $('#btnGases').attr('typeId');\n\n    if (setDateFim === \"Selecione\") {\n      setDateFim = \"\";\n    }\n\n    setHtml = gasTanqueSet({\n      \"date\": setDate,\n      \"dateFim\": setDateFim,\n      \"cilindro\": setCilindro,\n      \"gas\": setGas,\n      \"cilindroId\": cilindroId,\n      \"gasId\": gasId\n    });\n\n    $(\".gasTypesRowDates\").append(setHtml);\n    $(\".btnRemoveTanque\").last().click(function(e) {\n      e.preventDefault();\n      $(this).parents('.gasTypesRowSet').slideUp(300, function() {\n        $(this).remove();\n      });\n    });\n    btnDatas.text(\"Selecione\");\n    btnDatasFim.text(\"Selecione\");\n    $('#btnCilindro').text(\"Selecione\");\n    $(\"#btnGases\").text(\"Selecione\");\n    btnAddTanque.attr('disabled', '');\n  });\n  //{ beforeShowDay: available }\n\n  getAvailableDates();\n\n  dataEntradaDP.datepicker({\n    dateFormat: 'dd/mm/yy',\n    dayNames: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'],\n    dayNamesMin: ['D', 'S', 'T', 'Q', 'Q', 'S', 'S', 'D'],\n    dayNamesShort: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb', 'Dom'],\n    monthNames: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],\n    monthNamesShort: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],\n    nextText: 'Próximo',\n    prevText: 'Anterior',\n    minDate: 0\n  });\n\n  dataSaidaDP.datepicker({\n    dateFormat: 'dd/mm/yy',\n    dayNames: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'],\n    dayNamesMin: ['D', 'S', 'T', 'Q', 'Q', 'S', 'S', 'D'],\n    dayNamesShort: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb', 'Dom'],\n    monthNames: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],\n    monthNamesShort: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],\n    nextText: 'Próximo',\n    prevText: 'Anterior',\n    minDate: 0,\n    beforeShow: customRange\n  });\n\n  function customRange(input) {\n\n    if (input.id == 'dataSaida' && \"\" !== $(\"#dataEntrada\").val()) {\n      var enterDate = $(\"#dataEntrada\").val();\n      var dateArray = enterDate.split(\"/\");\n      enterDate = dateArray[1] + '-' + dateArray[0] + '-' + dateArray[2];\n      var minDate = new Date(enterDate);\n      minDate.setDate(minDate.getDate() + 1);\n\n      return {\n        minDate: minDate\n      };\n    } else {\n      return {\n        minDate: 0\n      };\n    }\n  }\n\n  $.each($('.datasReserva input'), function(i, v) {\n    diveDates.push($(this).val());\n  });\n\n  divEquipamentos.hide();\n  divPousada.hide();\n\n  checkEquipamentos.change(function(e) {\n    e.preventDefault();\n    if ($(this).prop(\"checked\")) {\n      divEquipamentos.slideDown(\"slow\");\n    } else {\n      $.each($('.equipment'), function(i, v) {\n        $(this).val(\"\");\n      });\n      divEquipamentos.slideUp(\"slow\");\n    }\n  });\n\n  checkPousada.change(function(e) {\n    e.preventDefault();\n    if ($(this).prop(\"checked\")) {\n      divPousada.slideDown(\"slow\");\n    } else {\n      divPousada.slideUp(\"slow\");\n    }\n  });\n\n  cep.blur(function() {\n    var cepValue = $(this).val().replace('.', '').replace('-', '');\n\n    if (cepValue) {\n      var url = 'http://cep.correiocontrol.com.br/' + cepValue + '.json';\n\n      $.getJSON(url, function(data) {\n        $(\"#rua\").val(data.logradouro);\n        $(\"#bairro\").val(data.bairro);\n        $(\"#cidade\").val(data.localidade);\n        $(\"#uf\").val(data.uf);\n        self.applyPhoneMask($(\"#uf\"));\n      }).fail(function() {\n        console.log('CEP inexistente');\n      });\n    }\n  });\n\n  function populateUserInfo(data) {\n    //{\"client\":{\"name\":\"Felipe Roris Surerus\",\"cpf\":\"07000915641\",\"cnpj\":\"\",\"cep\":\"30240080\",\"address\":\"Rua Cabralia\",\"city\":\"BH\",\"uf\":\"MG\",\"num\":\"156\",\"comp\":\"102\",\"tel\":\"99999999\",\"cel\":\"999988889\",\"email\":\"fsurerus2@gmail.com\",\"diverType\":{\"desc\":\"Intro-to-Cave\"}}}\n    if (!data.userInfo) {\n      return;\n    }\n\n    $(\"#userName\").val(data.userInfo.name);\n    $(\"#cep\").val(data.userInfo.cep);\n    $(\"#rua\").val(data.userInfo.address);\n    $(\"#numero\").val(data.userInfo.number);\n    $(\"#comp\").val(data.userInfo.comp);\n    $(\"#bairro\").val(data.userInfo.region);\n    $(\"#cidade\").val(data.userInfo.city);\n    $(\"#uf\").val(data.userInfo.uf);\n    $(\"#tel\").val(data.userInfo.tel);\n    $(\"#cel\").val(data.userInfo.cel);\n    $(\"#email\").val(data.userInfo.email);\n    $(\"#btnNivelMergulho\").text(data.userInfo.diverType.desc);\n\n    $(\"#cep\").mask(\"99.999-999\", {\n      placeholder: \" \",\n      clearOnLostFocus: false\n    });\n    $(\"#uf\").mask(\"aa\", {\n      placeholder: \" \",\n      clearOnLostFocus: false\n    });\n    var estados = [\"SP\", \"RJ\", \"ES\", \"AM\", \"PA\", \"MA\", \"RR\", \"AP\"];\n    if ($(\"#uf\").val() && estados.indexOf($(\"#uf\").val()) > -1) {\n      $(\".cel\").mask(\"(99) 99999-9999\", {\n        clearOnLostFocus: false\n      });\n    } else {\n      $(\".cel\").mask(\"(99) 9999-9999\", {\n        clearOnLostFocus: false\n      });\n    }\n\n  }\n\n  $(\"#cpf\").blur(function() {\n    var cpfValue = $(this).val().replace('.', '').replace('-', '').replace('.', '');\n\n    if (cpfValue) {\n      var url = 'http://surerussolutions.com/divegold-webservice/client/type=0&value=' + cpfValue + '/';\n      $.getJSON(url, function(data) {\n        populateUserInfo(data);\n      }).fail(function() {\n        console.log('CPF sem dados cadastrais');\n      });\n    }\n  });\n\n  $(\"#cnpj\").blur(function() {\n    var cnpjValue = $(this).val().replace('.', '').replace('-', '').replace('/', '').replace('_', '').replace('.', '');\n\n    if (cnpjValue) {\n      var url = 'http://surerussolutions.com/divegold-webservice/client/type=1&value=' + cnpjValue + '/';\n      $.getJSON(url, function(data) {\n        populateUserInfo(data);\n      }).fail(function() {\n        console.log('CNPJ sem dados cadastrais');\n      });\n    }\n  });\n\n  //ativar tooltips\n  $('[data-toggle=\"tooltip\"]').tooltip();\n\n  populateCombos();\n  beforePost();\n};\n\n$(document).ready(function() {\n  if (window.location.href.indexOf(\"/reserva\") !== -1) {\n    var datelist = [],\n      diveDates = [];\n    initEvents();\n  }\n});\n"]}